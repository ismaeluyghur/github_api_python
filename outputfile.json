[{"url":"https://api.github.com/repos/facebook/react/issues/21270","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21270/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21270/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21270/events","html_url":"https://github.com/facebook/react/pull/21270","id":858138456,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE1NDQ0MDA5","number":21270,"title":"[Fizz] Fix reentrancy bug","user":{"login":"sebmarkbage","id":63648,"node_id":"MDQ6VXNlcjYzNjQ4","avatar_url":"https://avatars.githubusercontent.com/u/63648?v=4","gravatar_id":"","url":"https://api.github.com/users/sebmarkbage","html_url":"https://github.com/sebmarkbage","followers_url":"https://api.github.com/users/sebmarkbage/followers","following_url":"https://api.github.com/users/sebmarkbage/following{/other_user}","gists_url":"https://api.github.com/users/sebmarkbage/gists{/gist_id}","starred_url":"https://api.github.com/users/sebmarkbage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebmarkbage/subscriptions","organizations_url":"https://api.github.com/users/sebmarkbage/orgs","repos_url":"https://api.github.com/users/sebmarkbage/repos","events_url":"https://api.github.com/users/sebmarkbage/events{/privacy}","received_events_url":"https://api.github.com/users/sebmarkbage/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-14T18:00:18Z","updated_at":"2021-04-14T18:21:16Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21270","html_url":"https://github.com/facebook/react/pull/21270","diff_url":"https://github.com/facebook/react/pull/21270.diff","patch_url":"https://github.com/facebook/react/pull/21270.patch"},"body":"This one is subtle but what happens is that if we finish a boundary, we can cancel the pending fallback, that can complete the root which can trigger user code which can force flushing which can then set the \"parentFlushed\" flags to something we didn't expect.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21267","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21267/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21267/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21267/events","html_url":"https://github.com/facebook/react/pull/21267","id":858119873,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE1NDI3NDcz","number":21267,"title":"Fix DevTools test target","user":{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-14T17:42:38Z","updated_at":"2021-04-14T18:05:34Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21267","html_url":"https://github.com/facebook/react/pull/21267","diff_url":"https://github.com/facebook/react/pull/21267.diff","patch_url":"https://github.com/facebook/react/pull/21267.patch"},"body":"This regressed in #21238 so that `yarn test-build-devtools` no longer ran.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21263","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21263/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21263/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21263/events","html_url":"https://github.com/facebook/react/issues/21263","id":857692289,"node_id":"MDU6SXNzdWU4NTc2OTIyODk=","number":21263,"title":"Discussion: useTransition does not perform well in certain scenarios","user":{"login":"careyke","id":31249072,"node_id":"MDQ6VXNlcjMxMjQ5MDcy","avatar_url":"https://avatars.githubusercontent.com/u/31249072?v=4","gravatar_id":"","url":"https://api.github.com/users/careyke","html_url":"https://github.com/careyke","followers_url":"https://api.github.com/users/careyke/followers","following_url":"https://api.github.com/users/careyke/following{/other_user}","gists_url":"https://api.github.com/users/careyke/gists{/gist_id}","starred_url":"https://api.github.com/users/careyke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/careyke/subscriptions","organizations_url":"https://api.github.com/users/careyke/orgs","repos_url":"https://api.github.com/users/careyke/repos","events_url":"https://api.github.com/users/careyke/events{/privacy}","received_events_url":"https://api.github.com/users/careyke/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-14T09:10:07Z","updated_at":"2021-04-14T09:10:07Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: 0.0.0-experimental-4ead6b530\r\n\r\n# useTransition use in switch tabs\r\nIn this case, useTransition performs well. \r\n\r\n## Steps To Reproduce\r\n\r\n1. click the button\r\n\r\n<!--\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\nLink to code example:https://codesandbox.io/s/usetransition-switchtab-7xgxi?file=/src/App.js\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\n## The current behavior\r\nwhen the lazy features is wrapped by <Suspense>, switch the tab, the transition time does not include the request time of the lazy features\r\n\r\n## The expected behavior\r\nwhen the lazy features is wrapped by <Suspense>, switch the tab, the transition time does not include the request time of the lazy features\r\n\r\n# useTransition use in switch API\r\nIn this case, useTransition does not  performs well. \r\n\r\n## Steps To Reproduce\r\n\r\n1. click the button\r\n\r\nLink to code example:https://codesandbox.io/s/usetransition-switchapi-ficp5?file=/src/App.js\r\n\r\n## The current behavior\r\nwhen the lazy features is wrapped by <Suspense>, switch the tab, the transition time  includes the request time of the lazy features\r\n\r\n## The expected behavior\r\nwhen the lazy features is wrapped by <Suspense>, switch the tab, the transition time does not include the request time of the lazy features. I think it should perform same as above\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21261","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21261/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21261/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21261/events","html_url":"https://github.com/facebook/react/pull/21261","id":857491188,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE0OTAxMjY4","number":21261,"title":"[Fizz] Add unsupported Portal/Scope components","user":{"login":"sebmarkbage","id":63648,"node_id":"MDQ6VXNlcjYzNjQ4","avatar_url":"https://avatars.githubusercontent.com/u/63648?v=4","gravatar_id":"","url":"https://api.github.com/users/sebmarkbage","html_url":"https://github.com/sebmarkbage","followers_url":"https://api.github.com/users/sebmarkbage/followers","following_url":"https://api.github.com/users/sebmarkbage/following{/other_user}","gists_url":"https://api.github.com/users/sebmarkbage/gists{/gist_id}","starred_url":"https://api.github.com/users/sebmarkbage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebmarkbage/subscriptions","organizations_url":"https://api.github.com/users/sebmarkbage/orgs","repos_url":"https://api.github.com/users/sebmarkbage/repos","events_url":"https://api.github.com/users/sebmarkbage/events{/privacy}","received_events_url":"https://api.github.com/users/sebmarkbage/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-14T03:40:01Z","updated_at":"2021-04-14T18:27:02Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21261","html_url":"https://github.com/facebook/react/pull/21261","diff_url":"https://github.com/facebook/react/pull/21261.diff","patch_url":"https://github.com/facebook/react/pull/21261.patch"},"body":"Builds on https://github.com/facebook/react/pull/21257.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21260","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21260/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21260/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21260/events","html_url":"https://github.com/facebook/react/pull/21260","id":857486432,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE0ODk3MzU5","number":21260,"title":"[Fizz] Implement useOpaqueIdentifier","user":{"login":"sebmarkbage","id":63648,"node_id":"MDQ6VXNlcjYzNjQ4","avatar_url":"https://avatars.githubusercontent.com/u/63648?v=4","gravatar_id":"","url":"https://api.github.com/users/sebmarkbage","html_url":"https://github.com/sebmarkbage","followers_url":"https://api.github.com/users/sebmarkbage/followers","following_url":"https://api.github.com/users/sebmarkbage/following{/other_user}","gists_url":"https://api.github.com/users/sebmarkbage/gists{/gist_id}","starred_url":"https://api.github.com/users/sebmarkbage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebmarkbage/subscriptions","organizations_url":"https://api.github.com/users/sebmarkbage/orgs","repos_url":"https://api.github.com/users/sebmarkbage/repos","events_url":"https://api.github.com/users/sebmarkbage/events{/privacy}","received_events_url":"https://api.github.com/users/sebmarkbage/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-14T03:27:00Z","updated_at":"2021-04-14T18:26:27Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21260","html_url":"https://github.com/facebook/react/pull/21260","diff_url":"https://github.com/facebook/react/pull/21260.diff","patch_url":"https://github.com/facebook/react/pull/21260.patch"},"body":"Builds on top of #21257.\r\n\r\nThe format of useOpaqueIdentifier varies between formats.\r\n\r\nWe need to track the responseState so that we know which one currently applies to the currently rendering component.\r\n\r\nThis should ideally be deterministic. Right now it's not, because it's created during render. This means that depending on which order things unsuspend, you get different resulting HTML.\r\n\r\nThis implements a naive number incrementation for React Native. RN doesn't have a concept of these IDs yet but it could probably use some special encoding in the protocol instead to create native IDs.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21258","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21258/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21258/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21258/events","html_url":"https://github.com/facebook/react/issues/21258","id":857472705,"node_id":"MDU6SXNzdWU4NTc0NzI3MDU=","number":21258,"title":"Error: \"Cannot read property 'isCollapsed' of undefined\"","user":{"login":"mrkev","id":1285131,"node_id":"MDQ6VXNlcjEyODUxMzE=","avatar_url":"https://avatars.githubusercontent.com/u/1285131?v=4","gravatar_id":"","url":"https://api.github.com/users/mrkev","html_url":"https://github.com/mrkev","followers_url":"https://api.github.com/users/mrkev/followers","following_url":"https://api.github.com/users/mrkev/following{/other_user}","gists_url":"https://api.github.com/users/mrkev/gists{/gist_id}","starred_url":"https://api.github.com/users/mrkev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrkev/subscriptions","organizations_url":"https://api.github.com/users/mrkev/orgs","repos_url":"https://api.github.com/users/mrkev/repos","events_url":"https://api.github.com/users/mrkev/events{/privacy}","received_events_url":"https://api.github.com/users/mrkev/received_events","type":"User","site_admin":false},"labels":[{"id":710573595,"node_id":"MDU6TGFiZWw3MTA1NzM1OTU=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools","name":"Component: Developer Tools","color":"fbca04","default":false,"description":null},{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-04-14T02:51:57Z","updated_at":"2021-04-14T13:01:15Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Describe what you were doing when the bug occurred:\r\n1. Refresh the page I'm inspecting.\r\n2. Notice two warnings in the errors and warnings section, like so: \r\n<img width=\"196\" alt=\"Screen Shot 2021-04-13 at 7 44 32 PM\" src=\"https://user-images.githubusercontent.com/1285131/114647125-65f9e900-9c91-11eb-8412-c7807a1c7063.png\">\r\n3. Click any arrow, either the one going up or the one going down, to view one of them. The tools crash.\r\n\r\nIf I restart the tools, things work smoothly again. I also don't see the warnings anymore.\r\n\r\n---------------------------------------------\r\nPlease do not remove the text below this line\r\n---------------------------------------------\r\n\r\nDevTools version: 4.11.0-39713716aa\r\n\r\nCall stack: at store_Store.getIndexOfElementID (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:22245:24)\r\n    at getCurrentValue (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:29244:29)\r\n    at useSubscription (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:25874:12)\r\n    at SelectedTreeHighlight_SelectedTreeHighlight (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:29268:16)\r\n    at Rh (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:13245:7)\r\n    at Ci (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:13944:7)\r\n    at uk (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:16725:86)\r\n    at tk (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:16245:11)\r\n    at qk (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:16237:23)\r\n    at jk (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:16221:5)\r\n\r\nComponent stack: at SelectedTreeHighlight_SelectedTreeHighlight (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:29213:34)\r\n    at div\r\n    at InnerElementType (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:29953:3)\r\n    at div\r\n    at List (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:23588:30)\r\n    at div\r\n    at AutoSizer (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:3111:5)\r\n    at div\r\n    at div\r\n    at Tree_Tree (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:29531:47)\r\n    at div\r\n    at div\r\n    at OwnersListContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:28680:3)\r\n    at SettingsModalContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:29121:3)\r\n    at Components_Components (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:34645:52)\r\n    at ErrorBoundary_ErrorBoundary (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:30035:5)\r\n    at PortaledContent (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:30157:5)\r\n    at div\r\n    at div\r\n    at ProfilerContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:34264:3)\r\n    at TreeContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:25356:3)\r\n    at SettingsContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:25963:3)\r\n    at ModalDialogContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:30300:3)\r\n    at DevTools_DevTools (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:37639:3)","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21257","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21257/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21257/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21257/events","html_url":"https://github.com/facebook/react/pull/21257","id":857459287,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE0ODc1NTA3","number":21257,"title":"[Fizz] Implement Hooks","user":{"login":"sebmarkbage","id":63648,"node_id":"MDQ6VXNlcjYzNjQ4","avatar_url":"https://avatars.githubusercontent.com/u/63648?v=4","gravatar_id":"","url":"https://api.github.com/users/sebmarkbage","html_url":"https://github.com/sebmarkbage","followers_url":"https://api.github.com/users/sebmarkbage/followers","following_url":"https://api.github.com/users/sebmarkbage/following{/other_user}","gists_url":"https://api.github.com/users/sebmarkbage/gists{/gist_id}","starred_url":"https://api.github.com/users/sebmarkbage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebmarkbage/subscriptions","organizations_url":"https://api.github.com/users/sebmarkbage/orgs","repos_url":"https://api.github.com/users/sebmarkbage/repos","events_url":"https://api.github.com/users/sebmarkbage/events{/privacy}","received_events_url":"https://api.github.com/users/sebmarkbage/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-14T02:23:02Z","updated_at":"2021-04-14T18:25:21Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21257","html_url":"https://github.com/facebook/react/pull/21257","diff_url":"https://github.com/facebook/react/pull/21257.diff","patch_url":"https://github.com/facebook/react/pull/21257.patch"},"body":"Builds on top of https://github.com/facebook/react/pull/21255.\r\n\r\nThis is basically just a copy-paste of ReactPartialRendererHooks. I also implemented forwardRef which also uses renderWithHooks (and useMemo). It doesn't include useOpaqueIdentifier yet.\r\n\r\nThe memo and multi-pass render semantics are very unfortunate. We probably should do something about that sooner rather than later. Maybe by adding more error states to DEV mode and maybe finding ways to detect special cases and running additional render passes only during those.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21256","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21256/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21256/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21256/events","html_url":"https://github.com/facebook/react/issues/21256","id":857351418,"node_id":"MDU6SXNzdWU4NTczNTE0MTg=","number":21256,"title":"eslint-plugin-react-hooks should flag uses of createRef in function components","user":{"login":"danvk","id":98301,"node_id":"MDQ6VXNlcjk4MzAx","avatar_url":"https://avatars.githubusercontent.com/u/98301?v=4","gravatar_id":"","url":"https://api.github.com/users/danvk","html_url":"https://github.com/danvk","followers_url":"https://api.github.com/users/danvk/followers","following_url":"https://api.github.com/users/danvk/following{/other_user}","gists_url":"https://api.github.com/users/danvk/gists{/gist_id}","starred_url":"https://api.github.com/users/danvk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danvk/subscriptions","organizations_url":"https://api.github.com/users/danvk/orgs","repos_url":"https://api.github.com/users/danvk/repos","events_url":"https://api.github.com/users/danvk/events{/privacy}","received_events_url":"https://api.github.com/users/danvk/received_events","type":"User","site_admin":false},"labels":[{"id":1249821345,"node_id":"MDU6TGFiZWwxMjQ5ODIxMzQ1","url":"https://api.github.com/repos/facebook/react/labels/Component:%20ESLint%20Rules","name":"Component: ESLint Rules","color":"f7afdb","default":false,"description":""},{"id":710375792,"node_id":"MDU6TGFiZWw3MTAzNzU3OTI=","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Discussion","name":"Type: Discussion","color":"fef2c0","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-04-13T21:55:29Z","updated_at":"2021-04-13T23:46:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nUsing `createRef` in a function component is almost certainly a mistake. You probably want `useRef` instead. This can easily lead to confusing bugs. See, for example, [this popular Stack Overflow question][1].\r\n\r\nBanning `createRef` outright would yield false positives on class components. I suggested adding a rule to flag this specifically in function components to eslint-plugin-react (https://github.com/yannickcr/eslint-plugin-react/issues/2966) but they suggested that I file an issue over here instead.\r\n\r\nReact version: react@16.13.1\r\n\r\n## Steps To Reproduce\r\n\r\n1. Set up eslint-plugin-react-hooks and create a function component that uses `React.createRef`.\r\n2. No complaints.\r\n\r\n<!--\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\nLink to code example: https://codesandbox.io/s/cool-volhard-9zj0s\r\n\r\n```ts\r\nexport default function App() {\r\n  const ref = React.createRef(0);\r\n  // Change to this to make the example work as intended:\r\n  // const ref = React.useRef(0);\r\n  const [, update] = React.useState(0);\r\n\r\n  const handleClick = () => {\r\n    ref.current += 1;\r\n    update((n) => n + 1);\r\n  };\r\n  React.useEffect(() => {\r\n    ref.current = 0;\r\n  }, [ref]);\r\n\r\n  return (\r\n    <div className=\"App\" ref={ref}>\r\n      <h1>Hello CodeSandbox</h1>\r\n      <h2>Value is {ref.current}</h2>\r\n      <button onClick={handleClick}>Click Me</button>\r\n    </div>\r\n  );\r\n}\r\n```\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\n## The current behavior\r\n\r\neslint-plugin-react-hooks does not report an issue.\r\n\r\n## The expected behavior\r\n\r\neslint-plugin-react-hooks should report an issue, namely that the `createRef` should be `useRef`.\r\n\r\n[1]: https://stackoverflow.com/questions/54620698/whats-the-difference-between-useref-and-createref/54620836#54620836","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21250","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21250/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21250/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21250/events","html_url":"https://github.com/facebook/react/pull/21250","id":857077615,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE0NTU3OTE2","number":21250,"title":"Only hide outermost host nodes when Offscreen is hidden","user":{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":{"login":"rickhanlonii","id":2440089,"node_id":"MDQ6VXNlcjI0NDAwODk=","avatar_url":"https://avatars.githubusercontent.com/u/2440089?v=4","gravatar_id":"","url":"https://api.github.com/users/rickhanlonii","html_url":"https://github.com/rickhanlonii","followers_url":"https://api.github.com/users/rickhanlonii/followers","following_url":"https://api.github.com/users/rickhanlonii/following{/other_user}","gists_url":"https://api.github.com/users/rickhanlonii/gists{/gist_id}","starred_url":"https://api.github.com/users/rickhanlonii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickhanlonii/subscriptions","organizations_url":"https://api.github.com/users/rickhanlonii/orgs","repos_url":"https://api.github.com/users/rickhanlonii/repos","events_url":"https://api.github.com/users/rickhanlonii/events{/privacy}","received_events_url":"https://api.github.com/users/rickhanlonii/received_events","type":"User","site_admin":false},"assignees":[{"login":"rickhanlonii","id":2440089,"node_id":"MDQ6VXNlcjI0NDAwODk=","avatar_url":"https://avatars.githubusercontent.com/u/2440089?v=4","gravatar_id":"","url":"https://api.github.com/users/rickhanlonii","html_url":"https://github.com/rickhanlonii","followers_url":"https://api.github.com/users/rickhanlonii/followers","following_url":"https://api.github.com/users/rickhanlonii/following{/other_user}","gists_url":"https://api.github.com/users/rickhanlonii/gists{/gist_id}","starred_url":"https://api.github.com/users/rickhanlonii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickhanlonii/subscriptions","organizations_url":"https://api.github.com/users/rickhanlonii/orgs","repos_url":"https://api.github.com/users/rickhanlonii/repos","events_url":"https://api.github.com/users/rickhanlonii/events{/privacy}","received_events_url":"https://api.github.com/users/rickhanlonii/received_events","type":"User","site_admin":false},{"login":"acdlite","id":3624098,"node_id":"MDQ6VXNlcjM2MjQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3624098?v=4","gravatar_id":"","url":"https://api.github.com/users/acdlite","html_url":"https://github.com/acdlite","followers_url":"https://api.github.com/users/acdlite/followers","following_url":"https://api.github.com/users/acdlite/following{/other_user}","gists_url":"https://api.github.com/users/acdlite/gists{/gist_id}","starred_url":"https://api.github.com/users/acdlite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acdlite/subscriptions","organizations_url":"https://api.github.com/users/acdlite/orgs","repos_url":"https://api.github.com/users/acdlite/repos","events_url":"https://api.github.com/users/acdlite/events{/privacy}","received_events_url":"https://api.github.com/users/acdlite/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2021-04-13T15:28:59Z","updated_at":"2021-04-13T15:37:45Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21250","html_url":"https://github.com/facebook/react/pull/21250","diff_url":"https://github.com/facebook/react/pull/21250.diff","patch_url":"https://github.com/facebook/react/pull/21250.patch"},"body":"Follow-up to https://github.com/facebook/react/pull/21079\r\n\r\nIf there's a hidden Offscreen (or Suspense) subtree containing nested host nodes, we only need to hide the outermost one, e.g. before this change:\r\n```\r\n<Offscreen hidden>\r\n  <div hidden>\r\n    <div hidden>\r\n    [no text]\r\n```\r\nAfter this change:\r\n```\r\n<Offscreen hidden>\r\n  <div hidden>\r\n    <div>\r\n    [text]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21249","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21249/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21249/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21249/events","html_url":"https://github.com/facebook/react/pull/21249","id":857053949,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE0NTM3NjQ2","number":21249,"title":"Remove LayoutStatic check from commit phase","user":{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":{"login":"rickhanlonii","id":2440089,"node_id":"MDQ6VXNlcjI0NDAwODk=","avatar_url":"https://avatars.githubusercontent.com/u/2440089?v=4","gravatar_id":"","url":"https://api.github.com/users/rickhanlonii","html_url":"https://github.com/rickhanlonii","followers_url":"https://api.github.com/users/rickhanlonii/followers","following_url":"https://api.github.com/users/rickhanlonii/following{/other_user}","gists_url":"https://api.github.com/users/rickhanlonii/gists{/gist_id}","starred_url":"https://api.github.com/users/rickhanlonii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickhanlonii/subscriptions","organizations_url":"https://api.github.com/users/rickhanlonii/orgs","repos_url":"https://api.github.com/users/rickhanlonii/repos","events_url":"https://api.github.com/users/rickhanlonii/events{/privacy}","received_events_url":"https://api.github.com/users/rickhanlonii/received_events","type":"User","site_admin":false},"assignees":[{"login":"rickhanlonii","id":2440089,"node_id":"MDQ6VXNlcjI0NDAwODk=","avatar_url":"https://avatars.githubusercontent.com/u/2440089?v=4","gravatar_id":"","url":"https://api.github.com/users/rickhanlonii","html_url":"https://github.com/rickhanlonii","followers_url":"https://api.github.com/users/rickhanlonii/followers","following_url":"https://api.github.com/users/rickhanlonii/following{/other_user}","gists_url":"https://api.github.com/users/rickhanlonii/gists{/gist_id}","starred_url":"https://api.github.com/users/rickhanlonii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickhanlonii/subscriptions","organizations_url":"https://api.github.com/users/rickhanlonii/orgs","repos_url":"https://api.github.com/users/rickhanlonii/repos","events_url":"https://api.github.com/users/rickhanlonii/events{/privacy}","received_events_url":"https://api.github.com/users/rickhanlonii/received_events","type":"User","site_admin":false},{"login":"acdlite","id":3624098,"node_id":"MDQ6VXNlcjM2MjQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3624098?v=4","gravatar_id":"","url":"https://api.github.com/users/acdlite","html_url":"https://github.com/acdlite","followers_url":"https://api.github.com/users/acdlite/followers","following_url":"https://api.github.com/users/acdlite/following{/other_user}","gists_url":"https://api.github.com/users/acdlite/gists{/gist_id}","starred_url":"https://api.github.com/users/acdlite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acdlite/subscriptions","organizations_url":"https://api.github.com/users/acdlite/orgs","repos_url":"https://api.github.com/users/acdlite/repos","events_url":"https://api.github.com/users/acdlite/events{/privacy}","received_events_url":"https://api.github.com/users/acdlite/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2021-04-13T15:04:27Z","updated_at":"2021-04-13T15:38:54Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21249","html_url":"https://github.com/facebook/react/pull/21249","diff_url":"https://github.com/facebook/react/pull/21249.diff","patch_url":"https://github.com/facebook/react/pull/21249.patch"},"body":"Follow-up to https://github.com/facebook/react/pull/21079\r\n\r\nBuilds on top of #21250\r\n\r\nRemove the static flag checks (which are just optimizations) until we fix the problem with incorrectly clearing static fields somewhere. (I've left \"_TODO (Offscreen)_\" comments to re-add the checks later.)\r\n\r\nThis diff will be a lot easier to review [with white space changes hidden](https://github.com/bvaughn/react/compare/offscreen-effects-semantics-only-hide-outer-host-nodes...offscreen-effects-semantics-remove-static-flags?w=1).","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21246","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21246/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21246/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21246/events","html_url":"https://github.com/facebook/react/pull/21246","id":856568188,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE0MTI0MDYz","number":21246,"title":"Fix sloppy factoring in `performSyncWorkOnRoot`","user":{"login":"acdlite","id":3624098,"node_id":"MDQ6VXNlcjM2MjQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3624098?v=4","gravatar_id":"","url":"https://api.github.com/users/acdlite","html_url":"https://github.com/acdlite","followers_url":"https://api.github.com/users/acdlite/followers","following_url":"https://api.github.com/users/acdlite/following{/other_user}","gists_url":"https://api.github.com/users/acdlite/gists{/gist_id}","starred_url":"https://api.github.com/users/acdlite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acdlite/subscriptions","organizations_url":"https://api.github.com/users/acdlite/orgs","repos_url":"https://api.github.com/users/acdlite/repos","events_url":"https://api.github.com/users/acdlite/events{/privacy}","received_events_url":"https://api.github.com/users/acdlite/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-13T04:55:48Z","updated_at":"2021-04-13T05:15:03Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21246","html_url":"https://github.com/facebook/react/pull/21246","diff_url":"https://github.com/facebook/react/pull/21246.diff","patch_url":"https://github.com/facebook/react/pull/21246.patch"},"body":"`finishedLanes` is sometimes `NoLanes` in the commit phase, which is wrong.  See #21233 for additional context.\r\n\r\nI added a dev-only internal warning that fires whenever this is the case. That's the first commit, which causes a handful of test failures. I opted to go this route instead of writing dedicated tests because the exact codepath that triggers this scenario isn't that interesting and likely wouldn't survive a refactor. The warning is like an internal property invariant that ensures the model is consistent even if implementation details around it change. It also covers future features or codepaths that might affect `finishedLanes`.\r\n\r\nThe second commit fixes all these warnings by refactoring `performSyncWorkOnRoot` and `performConcurrentWorkOnRoot`. See commit message for details.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21245","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21245/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21245/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21245/events","html_url":"https://github.com/facebook/react/pull/21245","id":856511535,"node_id":"MDExOlB1bGxSZXF1ZXN0NjE0MDc2OTgw","number":21245,"title":"Revert old reconciler fork to 23142b0","user":{"login":"acdlite","id":3624098,"node_id":"MDQ6VXNlcjM2MjQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3624098?v=4","gravatar_id":"","url":"https://api.github.com/users/acdlite","html_url":"https://github.com/acdlite","followers_url":"https://api.github.com/users/acdlite/followers","following_url":"https://api.github.com/users/acdlite/following{/other_user}","gists_url":"https://api.github.com/users/acdlite/gists{/gist_id}","starred_url":"https://api.github.com/users/acdlite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acdlite/subscriptions","organizations_url":"https://api.github.com/users/acdlite/orgs","repos_url":"https://api.github.com/users/acdlite/repos","events_url":"https://api.github.com/users/acdlite/events{/privacy}","received_events_url":"https://api.github.com/users/acdlite/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-13T02:36:44Z","updated_at":"2021-04-13T06:29:06Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21245","html_url":"https://github.com/facebook/react/pull/21245","diff_url":"https://github.com/facebook/react/pull/21245.diff","patch_url":"https://github.com/facebook/react/pull/21245.patch"},"body":"We found a bug but we don't yet know the culprit. While we investigate, I'm resetting the old fork back to the last known good commit.* Then we can use the new fork to bisect the changes.\r\n\r\n**We don't know if 23142b0 is good yet or not; I'm preparing this PR in advance while we wait to get signal back. If it doesn't land successfully, then I'll need to break that commit down into smaller steps.*","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21229","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21229/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21229/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21229/events","html_url":"https://github.com/facebook/react/pull/21229","id":854999068,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEyODQ4NTAy","number":21229,"title":"Fix: Don't flush discrete updates at end of `batchedUpdates`, only legacy sync updates","user":{"login":"acdlite","id":3624098,"node_id":"MDQ6VXNlcjM2MjQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3624098?v=4","gravatar_id":"","url":"https://api.github.com/users/acdlite","html_url":"https://github.com/acdlite","followers_url":"https://api.github.com/users/acdlite/followers","following_url":"https://api.github.com/users/acdlite/following{/other_user}","gists_url":"https://api.github.com/users/acdlite/gists{/gist_id}","starred_url":"https://api.github.com/users/acdlite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acdlite/subscriptions","organizations_url":"https://api.github.com/users/acdlite/orgs","repos_url":"https://api.github.com/users/acdlite/repos","events_url":"https://api.github.com/users/acdlite/events{/privacy}","received_events_url":"https://api.github.com/users/acdlite/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-04-10T06:54:45Z","updated_at":"2021-04-11T09:51:37Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21229","html_url":"https://github.com/facebook/react/pull/21229","diff_url":"https://github.com/facebook/react/pull/21229.diff","patch_url":"https://github.com/facebook/react/pull/21229.patch"},"body":"The outermost `batchedUpdates` call flushes pending sync updates at the end. This was intended for legacy sync mode, but it also happens to flush discrete updates in concurrent mode.\r\n\r\nInstead, we should only flush sync updates at the end of `batchedUpdates` for legacy roots. Discrete sync updates can wait to flush in the microtask.\r\n\r\n`discreteUpdates` has the same issue, which is how I originally noticed this, but I'll change that one in a separate commit since it requires updating a few (no longer relevant) internal tests.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21227","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21227/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21227/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21227/events","html_url":"https://github.com/facebook/react/pull/21227","id":854937104,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEyNzk4MzY1","number":21227,"title":"Add unstable_concurrentUpdatesByDefault","user":{"login":"rickhanlonii","id":2440089,"node_id":"MDQ6VXNlcjI0NDAwODk=","avatar_url":"https://avatars.githubusercontent.com/u/2440089?v=4","gravatar_id":"","url":"https://api.github.com/users/rickhanlonii","html_url":"https://github.com/rickhanlonii","followers_url":"https://api.github.com/users/rickhanlonii/followers","following_url":"https://api.github.com/users/rickhanlonii/following{/other_user}","gists_url":"https://api.github.com/users/rickhanlonii/gists{/gist_id}","starred_url":"https://api.github.com/users/rickhanlonii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickhanlonii/subscriptions","organizations_url":"https://api.github.com/users/rickhanlonii/orgs","repos_url":"https://api.github.com/users/rickhanlonii/repos","events_url":"https://api.github.com/users/rickhanlonii/events{/privacy}","received_events_url":"https://api.github.com/users/rickhanlonii/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-04-10T00:36:34Z","updated_at":"2021-04-10T17:24:28Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21227","html_url":"https://github.com/facebook/react/pull/21227","diff_url":"https://github.com/facebook/react/pull/21227.diff","patch_url":"https://github.com/facebook/react/pull/21227.patch"},"body":"## Overview\r\n\r\nAdds a flag to opt-into time-slicing by default per root.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21224","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21224/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21224/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21224/events","html_url":"https://github.com/facebook/react/issues/21224","id":854860621,"node_id":"MDU6SXNzdWU4NTQ4NjA2MjE=","number":21224,"title":"React-refresh not apply updates to the umd bundled library","user":{"login":"yekver","id":1935877,"node_id":"MDQ6VXNlcjE5MzU4Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/1935877?v=4","gravatar_id":"","url":"https://api.github.com/users/yekver","html_url":"https://github.com/yekver","followers_url":"https://api.github.com/users/yekver/followers","following_url":"https://api.github.com/users/yekver/following{/other_user}","gists_url":"https://api.github.com/users/yekver/gists{/gist_id}","starred_url":"https://api.github.com/users/yekver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yekver/subscriptions","organizations_url":"https://api.github.com/users/yekver/orgs","repos_url":"https://api.github.com/users/yekver/repos","events_url":"https://api.github.com/users/yekver/events{/privacy}","received_events_url":"https://api.github.com/users/yekver/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-09T21:19:19Z","updated_at":"2021-04-09T21:19:19Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"In my case an application is based on micro-frontends solution and all updates related to the host application are applies successfully. Unfortunately, plugin application (bundled as a `umd` library) unable to apply any updates related to the react components scope. It should be noticed that `css` styles and code located outside the react component declaration scope are applied without any problems.\r\n\r\nIn the network tab I can see that all changes were successfully received and console notifies me that changes are applied and `App is up to date!`, unfortunately there is no visual or logic changes and UI keeps the stale state. Only full reload can fix the situation.\r\n\r\nSome architecture details:\r\nHost and Plugin apps are served on different ports. Host app provides exposed to `global` scope instances of `react` / `react-dom` and `react-refresh`. All of these packages are in the same bundle. Plugin app use [externals](https://webpack.js.org/configuration/externals/) property to get all the exposed react stuff. `react-refresh-webpack-plugin` and `react-refresh/babel` are defined in both Plugin and Host app webpack configs.\r\n\r\nPackages version:\r\n```\r\nreact-refresh-webpack-plugin: 0.5.0-beta.1\r\nreact-refresh: 0.9.0\r\nreact: 16.13.1\r\nwebpack: 5.27.2\r\nwebpack-dev-server: 4.0.0-beta.2\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21223","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21223/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21223/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21223/events","html_url":"https://github.com/facebook/react/pull/21223","id":854849744,"node_id":"MDExOlB1bGxSZXF1ZXN0NjEyNzI1NTUy","number":21223,"title":"Remove `flushDiscreteUpdates` from end of event","user":{"login":"acdlite","id":3624098,"node_id":"MDQ6VXNlcjM2MjQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3624098?v=4","gravatar_id":"","url":"https://api.github.com/users/acdlite","html_url":"https://github.com/acdlite","followers_url":"https://api.github.com/users/acdlite/followers","following_url":"https://api.github.com/users/acdlite/following{/other_user}","gists_url":"https://api.github.com/users/acdlite/gists{/gist_id}","starred_url":"https://api.github.com/users/acdlite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acdlite/subscriptions","organizations_url":"https://api.github.com/users/acdlite/orgs","repos_url":"https://api.github.com/users/acdlite/repos","events_url":"https://api.github.com/users/acdlite/events{/privacy}","received_events_url":"https://api.github.com/users/acdlite/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-09T20:57:52Z","updated_at":"2021-04-10T04:40:07Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21223","html_url":"https://github.com/facebook/react/pull/21223","diff_url":"https://github.com/facebook/react/pull/21223.diff","patch_url":"https://github.com/facebook/react/pull/21223.patch"},"body":"We don't need this anymore because we flush in a microtask.\r\n\r\nThis should allow us to remove the logic in the event system that tracks nested event dispatches.\r\n\r\nI added a test to confirm that nested event dispatches don't trigger a synchronous flush, like they would if we wrapped them `flushSync`. It already passed; I added it to prevent a regression.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21212","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21212/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21212/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21212/events","html_url":"https://github.com/facebook/react/issues/21212","id":853988052,"node_id":"MDU6SXNzdWU4NTM5ODgwNTI=","number":21212,"title":"Bug: iOS VoiceOver announces stale content in headings","user":{"login":"JeffreyATW","id":266170,"node_id":"MDQ6VXNlcjI2NjE3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266170?v=4","gravatar_id":"","url":"https://api.github.com/users/JeffreyATW","html_url":"https://github.com/JeffreyATW","followers_url":"https://api.github.com/users/JeffreyATW/followers","following_url":"https://api.github.com/users/JeffreyATW/following{/other_user}","gists_url":"https://api.github.com/users/JeffreyATW/gists{/gist_id}","starred_url":"https://api.github.com/users/JeffreyATW/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JeffreyATW/subscriptions","organizations_url":"https://api.github.com/users/JeffreyATW/orgs","repos_url":"https://api.github.com/users/JeffreyATW/repos","events_url":"https://api.github.com/users/JeffreyATW/events{/privacy}","received_events_url":"https://api.github.com/users/JeffreyATW/received_events","type":"User","site_admin":false},"labels":[{"id":69105358,"node_id":"MDU6TGFiZWw2OTEwNTM1OA==","url":"https://api.github.com/repos/facebook/react/labels/Browser:%20Safari","name":"Browser: Safari","color":"c7def8","default":false,"description":null},{"id":127893911,"node_id":"MDU6TGFiZWwxMjc4OTM5MTE=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20DOM","name":"Component: DOM","color":"fef2c0","default":false,"description":null},{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"},{"id":40929151,"node_id":"MDU6TGFiZWw0MDkyOTE1MQ==","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Bug","name":"Type: Bug","color":"b60205","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-04-08T22:26:44Z","updated_at":"2021-04-12T19:17:23Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: 17.0.2\r\n\r\n## Steps To Reproduce\r\n\r\n1. Go to https://jeffreyatw.com/static/voiceover-react using iOS, enable VoiceOver\r\n2. Swipe to first \"Not clicked\" h2, observe VoiceOver reads content correctly\r\n3. Click the first \"click me\" button\r\n4. Move VoiceOver's focus back to first h2, which is now \"Clicked\"\r\n5. VoiceOver **incorrectly** reads it as \"Not clicked, heading level 2\"\r\n6. Swipe to the second \"Not clicked\" h2, observe VoiceOver reads content correctly\r\n7. Click the second \"click me\" button\r\n8. Move VoiceOver's focus back to second h2, which is now \"Clicked\"\r\n9. VoiceOver correctly reads it as \"Clicked, heading level 2\"\r\n\r\n<!--\r\n\r\n\r\n\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\nLink to code example: https://jeffreyatw.com/static/voiceover-react\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\n## The current behavior\r\nVoiceOver reads the first h2 as \"Not clicked, heading level 2\". See attached video for more details:\r\nhttps://user-images.githubusercontent.com/266170/114103859-b4b51680-987e-11eb-82b9-0d785442c3ae.mp4\r\n\r\n## The expected behavior\r\nVoiceOver should read the first h2 as \"Clicked, heading level 2\"\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21207","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21207/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21207/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21207/events","html_url":"https://github.com/facebook/react/pull/21207","id":853519422,"node_id":"MDExOlB1bGxSZXF1ZXN0NjExNTk1OTU2","number":21207,"title":"Warn when a function whose name starts with a capital letter is passed to useState/setState","user":{"login":"eusbolh","id":26118454,"node_id":"MDQ6VXNlcjI2MTE4NDU0","avatar_url":"https://avatars.githubusercontent.com/u/26118454?v=4","gravatar_id":"","url":"https://api.github.com/users/eusbolh","html_url":"https://github.com/eusbolh","followers_url":"https://api.github.com/users/eusbolh/followers","following_url":"https://api.github.com/users/eusbolh/following{/other_user}","gists_url":"https://api.github.com/users/eusbolh/gists{/gist_id}","starred_url":"https://api.github.com/users/eusbolh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eusbolh/subscriptions","organizations_url":"https://api.github.com/users/eusbolh/orgs","repos_url":"https://api.github.com/users/eusbolh/repos","events_url":"https://api.github.com/users/eusbolh/events{/privacy}","received_events_url":"https://api.github.com/users/eusbolh/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-04-08T14:14:07Z","updated_at":"2021-04-10T16:26:27Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21207","html_url":"https://github.com/facebook/react/pull/21207","diff_url":"https://github.com/facebook/react/pull/21207.diff","patch_url":"https://github.com/facebook/react/pull/21207.patch"},"body":"\r\n\r\n<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\n\r\n<!-- Explain the **motivation** for making this change. What existing problem does the pull request solve? -->\r\nAs discussed in #21057, passing a class to `useState` and `setState` functions can be problematic because of the internal structure of those functions to check whether the user passed the state directly or using a function. As suggested in the mentioned issue, checking the name of the function (if the user passed a function to `useState` and `setState`) whether its first letter is capitalized or not and warning the user if it starts with a capital letter could be a helpful hint.\r\n\r\nFor this reason, I added a small if block which will work in the development build to check the first letter of the function name. To get the name of the function, I used the `displayName` and `name` properties. Even though these two aren't supported in all browsers, it still covers a big percentage. I searched the codebase for alternative approaches but this was the most common way. If there are alternative and better approaches to get the name of the function, we can update that logic for sure.\r\n\r\n```js\r\nif (__DEV__) {\r\n  const name = initialState.displayName || initialState.name || '';\r\n  if (name.charAt(0) !== name.charAt(0).toLowerCase()) {\r\n    console.warn(...);\r\n  }\r\n}\r\n```\r\n\r\nI made the same changes to both `ReactFiberHooks.old.js` and `ReactFiberHooks.new.js` although I observed that `*.old.js` were the one used in my local environment. I searched for the differences between these two files but couldn't find anything. If the change is not needed in the `*.new.js` file, we can remove that part as well.\r\n\r\n## Test Plan\r\n\r\n<!-- Demonstrate the code is solid. Example: The exact commands you ran and their output, screenshots/videos if the pull request changes the user interface. -->\r\nFor the test strategy, I added two basic tests to `ReactHooks-test.internal.js`, for both `useState` and `setState` functions. In the tests, a function whose name starts with a capital letter is passed and the console warning is expected as a result of those function calls.\r\n\r\nIf needed, test cases for success scenarios can be added. However, as far as I observed, most of the other test cases are failing if a warning is fired in a success scenario.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21206","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21206/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21206/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21206/events","html_url":"https://github.com/facebook/react/issues/21206","id":853407504,"node_id":"MDU6SXNzdWU4NTM0MDc1MDQ=","number":21206,"title":"Cannot Found Out The Error","user":{"login":"Rajan-max","id":51814768,"node_id":"MDQ6VXNlcjUxODE0NzY4","avatar_url":"https://avatars.githubusercontent.com/u/51814768?v=4","gravatar_id":"","url":"https://api.github.com/users/Rajan-max","html_url":"https://github.com/Rajan-max","followers_url":"https://api.github.com/users/Rajan-max/followers","following_url":"https://api.github.com/users/Rajan-max/following{/other_user}","gists_url":"https://api.github.com/users/Rajan-max/gists{/gist_id}","starred_url":"https://api.github.com/users/Rajan-max/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rajan-max/subscriptions","organizations_url":"https://api.github.com/users/Rajan-max/orgs","repos_url":"https://api.github.com/users/Rajan-max/repos","events_url":"https://api.github.com/users/Rajan-max/events{/privacy}","received_events_url":"https://api.github.com/users/Rajan-max/received_events","type":"User","site_admin":false},"labels":[{"id":620368407,"node_id":"MDU6TGFiZWw2MjAzNjg0MDc=","url":"https://api.github.com/repos/facebook/react/labels/Resolution:%20Needs%20More%20Information","name":"Resolution: Needs More Information","color":"fffde7","default":false,"description":null},{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":{"login":"Rajan-max","id":51814768,"node_id":"MDQ6VXNlcjUxODE0NzY4","avatar_url":"https://avatars.githubusercontent.com/u/51814768?v=4","gravatar_id":"","url":"https://api.github.com/users/Rajan-max","html_url":"https://github.com/Rajan-max","followers_url":"https://api.github.com/users/Rajan-max/followers","following_url":"https://api.github.com/users/Rajan-max/following{/other_user}","gists_url":"https://api.github.com/users/Rajan-max/gists{/gist_id}","starred_url":"https://api.github.com/users/Rajan-max/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rajan-max/subscriptions","organizations_url":"https://api.github.com/users/Rajan-max/orgs","repos_url":"https://api.github.com/users/Rajan-max/repos","events_url":"https://api.github.com/users/Rajan-max/events{/privacy}","received_events_url":"https://api.github.com/users/Rajan-max/received_events","type":"User","site_admin":false},"assignees":[{"login":"Rajan-max","id":51814768,"node_id":"MDQ6VXNlcjUxODE0NzY4","avatar_url":"https://avatars.githubusercontent.com/u/51814768?v=4","gravatar_id":"","url":"https://api.github.com/users/Rajan-max","html_url":"https://github.com/Rajan-max","followers_url":"https://api.github.com/users/Rajan-max/followers","following_url":"https://api.github.com/users/Rajan-max/following{/other_user}","gists_url":"https://api.github.com/users/Rajan-max/gists{/gist_id}","starred_url":"https://api.github.com/users/Rajan-max/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rajan-max/subscriptions","organizations_url":"https://api.github.com/users/Rajan-max/orgs","repos_url":"https://api.github.com/users/Rajan-max/repos","events_url":"https://api.github.com/users/Rajan-max/events{/privacy}","received_events_url":"https://api.github.com/users/Rajan-max/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2021-04-08T12:11:52Z","updated_at":"2021-04-13T15:43:39Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I have already tried all the solutions mentioned still none of them works.Neither the reasons are matching with my error..Please Help\r\n![Screenshot (6)](https://user-images.githubusercontent.com/51814768/114024440-c8b74300-9893-11eb-8633-2cd949e4cd3c.png)\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21204","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21204/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21204/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21204/events","html_url":"https://github.com/facebook/react/pull/21204","id":853304470,"node_id":"MDExOlB1bGxSZXF1ZXN0NjExNDE0ODY1","number":21204,"title":"chore: Ignore build2/ when linting","user":{"login":"eps1lon","id":12292047,"node_id":"MDQ6VXNlcjEyMjkyMDQ3","avatar_url":"https://avatars.githubusercontent.com/u/12292047?v=4","gravatar_id":"","url":"https://api.github.com/users/eps1lon","html_url":"https://github.com/eps1lon","followers_url":"https://api.github.com/users/eps1lon/followers","following_url":"https://api.github.com/users/eps1lon/following{/other_user}","gists_url":"https://api.github.com/users/eps1lon/gists{/gist_id}","starred_url":"https://api.github.com/users/eps1lon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eps1lon/subscriptions","organizations_url":"https://api.github.com/users/eps1lon/orgs","repos_url":"https://api.github.com/users/eps1lon/repos","events_url":"https://api.github.com/users/eps1lon/events{/privacy}","received_events_url":"https://api.github.com/users/eps1lon/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-08T10:08:34Z","updated_at":"2021-04-08T10:13:02Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21204","html_url":"https://github.com/facebook/react/pull/21204","diff_url":"https://github.com/facebook/react/pull/21204.diff","patch_url":"https://github.com/facebook/react/pull/21204.patch"},"body":"## Summary\r\n\r\nIgnore files created by `yarn build-for-devtools` in `yarn lint`\r\n\r\n## Test Plan\r\n\r\n- [x] CI green\r\n- [x] `git clean -fdx; yarn install; yarn build-for-devtools; yarn lint` passes (is failing on `master` (currently `782f689ca8380a715ab0c24e326fc293e5d25647`))","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21202","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21202/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21202/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21202/events","html_url":"https://github.com/facebook/react/pull/21202","id":853164892,"node_id":"MDExOlB1bGxSZXF1ZXN0NjExMjk3MzY0","number":21202,"title":"Flush discrete updates immediately","user":{"login":"eps1lon","id":12292047,"node_id":"MDQ6VXNlcjEyMjkyMDQ3","avatar_url":"https://avatars.githubusercontent.com/u/12292047?v=4","gravatar_id":"","url":"https://api.github.com/users/eps1lon","html_url":"https://github.com/eps1lon","followers_url":"https://api.github.com/users/eps1lon/followers","following_url":"https://api.github.com/users/eps1lon/following{/other_user}","gists_url":"https://api.github.com/users/eps1lon/gists{/gist_id}","starred_url":"https://api.github.com/users/eps1lon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eps1lon/subscriptions","organizations_url":"https://api.github.com/users/eps1lon/orgs","repos_url":"https://api.github.com/users/eps1lon/repos","events_url":"https://api.github.com/users/eps1lon/events{/privacy}","received_events_url":"https://api.github.com/users/eps1lon/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-04-08T07:34:43Z","updated_at":"2021-04-10T09:09:28Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21202","html_url":"https://github.com/facebook/react/pull/21202","diff_url":"https://github.com/facebook/react/pull/21202.diff","patch_url":"https://github.com/facebook/react/pull/21202.patch"},"body":"## Summary\r\n\r\nGiven:\r\n```js\r\nact(() => {\r\n  button.click();\r\n  button.click();\r\n})\r\n```\r\n\r\nPreviously each update from the click was batched inside act. However, in production React will never batch updates from user clicks since these are \"discrete\" events. With this PR discrete updates will be flushed immediately instead of being batched. \r\n\r\nThe previous behavior resulted in bugs like https://github.com/facebook/react/issues/20074 not being detected via automated testing. In Material-UI we already need extra `fireDiscreteEvent.click` testing utilities that make sure click events are flushed immediately from inside `act` to test certain browser behavior.\r\n\r\n\r\n## Test Plan\r\n\r\n- [x] CI green\r\n- [x] test build in `testing-library/react-testing-library`: https://github.com/testing-library/react-testing-library/pull/896\r\n- [x] test build in `mui-org/material-ui`: https://github.com/mui-org/material-ui/pull/25658\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21201","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21201/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21201/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21201/events","html_url":"https://github.com/facebook/react/pull/21201","id":853045947,"node_id":"MDExOlB1bGxSZXF1ZXN0NjExMTk3NjUz","number":21201,"title":"[WIP] Bisect www sync failure","user":{"login":"acdlite","id":3624098,"node_id":"MDQ6VXNlcjM2MjQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3624098?v=4","gravatar_id":"","url":"https://api.github.com/users/acdlite","html_url":"https://github.com/acdlite","followers_url":"https://api.github.com/users/acdlite/followers","following_url":"https://api.github.com/users/acdlite/following{/other_user}","gists_url":"https://api.github.com/users/acdlite/gists{/gist_id}","starred_url":"https://api.github.com/users/acdlite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acdlite/subscriptions","organizations_url":"https://api.github.com/users/acdlite/orgs","repos_url":"https://api.github.com/users/acdlite/repos","events_url":"https://api.github.com/users/acdlite/events{/privacy}","received_events_url":"https://api.github.com/users/acdlite/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-08T04:26:20Z","updated_at":"2021-04-14T18:44:32Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21201","html_url":"https://github.com/facebook/react/pull/21201","diff_url":"https://github.com/facebook/react/pull/21201.diff","patch_url":"https://github.com/facebook/react/pull/21201.patch"},"body":"Using this draft PR to debug a hydration error","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21190","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21190/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21190/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21190/events","html_url":"https://github.com/facebook/react/issues/21190","id":852602291,"node_id":"MDU6SXNzdWU4NTI2MDIyOTE=","number":21190,"title":"Community creation","user":{"login":"gustavochermout","id":23001482,"node_id":"MDQ6VXNlcjIzMDAxNDgy","avatar_url":"https://avatars.githubusercontent.com/u/23001482?v=4","gravatar_id":"","url":"https://api.github.com/users/gustavochermout","html_url":"https://github.com/gustavochermout","followers_url":"https://api.github.com/users/gustavochermout/followers","following_url":"https://api.github.com/users/gustavochermout/following{/other_user}","gists_url":"https://api.github.com/users/gustavochermout/gists{/gist_id}","starred_url":"https://api.github.com/users/gustavochermout/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gustavochermout/subscriptions","organizations_url":"https://api.github.com/users/gustavochermout/orgs","repos_url":"https://api.github.com/users/gustavochermout/repos","events_url":"https://api.github.com/users/gustavochermout/events{/privacy}","received_events_url":"https://api.github.com/users/gustavochermout/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-04-07T16:54:07Z","updated_at":"2021-04-08T01:30:06Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello, I would like to know if I need any authorization from facebook or anyone can create a new community to discuss react topics, be it creating a website, using discord, instagram posts, podcasts...\r\n\r\nIn the issue #12570, it was said that the React logo is licensed under **Creative Commons Attribution 4.0**. Therefore, I am in doubt as to whether I can use it as logo of community due to the license's trademark restrictions.\r\n\r\nThanks! :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21181","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21181/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21181/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21181/events","html_url":"https://github.com/facebook/react/issues/21181","id":850495869,"node_id":"MDU6SXNzdWU4NTA0OTU4Njk=","number":21181,"title":"Bug: [Refresh] Default exported unnamed functions are ignored","user":{"login":"davidbonnet","id":297345,"node_id":"MDQ6VXNlcjI5NzM0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/297345?v=4","gravatar_id":"","url":"https://api.github.com/users/davidbonnet","html_url":"https://github.com/davidbonnet","followers_url":"https://api.github.com/users/davidbonnet/followers","following_url":"https://api.github.com/users/davidbonnet/following{/other_user}","gists_url":"https://api.github.com/users/davidbonnet/gists{/gist_id}","starred_url":"https://api.github.com/users/davidbonnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidbonnet/subscriptions","organizations_url":"https://api.github.com/users/davidbonnet/orgs","repos_url":"https://api.github.com/users/davidbonnet/repos","events_url":"https://api.github.com/users/davidbonnet/events{/privacy}","received_events_url":"https://api.github.com/users/davidbonnet/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-04-05T16:41:03Z","updated_at":"2021-04-06T07:36:06Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"React version: 17.0.2\r\nReact-refresh version: 0.10.0\r\n\r\nThis issue is similar to #21179, but ignores default exported unnamed functions instead.\r\n\r\nAs a code comment suggests, this is a known limitation:\r\nhttps://github.com/facebook/react/blob/a817840ea7d3818c0590cccb9159b13220f4fdb4/packages/react-refresh/src/ReactFreshBabelPlugin.js#L437-L438\r\n\r\nWould a fix be considered?\r\n\r\n## Steps To Reproduce\r\n\r\nGiven the following files, making changes to `Component.js` doesn't trigger a re-render.\r\n\r\n`main.js` module:\r\n```jsx\r\nimport React from 'react'\r\nimport { render } from 'react-dom'\r\n\r\nimport Component from './Component.js'\r\n\r\nfunction App() {\r\n  return <main><Component /></main>\r\n}\r\n\r\nrender(<App />, window.document.getElementById('root'))\r\n```\r\n\r\n`Component.js` module:\r\n```jsx\r\nimport React from 'react'\r\n\r\nexport default ({ value = \"Hello\" }) => (<div>{value}</div>)\r\n```\r\n\r\n\r\n## The current behavior\r\n\r\nMaking changes to `Component.js` does not re-render the element in `main.js`.\r\nThe transformed `Component.js` module does not register the `Component` for refresh.\r\n\r\n\r\n## The expected behavior\r\n\r\nMaking changes to `Component.js` does re-render the element in `main.js`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21180","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21180/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21180/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21180/events","html_url":"https://github.com/facebook/react/pull/21180","id":850453117,"node_id":"MDExOlB1bGxSZXF1ZXN0NjA5MDI0Mzgx","number":21180,"title":"Fix [Refresh] Components resulting of HOCs composition immediately applied to render functions are ignored","user":{"login":"davidbonnet","id":297345,"node_id":"MDQ6VXNlcjI5NzM0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/297345?v=4","gravatar_id":"","url":"https://api.github.com/users/davidbonnet","html_url":"https://github.com/davidbonnet","followers_url":"https://api.github.com/users/davidbonnet/followers","following_url":"https://api.github.com/users/davidbonnet/following{/other_user}","gists_url":"https://api.github.com/users/davidbonnet/gists{/gist_id}","starred_url":"https://api.github.com/users/davidbonnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidbonnet/subscriptions","organizations_url":"https://api.github.com/users/davidbonnet/orgs","repos_url":"https://api.github.com/users/davidbonnet/repos","events_url":"https://api.github.com/users/davidbonnet/events{/privacy}","received_events_url":"https://api.github.com/users/davidbonnet/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-05T15:38:49Z","updated_at":"2021-04-05T16:35:20Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21180","html_url":"https://github.com/facebook/react/pull/21180","diff_url":"https://github.com/facebook/react/pull/21180.diff","patch_url":"https://github.com/facebook/react/pull/21180.patch"},"body":"<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\n\r\nFixes #21179.\r\n\r\n## Test Plan\r\n\r\nRun `node ./scripts/jest/jest-cli.js -i /Users/david/Code/react/packages/react-refresh/src/__tests__/ReactFreshBabelPlugin-test.js`.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21179","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21179/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21179/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21179/events","html_url":"https://github.com/facebook/react/issues/21179","id":850444931,"node_id":"MDU6SXNzdWU4NTA0NDQ5MzE=","number":21179,"title":"Bug: [Refresh] Components resulting of HOCs composition immediately applied to render functions are ignored","user":{"login":"davidbonnet","id":297345,"node_id":"MDQ6VXNlcjI5NzM0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/297345?v=4","gravatar_id":"","url":"https://api.github.com/users/davidbonnet","html_url":"https://github.com/davidbonnet","followers_url":"https://api.github.com/users/davidbonnet/followers","following_url":"https://api.github.com/users/davidbonnet/following{/other_user}","gists_url":"https://api.github.com/users/davidbonnet/gists{/gist_id}","starred_url":"https://api.github.com/users/davidbonnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidbonnet/subscriptions","organizations_url":"https://api.github.com/users/davidbonnet/orgs","repos_url":"https://api.github.com/users/davidbonnet/repos","events_url":"https://api.github.com/users/davidbonnet/events{/privacy}","received_events_url":"https://api.github.com/users/davidbonnet/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-04-05T15:26:10Z","updated_at":"2021-04-05T20:57:58Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"React version: 17.0.2\r\nReact-refresh version: 0.10.0\r\n\r\n## Steps To Reproduce\r\n\r\nGiven the following files, making changes to `Component.js` doesn't trigger a re-render.\r\n\r\n`main.js` module:\r\n```jsx\r\nimport React from 'react'\r\nimport { render } from 'react-dom'\r\n\r\nimport { Component } from './Component.js'\r\n\r\nfunction App() {\r\n  return <main><Component /></main>\r\n}\r\n\r\nrender(<App />, window.document.getElementById('root'))\r\n```\r\n\r\n`Component.js` module:\r\n```jsx\r\nimport React, { memo } from 'react'\r\nimport { compose, withProps } from 'recompose'\r\n\r\nexport const Component = compose(memo, withProps({ value: 'Hello' }))(({ value }) => (<div>{value}</div>))\r\n```\r\n\r\n\r\n## The current behavior\r\n\r\nMaking changes to `Component.js` does not re-render the element in `main.js`.\r\nThe transformed `Component.js` module does not register the `Component` for refresh.\r\n\r\n\r\n## The expected behavior\r\n\r\nMaking changes to `Component.js` does re-render the element in `main.js`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21169","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21169/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21169/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21169/events","html_url":"https://github.com/facebook/react/pull/21169","id":849218059,"node_id":"MDExOlB1bGxSZXF1ZXN0NjA4MDI5MTQ3","number":21169,"title":"remove if statement for error and warn by a bit util","user":{"login":"behnammodi","id":1549069,"node_id":"MDQ6VXNlcjE1NDkwNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1549069?v=4","gravatar_id":"","url":"https://api.github.com/users/behnammodi","html_url":"https://github.com/behnammodi","followers_url":"https://api.github.com/users/behnammodi/followers","following_url":"https://api.github.com/users/behnammodi/following{/other_user}","gists_url":"https://api.github.com/users/behnammodi/gists{/gist_id}","starred_url":"https://api.github.com/users/behnammodi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/behnammodi/subscriptions","organizations_url":"https://api.github.com/users/behnammodi/orgs","repos_url":"https://api.github.com/users/behnammodi/repos","events_url":"https://api.github.com/users/behnammodi/events{/privacy}","received_events_url":"https://api.github.com/users/behnammodi/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-02T13:27:38Z","updated_at":"2021-04-02T13:27:43Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21169","html_url":"https://github.com/facebook/react/pull/21169","diff_url":"https://github.com/facebook/react/pull/21169.diff","patch_url":"https://github.com/facebook/react/pull/21169.patch"},"body":"We can apply this util on all of the packages","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21166","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21166/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21166/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21166/events","html_url":"https://github.com/facebook/react/pull/21166","id":848741639,"node_id":"MDExOlB1bGxSZXF1ZXN0NjA3NjMxMTU5","number":21166,"title":"Chore/setup ci to run dev tools tests","user":{"login":"ktfth","id":44123854,"node_id":"MDQ6VXNlcjQ0MTIzODU0","avatar_url":"https://avatars.githubusercontent.com/u/44123854?v=4","gravatar_id":"","url":"https://api.github.com/users/ktfth","html_url":"https://github.com/ktfth","followers_url":"https://api.github.com/users/ktfth/followers","following_url":"https://api.github.com/users/ktfth/following{/other_user}","gists_url":"https://api.github.com/users/ktfth/gists{/gist_id}","starred_url":"https://api.github.com/users/ktfth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ktfth/subscriptions","organizations_url":"https://api.github.com/users/ktfth/orgs","repos_url":"https://api.github.com/users/ktfth/repos","events_url":"https://api.github.com/users/ktfth/events{/privacy}","received_events_url":"https://api.github.com/users/ktfth/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-04-01T19:46:41Z","updated_at":"2021-04-02T02:11:17Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21166","html_url":"https://github.com/facebook/react/pull/21166","diff_url":"https://github.com/facebook/react/pull/21166.diff","patch_url":"https://github.com/facebook/react/pull/21166.patch"},"body":"## Summary\r\n\r\nThe solution is to setup ci for devtools test for every version of react.\r\n\r\n## Test Plan\r\n\r\nA change is made to build code without a inconsistence on check names on build.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21159","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21159/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21159/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21159/events","html_url":"https://github.com/facebook/react/issues/21159","id":848288279,"node_id":"MDU6SXNzdWU4NDgyODgyNzk=","number":21159,"title":"Bug: getting console error for live grid randomly","user":{"login":"pankaj247software","id":36258524,"node_id":"MDQ6VXNlcjM2MjU4NTI0","avatar_url":"https://avatars.githubusercontent.com/u/36258524?v=4","gravatar_id":"","url":"https://api.github.com/users/pankaj247software","html_url":"https://github.com/pankaj247software","followers_url":"https://api.github.com/users/pankaj247software/followers","following_url":"https://api.github.com/users/pankaj247software/following{/other_user}","gists_url":"https://api.github.com/users/pankaj247software/gists{/gist_id}","starred_url":"https://api.github.com/users/pankaj247software/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pankaj247software/subscriptions","organizations_url":"https://api.github.com/users/pankaj247software/orgs","repos_url":"https://api.github.com/users/pankaj247software/repos","events_url":"https://api.github.com/users/pankaj247software/events{/privacy}","received_events_url":"https://api.github.com/users/pankaj247software/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-01T09:17:42Z","updated_at":"2021-04-01T09:46:40Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"\r\nwhile working with live grid using react js, giving console error randomly and in that, log mentions,  issue might be at react js file and issue\r\nso could you please help that what is meaning of that or how to fix that\r\n\r\n**console error shows as follow,\r\n\r\nInvariant Violation: Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.**\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21158","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21158/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21158/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21158/events","html_url":"https://github.com/facebook/react/issues/21158","id":847688030,"node_id":"MDU6SXNzdWU4NDc2ODgwMzA=","number":21158,"title":"Bug:  react-test-renderer:   Cannot read property 'removeEventListener' of null on snapshot","user":{"login":"chrys-exaucet","id":64139733,"node_id":"MDQ6VXNlcjY0MTM5NzMz","avatar_url":"https://avatars.githubusercontent.com/u/64139733?v=4","gravatar_id":"","url":"https://api.github.com/users/chrys-exaucet","html_url":"https://github.com/chrys-exaucet","followers_url":"https://api.github.com/users/chrys-exaucet/followers","following_url":"https://api.github.com/users/chrys-exaucet/following{/other_user}","gists_url":"https://api.github.com/users/chrys-exaucet/gists{/gist_id}","starred_url":"https://api.github.com/users/chrys-exaucet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrys-exaucet/subscriptions","organizations_url":"https://api.github.com/users/chrys-exaucet/orgs","repos_url":"https://api.github.com/users/chrys-exaucet/repos","events_url":"https://api.github.com/users/chrys-exaucet/events{/privacy}","received_events_url":"https://api.github.com/users/chrys-exaucet/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-04-01T01:39:39Z","updated_at":"2021-04-01T01:39:39Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"\r\nI havethis stack trace while taking a snap of a custom file reader:. The componet is working well execpt in this snapshot that involves react-test-render. It throws this error:\r\n\r\n\r\n\r\n`  console.error\r\n    Error: Uncaught [TypeError: Cannot read property 'removeEventListener' of null]`\r\n\r\n\r\n\r\n\r\n\r\nHere is my stack\r\n\r\njest@26.6.0\r\nreact-router@6.0.0-beta.0\r\nreact-router-dom@6.0.0-beta.0\r\nreact@17.0.1\r\ntypescript@4.2.3\r\n\r\n## Steps To Reproduce\r\n\r\n```js\r\n\r\n// component\r\n\r\nimport React from 'react';\r\nimport { CSVReader } from 'react-papaparse';\r\n\r\n\r\ninterface CustomtReaderProps {\r\n  onFileLoaded?: ((data: any, file?: any) => void) | undefined;\r\n}\r\n\r\nexport const CustomtReader: React.FC<OffreTransportReaderProps> = (props: CustomtReaderProps) => {\r\n\r\n  const { onFileLoaded } = props;\r\n  return (\r\n    <CSVReader\r\n      onFileLoad={onFileLoaded}\r\n      accept='text/csv, .csv'\r\n    >\r\n      <span>{label}</span>\r\n    </CSVReader>\r\n  );\r\n\r\n};\r\n\r\n```\r\n\r\n```` js\r\n\r\n\r\n// test\r\n\r\ndescribe('OffreTransportReader', () => {\r\n\r\n\r\n  it('should match snapshot', () => {\r\n\r\n    /* FIXME: in the renderer:  Uncaught [TypeError: Cannot read property 'addEventListener' of null]\r\n                                Stacktrace:    Error: Uncaught [TypeError: Cannot read property 'addEventListener' of null]\r\n                                hint: possibly due to the renderer method of  @react-test-render\r\n */\r\n\r\n\r\n    const handleFileUploaded = jest.fn().mockImplementation();\r\n\r\n    const tree = renderer\r\n      .create(     // <--------------- **_error : TypeError: Cannot read property 'removeEventListener' of null_**\r\n        <CustomtReader\r\n          onFileLoaded={handleFileUploaded}\r\n          label='Chargez votre offre'\r\n        />,\r\n      )\r\n      .toJSON();\r\n    expect(tree).toMatchSnapshot();\r\n  });\r\n});\r\n\r\n\r\n````\r\n\r\n## The current behavior\r\nError: Uncaught [TypeError: Cannot read property 'addEventListener' of null]\r\n\r\n## The expected behavior\r\n\r\nTest passes\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21154","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21154/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21154/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21154/events","html_url":"https://github.com/facebook/react/pull/21154","id":847610066,"node_id":"MDExOlB1bGxSZXF1ZXN0NjA2NjE1Mzgz","number":21154,"title":"[Fizz] Emit data-reactroot attribute","user":{"login":"sebmarkbage","id":63648,"node_id":"MDQ6VXNlcjYzNjQ4","avatar_url":"https://avatars.githubusercontent.com/u/63648?v=4","gravatar_id":"","url":"https://api.github.com/users/sebmarkbage","html_url":"https://github.com/sebmarkbage","followers_url":"https://api.github.com/users/sebmarkbage/followers","following_url":"https://api.github.com/users/sebmarkbage/following{/other_user}","gists_url":"https://api.github.com/users/sebmarkbage/gists{/gist_id}","starred_url":"https://api.github.com/users/sebmarkbage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebmarkbage/subscriptions","organizations_url":"https://api.github.com/users/sebmarkbage/orgs","repos_url":"https://api.github.com/users/sebmarkbage/repos","events_url":"https://api.github.com/users/sebmarkbage/events{/privacy}","received_events_url":"https://api.github.com/users/sebmarkbage/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-04-01T00:34:27Z","updated_at":"2021-04-13T22:44:13Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21154","html_url":"https://github.com/facebook/react/pull/21154","diff_url":"https://github.com/facebook/react/pull/21154.diff","patch_url":"https://github.com/facebook/react/pull/21154.patch"},"body":"We know we want to delete this https://github.com/facebook/react/pull/20996 but until we land that, I need to emit it for tests.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21139","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21139/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21139/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21139/events","html_url":"https://github.com/facebook/react/issues/21139","id":844452507,"node_id":"MDU6SXNzdWU4NDQ0NTI1MDc=","number":21139,"title":"[Fast Refresh] Don’t Scan the Tree","user":{"login":"gaearon","id":810438,"node_id":"MDQ6VXNlcjgxMDQzOA==","avatar_url":"https://avatars.githubusercontent.com/u/810438?v=4","gravatar_id":"","url":"https://api.github.com/users/gaearon","html_url":"https://github.com/gaearon","followers_url":"https://api.github.com/users/gaearon/followers","following_url":"https://api.github.com/users/gaearon/following{/other_user}","gists_url":"https://api.github.com/users/gaearon/gists{/gist_id}","starred_url":"https://api.github.com/users/gaearon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaearon/subscriptions","organizations_url":"https://api.github.com/users/gaearon/orgs","repos_url":"https://api.github.com/users/gaearon/repos","events_url":"https://api.github.com/users/gaearon/events{/privacy}","received_events_url":"https://api.github.com/users/gaearon/received_events","type":"User","site_admin":false},"labels":[{"id":1649755876,"node_id":"MDU6TGFiZWwxNjQ5NzU1ODc2","url":"https://api.github.com/repos/facebook/react/labels/Component:%20Fast%20Refresh","name":"Component: Fast Refresh","color":"473bcc","default":false,"description":""},{"id":760751171,"node_id":"MDU6TGFiZWw3NjA3NTExNzE=","url":"https://api.github.com/repos/facebook/react/labels/Difficulty:%20challenging","name":"Difficulty: challenging","color":"f2687c","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"},{"id":1775955521,"node_id":"MDU6TGFiZWwxNzc1OTU1NTIx","url":"https://api.github.com/repos/facebook/react/labels/Resolution:%20Backlog","name":"Resolution: Backlog","color":"9dd1e8","default":false,"description":""}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-03-30T12:17:17Z","updated_at":"2021-03-30T12:17:44Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"We had a conversation with @sebmarkbage about https://github.com/facebook/react/issues/20417. He had a different implementation idea that should resolve such issues. I probably won't do this now but I want to write it down for future reference.\r\n\r\nCurrently, after we gather a list of types that need to be updated in the tree, we scan the tree and tag Fibers to be updated. This happens [here](https://github.com/facebook/react/blob/0853aab74dc8285401e62d1e490551ba3c96fd64/packages/react-reconciler/src/ReactFiberHotReloading.new.js#L267-L339). But like https://github.com/facebook/react/issues/20417 shows, this doesn't work if the type is not in the tree. E.g. if the function we changed is only being called directly, and its \"type\" is not the actual wrapper that exists in the tree.\r\n\r\nAn alternative implementation could instead inject a special Hook call into each registered component. For example by generating a wrapper. That Hook would return the latest actual implementation, _and_ schedule updates on itself when it changes. Which means there would be no need to scan the tree at all. Instead, each component would register itself for updates. For false positives outside of React rendering, the Hook would just be callthrough so it wouldn't break anything.\r\n\r\nThis seems like a pretty significant change to the implementation so I'm probably not going to work on this now. Maybe we could consider it next time we need to change the implementation details. Or maybe somebody sufficiently motivated wants to hack on this. I can provide some code pointers but it’s not a beginner-friendly issue.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21137","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21137/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21137/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21137/events","html_url":"https://github.com/facebook/react/issues/21137","id":844158973,"node_id":"MDU6SXNzdWU4NDQxNTg5NzM=","number":21137,"title":"Another Fiber structure without return pointer.","user":{"login":"yisar","id":12951461,"node_id":"MDQ6VXNlcjEyOTUxNDYx","avatar_url":"https://avatars.githubusercontent.com/u/12951461?v=4","gravatar_id":"","url":"https://api.github.com/users/yisar","html_url":"https://github.com/yisar","followers_url":"https://api.github.com/users/yisar/followers","following_url":"https://api.github.com/users/yisar/following{/other_user}","gists_url":"https://api.github.com/users/yisar/gists{/gist_id}","starred_url":"https://api.github.com/users/yisar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yisar/subscriptions","organizations_url":"https://api.github.com/users/yisar/orgs","repos_url":"https://api.github.com/users/yisar/repos","events_url":"https://api.github.com/users/yisar/events{/privacy}","received_events_url":"https://api.github.com/users/yisar/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-03-30T07:14:26Z","updated_at":"2021-03-30T07:16:53Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"https://twitter.com/acdlite/status/1369894466308497411\r\n\r\nThis is a tweet from @acdlite , which I think is worth thinking about and recording\r\n\r\nThe current react fiber linked list structure does limit the implementation of few algorithms, such as the right to left diff algorithm based on the longest incremental subsequence.\r\n\r\nIs there a new structure that doesn't need a return pointer? What should it look like?\r\n\r\nIt's easy to delete alternative pointer, but what about the return pointer? Is there a new structure to replace it?","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21128","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21128/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21128/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21128/events","html_url":"https://github.com/facebook/react/issues/21128","id":843662904,"node_id":"MDU6SXNzdWU4NDM2NjI5MDQ=","number":21128,"title":"Remove DevTools dependency on host node internalInstanceKey","user":{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false},"labels":[{"id":710573595,"node_id":"MDU6TGFiZWw3MTA1NzM1OTU=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools","name":"Component: Developer Tools","color":"fbca04","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-03-29T18:24:13Z","updated_at":"2021-03-29T18:24:13Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"React uses a pseudo-randomly-generated `internalInstanceKey` key field is used to store a reference on a host node (e.g. `HTMLDivElement`) to the Fiber that created it:\r\nhttps://github.com/facebook/react/blob/634cc52e6174b506dee79d908f50ce1ee19f4fbf/packages/react-dom/src/client/ReactDOMComponentTree.js#L56-L61\r\n\r\nThis pointer in turn is used by a few things:\r\n* Event propagation: Will not be necessary if event listeners are added directly to the host node rather than the root.\r\n* Partial hydration: Unsure (unfamiliar with this code.\r\n* DevTools host element inspection: See below.\r\n\r\nThe DevTools dependency is on `getClosestInstanceFromNode`:\r\nhttps://github.com/facebook/react/blob/634cc52e6174b506dee79d908f50ce1ee19f4fbf/packages/react-dom/src/client/ReactDOMComponentTree.js#L75-L155\r\n\r\nThis could be removed if DevTools implemented its own `precacheFiberNode` behavior when Fibers mounted and unmounted. The trick would be walking the host component tree if a DOM node wasn't directly owned by React. Fortunately HTML elements have `parentNode` pointers which would make this trivial (at least for the web extension).\r\n\r\nThe standalone DevTools (in the case of React Native) would not be able to support this, but standalone doesn't support this mode of inspection anyway, so we should be clear to remove this dependency.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21102","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21102/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21102/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21102/events","html_url":"https://github.com/facebook/react/pull/21102","id":841446418,"node_id":"MDExOlB1bGxSZXF1ZXN0NjAxMTg0MTQw","number":21102,"title":"[Fast Refresh] Add more built-in Hooks to the list","user":{"login":"gaearon","id":810438,"node_id":"MDQ6VXNlcjgxMDQzOA==","avatar_url":"https://avatars.githubusercontent.com/u/810438?v=4","gravatar_id":"","url":"https://api.github.com/users/gaearon","html_url":"https://github.com/gaearon","followers_url":"https://api.github.com/users/gaearon/followers","following_url":"https://api.github.com/users/gaearon/following{/other_user}","gists_url":"https://api.github.com/users/gaearon/gists{/gist_id}","starred_url":"https://api.github.com/users/gaearon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaearon/subscriptions","organizations_url":"https://api.github.com/users/gaearon/orgs","repos_url":"https://api.github.com/users/gaearon/repos","events_url":"https://api.github.com/users/gaearon/events{/privacy}","received_events_url":"https://api.github.com/users/gaearon/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-25T23:52:28Z","updated_at":"2021-03-26T00:59:30Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21102","html_url":"https://github.com/facebook/react/pull/21102","diff_url":"https://github.com/facebook/react/pull/21102.diff","patch_url":"https://github.com/facebook/react/pull/21102.patch"},"body":"This isn't really important, just doing it for consistency. These won't show up in the array we're collecting that's used for traversing custom Hooks, which we do to compose a signature.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21094","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21094/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21094/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21094/events","html_url":"https://github.com/facebook/react/issues/21094","id":840776729,"node_id":"MDU6SXNzdWU4NDA3NzY3Mjk=","number":21094,"title":"Bug: Radio/Checkbox inputs not triggered when setting state in listener on a parent element","user":{"login":"kotliluk","id":79303059,"node_id":"MDQ6VXNlcjc5MzAzMDU5","avatar_url":"https://avatars.githubusercontent.com/u/79303059?v=4","gravatar_id":"","url":"https://api.github.com/users/kotliluk","html_url":"https://github.com/kotliluk","followers_url":"https://api.github.com/users/kotliluk/followers","following_url":"https://api.github.com/users/kotliluk/following{/other_user}","gists_url":"https://api.github.com/users/kotliluk/gists{/gist_id}","starred_url":"https://api.github.com/users/kotliluk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kotliluk/subscriptions","organizations_url":"https://api.github.com/users/kotliluk/orgs","repos_url":"https://api.github.com/users/kotliluk/repos","events_url":"https://api.github.com/users/kotliluk/events{/privacy}","received_events_url":"https://api.github.com/users/kotliluk/received_events","type":"User","site_admin":false},"labels":[{"id":127893911,"node_id":"MDU6TGFiZWwxMjc4OTM5MTE=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20DOM","name":"Component: DOM","color":"fef2c0","default":false,"description":null},{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"},{"id":40929151,"node_id":"MDU6TGFiZWw0MDkyOTE1MQ==","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Bug","name":"Type: Bug","color":"b60205","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2021-03-25T10:17:28Z","updated_at":"2021-04-06T20:19:38Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello\r\n\r\nI wanted to highlight a div after clicking on it (and hide the highlight after clicking anywhere else). So in componentDidMount, I added two event listeners (on the div and on the window object).\r\nThe problem is kind of wild: when I use setState in a listener added in componentDidMount, radio buttons are not triggered.\r\nWhen the listener does not use setState or uses setTimeout(() => this.setState(...), 0), radio buttons works expectedly.\r\nWhen creating a code example, I also tried checkboxes, and they do not work as well. BUT, for example, button inputs work expectedly.\r\n\r\nReact version: 16.13.1 (in my app), 17.0.2 (in code sand box) - issue is in both of them\r\n\r\n## Steps To Reproduce\r\n\r\nYou can use this prepared code example: https://codesandbox.io/s/react-setstate-listener-input-bug-wjsdk\r\nThe example also shows other listeners set ups which work expectedly.\r\n\r\n## Current possible workaround\r\n\r\nAs mentioned earlier, we can use setTimeout(() => this.setState(...), 0) to gain expected behavior, but it is not a bug fix.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21091","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21091/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21091/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21091/events","html_url":"https://github.com/facebook/react/issues/21091","id":840598457,"node_id":"MDU6SXNzdWU4NDA1OTg0NTc=","number":21091,"title":"Bug: The invalid value warning was showed when adding functions to object prototype","user":{"login":"virtuous-code","id":9192537,"node_id":"MDQ6VXNlcjkxOTI1Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/9192537?v=4","gravatar_id":"","url":"https://api.github.com/users/virtuous-code","html_url":"https://github.com/virtuous-code","followers_url":"https://api.github.com/users/virtuous-code/followers","following_url":"https://api.github.com/users/virtuous-code/following{/other_user}","gists_url":"https://api.github.com/users/virtuous-code/gists{/gist_id}","starred_url":"https://api.github.com/users/virtuous-code/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/virtuous-code/subscriptions","organizations_url":"https://api.github.com/users/virtuous-code/orgs","repos_url":"https://api.github.com/users/virtuous-code/repos","events_url":"https://api.github.com/users/virtuous-code/events{/privacy}","received_events_url":"https://api.github.com/users/virtuous-code/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-03-25T06:17:12Z","updated_at":"2021-03-25T06:36:01Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"While adding a function to Object.prototype in React project anywhere, react while showing the Warning: Invalid value for prop \\`xxx\\` on tag. And an uncaught TypeError.\r\n\r\nReact version: 17.0.2\r\n\r\n## Steps To Reproduce\r\n\r\n1. Create a react project with create-react-app\r\n2. Put the following code anywhere in the project: `Object.prototype.test = function () {}`\r\n<img width=\"876\" alt=\"图片\" src=\"https://user-images.githubusercontent.com/9192537/112427671-f02aed80-8d74-11eb-8b23-8f5fa9683d2d.png\">\r\n\r\n## The current behavior\r\nGetting the warning\r\n![图片](https://user-images.githubusercontent.com/9192537/112427330-64b15c80-8d74-11eb-9c24-5b7eff138ca9.png)\r\nAlso the Uncaught TypeError: renderer.setTraceUpdatesEnabled is not a function.\r\n![图片](https://user-images.githubusercontent.com/9192537/112429126-35501f00-8d77-11eb-8361-28ac8db8a7fe.png)\r\n\r\n## The expected behavior\r\nExpected nether warning nor error.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21081","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21081/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21081/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21081/events","html_url":"https://github.com/facebook/react/pull/21081","id":840331779,"node_id":"MDExOlB1bGxSZXF1ZXN0NjAwMjI0MzUz","number":21081,"title":"Add @noinline directive to getBumpedLaneForHydration","user":{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-03-24T23:34:09Z","updated_at":"2021-03-25T18:31:26Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21081","html_url":"https://github.com/facebook/react/pull/21081","diff_url":"https://github.com/facebook/react/pull/21081.diff","patch_url":"https://github.com/facebook/react/pull/21081.patch"},"body":"**Edit**: Moving this back into draft for now; see this comment https://github.com/facebook/react/pull/21081#issuecomment-806257915\r\n\r\n---\r\n\r\nDuring compilation, `getBumpedLaneForHydration` was being inlined in a way that breaks the local `lane` variable (making it possible for that variable to have an `undefined` value – which would not be a possible value for it to have, given the way the code was written).\r\n\r\nAs part of being inlined, `lane` is also being combined with another variable (`nextFallbackChildren`) in `updateSuspenseComponent` which can be undefined if `props.fallback` is undefined (an uncommon case, but one that is supported):\r\n\r\n<img width=\"411\" alt=\"Screen Shot 2021-03-24 at 7 20 47 PM\" src=\"https://user-images.githubusercontent.com/29597/112397141-e3a48780-8cd7-11eb-9fae-6424e6be066b.png\">\r\n\r\nI think this should fix the problem temporarily. I'll look at the CI-generated artifact to confirm before landing.\r\n\r\nLonger term, this should be fixed on the Closure side presumably. I'll try to create a repro for them.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21078","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21078/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21078/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21078/events","html_url":"https://github.com/facebook/react/issues/21078","id":840056221,"node_id":"MDU6SXNzdWU4NDAwNTYyMjE=","number":21078,"title":"Bug: Incorrect error message","user":{"login":"toschlog","id":25090868,"node_id":"MDQ6VXNlcjI1MDkwODY4","avatar_url":"https://avatars.githubusercontent.com/u/25090868?v=4","gravatar_id":"","url":"https://api.github.com/users/toschlog","html_url":"https://github.com/toschlog","followers_url":"https://api.github.com/users/toschlog/followers","following_url":"https://api.github.com/users/toschlog/following{/other_user}","gists_url":"https://api.github.com/users/toschlog/gists{/gist_id}","starred_url":"https://api.github.com/users/toschlog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toschlog/subscriptions","organizations_url":"https://api.github.com/users/toschlog/orgs","repos_url":"https://api.github.com/users/toschlog/repos","events_url":"https://api.github.com/users/toschlog/events{/privacy}","received_events_url":"https://api.github.com/users/toschlog/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-03-24T18:55:19Z","updated_at":"2021-04-01T08:57:17Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I'm getting this error message:\r\n\r\n  React Hook \"useStyles\" is called conditionally. React Hooks must be called in the exact same order in every component render\r\n\r\nHowever, I'm pretty darn sure that I'm not actually calling useStyles conditionally.  Also, the error messages come and go if I comment out unrelated code.\r\n\r\nReact version: 17.0.1\r\n\r\n## Steps To Reproduce\r\n\r\n1. Attempt to run my app\r\n\r\nUnfortunately this error only happens with one particular big source file.  I don't see an easy way to show it to you without sending my whole project.  I don't mind doing that, however.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21059","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21059/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21059/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21059/events","html_url":"https://github.com/facebook/react/issues/21059","id":838960244,"node_id":"MDU6SXNzdWU4Mzg5NjAyNDQ=","number":21059,"title":"Bug: Nondeterministic first render","user":{"login":"bennettdams","id":29319414,"node_id":"MDQ6VXNlcjI5MzE5NDE0","avatar_url":"https://avatars.githubusercontent.com/u/29319414?v=4","gravatar_id":"","url":"https://api.github.com/users/bennettdams","html_url":"https://github.com/bennettdams","followers_url":"https://api.github.com/users/bennettdams/followers","following_url":"https://api.github.com/users/bennettdams/following{/other_user}","gists_url":"https://api.github.com/users/bennettdams/gists{/gist_id}","starred_url":"https://api.github.com/users/bennettdams/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bennettdams/subscriptions","organizations_url":"https://api.github.com/users/bennettdams/orgs","repos_url":"https://api.github.com/users/bennettdams/repos","events_url":"https://api.github.com/users/bennettdams/events{/privacy}","received_events_url":"https://api.github.com/users/bennettdams/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-03-23T17:33:29Z","updated_at":"2021-04-07T16:37:02Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"It is possible that this is not a bug, but rather expected - I couldn't find any material on the internet for this particular use case though.\r\n\r\nReact version: v17.0.1\r\n\r\n*TL;DR   React sometimes renders a loading state and sometimes not, without changes in the UI. Maybe this has something to do with [batched updates][1], where the initial state and the next state are batched?*\r\n\r\n\r\n## Steps To Reproduce\r\n\r\n[![See on CodeSandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/s/react-nondeterministic-rendering-vh47i?file=/src/App.tsx)\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHere's the setup, a chart that takes a *long* time to render. So long that the render is blocking. There are three different ways to render the chart here:\r\n\r\n 1. the \"normal\" way\r\n 2. with a \"mounted\" render hack\r\n 3. with the same \"mounted\" render hack, but with an additional `setTimeout`\r\n\r\nOption 2 & 3 both have a small `useState` to check whether they've been mounted. I do this to show a \"Loading\" state conditionally:\r\n\r\n\r\n```tsx\r\nfunction ChartWithMountHack({ data }: { data: Data }) {\r\n  // initially not mounted\r\n  const [isMounted, setIsMounted] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    // \"Now I've been mounted!\"\r\n    setIsMounted(true);\r\n  }, []);\r\n\r\n  return !isMounted ? <p>Loading</p> : <Chart data={data} />;\r\n}\r\n```\r\nI did this, because I want to show a \"Loading\" state instead of a blocking render, so e.g. page switches or ternary rendering (e.g. `hasData ? <p>No data</p> : <Chart />`) are shown immediately, instead of blocking. **(If there are better ways, please let me know!)**\r\n\r\n\r\n\r\n## The current behavior\r\n\r\nNow, each button will render one of the three options/charts. Again, the second and third chart have a small hack to check whether they're mounted or not.\r\n\r\nTry clicking on the first button and the second button back & forth quickly.\r\nYou will see that sometimes the \"Chart with mount hack\" will (\"correctly\") render the \"Loading\" state, but sometimes it just doesn't render the \"Loading\" - instead it blocks the render up until the chart is finished rendering (skips the \"Loading\" state).\r\n\r\nI think this is due to the render cycles and whether you get the two updates in one cycle of the batching. (first: `isMounted === false` -> second: `isMounted === true`)\r\n\r\nI can't really tell how to reproduce this, hence the \"nondeterministic\" in the title. Sometimes you also have to click on \"Regenerate data\" and click back & forth after that. \r\n\r\n## The expected behavior\r\n\r\n\r\nOption 3 (\"Chart with mount hack with timeout\") ALWAYS gives me the \"Loading\" state, which is exactly what I want. The only difference to option 2 is using a `setTimeout` in the `useEffect` where `isMounted` is set to true. [`setTimeout` is used here to break out of the update batching.][2]\r\n\r\nIs there a better way to opt-out of the batching, so `isMounted` will always render with its initial value (`false`)?  \r\n\r\n\r\nShouldn't the first render and its initial values be outside of the batched updates? If not, how can I tell React to do so (given that stuff like async/`setTimeout`/.. are just \"hacks\" to circumvent that right now)?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48563650/does-react-keep-the-order-for-state-updates/48610973#48610973\r\n  [2]: https://github.com/facebook/react/issues/14259#issuecomment-439632622\r\n  [3]: https://i.stack.imgur.com/2opgKm.png\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21057","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21057/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21057/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21057/events","html_url":"https://github.com/facebook/react/issues/21057","id":838594630,"node_id":"MDU6SXNzdWU4Mzg1OTQ2MzA=","number":21057,"title":"Bug: useState with class as initial state throws an error","user":{"login":"jneuendorf","id":6906734,"node_id":"MDQ6VXNlcjY5MDY3MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/6906734?v=4","gravatar_id":"","url":"https://api.github.com/users/jneuendorf","html_url":"https://github.com/jneuendorf","followers_url":"https://api.github.com/users/jneuendorf/followers","following_url":"https://api.github.com/users/jneuendorf/following{/other_user}","gists_url":"https://api.github.com/users/jneuendorf/gists{/gist_id}","starred_url":"https://api.github.com/users/jneuendorf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jneuendorf/subscriptions","organizations_url":"https://api.github.com/users/jneuendorf/orgs","repos_url":"https://api.github.com/users/jneuendorf/repos","events_url":"https://api.github.com/users/jneuendorf/events{/privacy}","received_events_url":"https://api.github.com/users/jneuendorf/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"},{"id":710375792,"node_id":"MDU6TGFiZWw3MTAzNzU3OTI=","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Discussion","name":"Type: Discussion","color":"fef2c0","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-03-23T10:51:17Z","updated_at":"2021-03-31T02:37:37Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Using a JavaScript class as initial state in `useState` throws an error. This is because `mountState` check if the initial state is a function by `typeof initialState === 'function'` and classes are technically functions. However since ES6+, I feel like most developers don't consider classes functions because of the less prototype-inheritance feel since ES6 and the `class` keyword.\r\n\r\n\r\nReact version: 17.0.2\r\n\r\n\r\n## Steps To Reproduce\r\n\r\n1. Define an ES6 class\r\n2. Use the class as `initialState` argument to `useState`\r\n\r\nCode example:\r\n\r\n```jsx\r\nimport { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nclass A {}\r\n\r\nfunction App() {\r\n  const [cls, setCls] = useState(A);\r\n  return <h2>{cls.name}</h2>;\r\n}\r\n\r\nReactDOM.render(<App />, document.body);\r\n```\r\n\r\n## The current behavior\r\n\r\n```\r\nTypeError: Cannot call a class as a function\r\n    at _classCallCheck (eval at z (eval.js:42), <anonymous>:3:11)\r\n    at A (VM302 index.js:19)\r\n    at mountState (react-dom.development.js:10436)\r\n    at Object.useState (react-dom.development.js:10919)\r\n    at useState (react.development.js:954)\r\n    at App (VM302 index.js:25)\r\n```\r\n\r\nAlternatively, the error can be `TypeError: Class constructor X cannot be invoked without 'new'`.\r\n\r\n\r\n## The expected behavior\r\n\r\nAs mentioned in the description above, I would \r\n\r\n- either expect classes to work\r\n- or mention this caveat in the docs.\r\n\r\nI guess checking, if the initial state is actually a non-class function, could cause instances of subclasses of functions not to work (depending how the check is done).\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21049","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21049/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21049/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21049/events","html_url":"https://github.com/facebook/react/issues/21049","id":837621263,"node_id":"MDU6SXNzdWU4Mzc2MjEyNjM=","number":21049,"title":"Bug: `onMouseEnter` triggered twice on target when there's space around it, and ReactDOM.createPortal is used to render something else","user":{"login":"benoitgrelard","id":1539897,"node_id":"MDQ6VXNlcjE1Mzk4OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1539897?v=4","gravatar_id":"","url":"https://api.github.com/users/benoitgrelard","html_url":"https://github.com/benoitgrelard","followers_url":"https://api.github.com/users/benoitgrelard/followers","following_url":"https://api.github.com/users/benoitgrelard/following{/other_user}","gists_url":"https://api.github.com/users/benoitgrelard/gists{/gist_id}","starred_url":"https://api.github.com/users/benoitgrelard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benoitgrelard/subscriptions","organizations_url":"https://api.github.com/users/benoitgrelard/orgs","repos_url":"https://api.github.com/users/benoitgrelard/repos","events_url":"https://api.github.com/users/benoitgrelard/events{/privacy}","received_events_url":"https://api.github.com/users/benoitgrelard/received_events","type":"User","site_admin":false},"labels":[{"id":127893911,"node_id":"MDU6TGFiZWwxMjc4OTM5MTE=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20DOM","name":"Component: DOM","color":"fef2c0","default":false,"description":null},{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-22T11:25:21Z","updated_at":"2021-03-23T11:40:47Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"React version: 17\r\n\r\n## Steps To Reproduce\r\n\r\n1. Hover the button\r\n2. Note the double log produced\r\n\r\nLink to code example: https://codesandbox.io/s/react-mouseenter-bug-uyswr?file=/src/App.js\r\n\r\n## The current behavior\r\n\r\nThe `onMouseEnter` is triggered twice.\r\n\r\n## The expected behavior\r\n\r\nThe `onMouseEnter` should be triggered only once.\r\n\r\n---\r\n\r\nA few more notes:\r\n- I've tested on React 16.14 and it seems that bug only appeared in 17. (I can see it in the first ever 17 rc as well).\r\n- It's specifically when something happens to be portalled on the page too (you'll see if you don't render in a portal, no issue)\r\n- It is also linked to the fact there's space around the target that gets moused over. You'll notice that if you comment out the heading below for example and you mouse-enter coming from the bottom, the bug won't be there. But it will be at the top. Similarly if we you keep the headings rendered, but override their margins to be 0 such that there's no gap between the heading and the button, it won't happen either.\r\n\r\nI'm conscious this is all really odd but I haven't been able to find out exactly what's happening here…\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21044","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21044/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21044/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21044/events","html_url":"https://github.com/facebook/react/pull/21044","id":836890455,"node_id":"MDExOlB1bGxSZXF1ZXN0NTk3MzQ0MDk3","number":21044,"title":"chore: update feature request template","user":{"login":"Uyadav207","id":50916299,"node_id":"MDQ6VXNlcjUwOTE2Mjk5","avatar_url":"https://avatars.githubusercontent.com/u/50916299?v=4","gravatar_id":"","url":"https://api.github.com/users/Uyadav207","html_url":"https://github.com/Uyadav207","followers_url":"https://api.github.com/users/Uyadav207/followers","following_url":"https://api.github.com/users/Uyadav207/following{/other_user}","gists_url":"https://api.github.com/users/Uyadav207/gists{/gist_id}","starred_url":"https://api.github.com/users/Uyadav207/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Uyadav207/subscriptions","organizations_url":"https://api.github.com/users/Uyadav207/orgs","repos_url":"https://api.github.com/users/Uyadav207/repos","events_url":"https://api.github.com/users/Uyadav207/events{/privacy}","received_events_url":"https://api.github.com/users/Uyadav207/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-03-20T19:16:17Z","updated_at":"2021-03-20T19:40:49Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21044","html_url":"https://github.com/facebook/react/pull/21044","diff_url":"https://github.com/facebook/react/pull/21044.diff","patch_url":"https://github.com/facebook/react/pull/21044.patch"},"body":"Update `feature-request.md`\r\nMark question description as a comment, as they are for the author's eye only.\n\n- There are number of feature requests but they are unstructured and cause difficulty for maintainers to understand the flow of the feature.\n- This template will help the maintainer as well as contributor by providing a concise format to define a feature.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21043","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21043/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21043/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21043/events","html_url":"https://github.com/facebook/react/issues/21043","id":836864140,"node_id":"MDU6SXNzdWU4MzY4NjQxNDA=","number":21043,"title":"Feature request: Consider supporting AbortSignal/AbortController for cleanup","user":{"login":"benjamingr","id":1315533,"node_id":"MDQ6VXNlcjEzMTU1MzM=","avatar_url":"https://avatars.githubusercontent.com/u/1315533?v=4","gravatar_id":"","url":"https://api.github.com/users/benjamingr","html_url":"https://github.com/benjamingr","followers_url":"https://api.github.com/users/benjamingr/followers","following_url":"https://api.github.com/users/benjamingr/following{/other_user}","gists_url":"https://api.github.com/users/benjamingr/gists{/gist_id}","starred_url":"https://api.github.com/users/benjamingr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benjamingr/subscriptions","organizations_url":"https://api.github.com/users/benjamingr/orgs","repos_url":"https://api.github.com/users/benjamingr/repos","events_url":"https://api.github.com/users/benjamingr/events{/privacy}","received_events_url":"https://api.github.com/users/benjamingr/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2021-03-20T17:10:15Z","updated_at":"2021-04-09T13:59:18Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hey, I've recently worked on adding support for `AbortController/AbortSignal` in a bunch of Node.js APIs and some DOM ones and I think it would be really cool if React added support to the web platform's cancellation standard primitive.\r\n\r\nBasically the ask is:\r\n\r\n```js\r\n//before\r\nuseEffect(() => {\r\n  const ac = new AbortController();\r\n  (async () => {\r\n    const data = await fetch('./api', { signal: ac.signal }).then(x => x.json());\r\n    setData(data);\r\n  })();\r\n  return () => ac.abort();\r\n});\r\n//after\r\nuseEffect(async (signal) => {\r\n  const data = await fetch('./api', { signal }).then(x => x.json());\r\n  setData(data);\r\n});\r\n```\r\n\r\nOr with events:\r\n```js\r\n//before\r\nuseEffect(() => {\r\n   const listener = (message) => setMessage(process(message));\r\n   myApi.addEventListener(\"message\", listener);\r\n   return () => myApi.removeEventListener(\"message\", listener);\r\n});\r\n//after\r\nuseEffect(async (signal) => {\r\n  myApi.addEventListener(\"message\", (message) => setMessage(process(message)), { signal });\r\n});\r\n```\r\n\r\nI can bring in more examples. It's also possible to keep the API compatible with the existing API or create the AbortSignal lazily to minimize performance impact.\r\n\r\nApologies if I opened this in the incorrect place :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21035","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21035/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21035/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21035/events","html_url":"https://github.com/facebook/react/issues/21035","id":836115802,"node_id":"MDU6SXNzdWU4MzYxMTU4MDI=","number":21035,"title":"Bug: aria-description is a valid ARIA property","user":{"login":"nordfjord","id":3721521,"node_id":"MDQ6VXNlcjM3MjE1MjE=","avatar_url":"https://avatars.githubusercontent.com/u/3721521?v=4","gravatar_id":"","url":"https://api.github.com/users/nordfjord","html_url":"https://github.com/nordfjord","followers_url":"https://api.github.com/users/nordfjord/followers","following_url":"https://api.github.com/users/nordfjord/following{/other_user}","gists_url":"https://api.github.com/users/nordfjord/gists{/gist_id}","starred_url":"https://api.github.com/users/nordfjord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nordfjord/subscriptions","organizations_url":"https://api.github.com/users/nordfjord/orgs","repos_url":"https://api.github.com/users/nordfjord/repos","events_url":"https://api.github.com/users/nordfjord/events{/privacy}","received_events_url":"https://api.github.com/users/nordfjord/received_events","type":"User","site_admin":false},"labels":[{"id":127893911,"node_id":"MDU6TGFiZWwxMjc4OTM5MTE=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20DOM","name":"Component: DOM","color":"fef2c0","default":false,"description":null},{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-03-19T15:23:40Z","updated_at":"2021-04-03T18:30:36Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: 16.x\r\n\r\n## Steps To Reproduce\r\n\r\n1. `render(<div aria-description=\"Description\" />)`\r\n\r\n<!--\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\nLink to code example:\r\n[flems link](https://flems.io/#0=N4IgZglgNgpgziAXAbVAOwIYFsZJAOgAsAXLKEAGhAGMB7NYmBvAHgBMIA3AAgjYF4AOiAwAHUcIB8gtN24yWAeg6dJlEHBixqxCPQSIQARkQAmEAF8K6bLkP4AVgip0GTYngBKMDDoAiAPIAsvgATkxsMKEAFOxc3BihEBgAtJFw1EmiuvRCIH7wmRDZemjC3IqSFAniAJTqdFii0FF4AEYYbVqW1iCYOHj41HDONPSMzIaWALpUUBBoANYGqH22eOG+xPiRnFq0ojgMjqMArqHkhiTEonCIioqnaKKLAOZDtFiKmzoAAkYAdnwAAZ8EZHlg2N8fDodjA9lADkdtk51MQAJ6iOwaIrZHo2AaGH7ENKfOEIpHuE7qc6XEDXW73R7PN4fL7E0lYf5A0Hg06Q6FbTnk-aHKmoqgYrF4DJZDwWaYWIA)\r\n\r\n## The current behavior\r\n```\r\nwarning: Invalid aria prop `aria-description` on <div> tag\r\n```\r\n\r\n## The expected behavior\r\nNothing. It's part of WAI-ARIA 1.3\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Annotations","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21031","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21031/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21031/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21031/events","html_url":"https://github.com/facebook/react/issues/21031","id":834714361,"node_id":"MDU6SXNzdWU4MzQ3MTQzNjE=","number":21031,"title":"Bug: Creating a portal within a shadow root breaks event handlers","user":{"login":"ablamunits","id":9403859,"node_id":"MDQ6VXNlcjk0MDM4NTk=","avatar_url":"https://avatars.githubusercontent.com/u/9403859?v=4","gravatar_id":"","url":"https://api.github.com/users/ablamunits","html_url":"https://github.com/ablamunits","followers_url":"https://api.github.com/users/ablamunits/followers","following_url":"https://api.github.com/users/ablamunits/following{/other_user}","gists_url":"https://api.github.com/users/ablamunits/gists{/gist_id}","starred_url":"https://api.github.com/users/ablamunits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ablamunits/subscriptions","organizations_url":"https://api.github.com/users/ablamunits/orgs","repos_url":"https://api.github.com/users/ablamunits/repos","events_url":"https://api.github.com/users/ablamunits/events{/privacy}","received_events_url":"https://api.github.com/users/ablamunits/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-03-18T11:47:37Z","updated_at":"2021-03-18T11:47:37Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nWith React 16 there seem to be issues related to using a portal within the shadow dom. Possibly this is related to issues with event delagations that are [solved](\"react-dom\": \"^17.0.1\") with React 17.\r\n\r\nI have a part of my app rendered within a shadow dom. In there, I conditionally render some input using `createPortal` elsewhere in the dom. When the input field is rendered using a portal, the event handlers break. See the reproduction example below.\r\n\r\nReact version: 16.14.0\r\n\r\n## Steps To Reproduce\r\n\r\nhttps://codesandbox.io/s/stupefied-heyrovsky-3i59t?file=/src/index.tsx\r\n\r\n1. Open the link above and click the button that will render an input field. This will render the input elsewhere within the shadow dom.\r\n2. Blur the input field. It is expected that `OK` is logged to the console, but nothing is logged.\r\n\r\nA few things I noticed that would resolve the issue:\r\n\r\n1. Removing the portal will result in `OK` being logged correctly on blur.\r\n2. Adding an `<input hidden />` that otherwise does nothing will result in `OK` being logged correctly on blur.\r\n3. Removing the use of `useState` will result in `OK` being logged correctly on blur.\r\n4. Removing the shadow dom\r\n5. Upgrading to React 17\r\n\r\nLink to code example:\r\n\r\nhttps://codesandbox.io/s/stupefied-heyrovsky-3i59t?file=/src/index.tsx\r\n\r\n## The current behavior\r\n\r\nEvent handlers break when using a portal within the shadow dom in certain (quite sneaky) circumstances.\r\n\r\n## The expected behavior\r\n\r\nThe events should work correctly within the shadow dom when using portals\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21025","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21025/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21025/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21025/events","html_url":"https://github.com/facebook/react/issues/21025","id":834220874,"node_id":"MDU6SXNzdWU4MzQyMjA4NzQ=","number":21025,"title":"Bug: HTMLSelectElement.value doesn't update to defaultValue on form reset","user":{"login":"cl8n","id":9954349,"node_id":"MDQ6VXNlcjk5NTQzNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9954349?v=4","gravatar_id":"","url":"https://api.github.com/users/cl8n","html_url":"https://github.com/cl8n","followers_url":"https://api.github.com/users/cl8n/followers","following_url":"https://api.github.com/users/cl8n/following{/other_user}","gists_url":"https://api.github.com/users/cl8n/gists{/gist_id}","starred_url":"https://api.github.com/users/cl8n/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cl8n/subscriptions","organizations_url":"https://api.github.com/users/cl8n/orgs","repos_url":"https://api.github.com/users/cl8n/repos","events_url":"https://api.github.com/users/cl8n/events{/privacy}","received_events_url":"https://api.github.com/users/cl8n/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-17T22:18:45Z","updated_at":"2021-03-23T03:55:20Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"For uncontrolled inputs, [docs here](https://github.com/facebook/react/blob/master/fixtures/dom/src/components/fixtures/text-inputs/README.md#form-reset-events) say that `reset()`ing a form should change all inputs' `value`s to `defaultValue`. This doesn't seem to be working for `HTMLSelectElement`.\r\n\r\nReact version: 17.0.1\r\n\r\n## Steps To Reproduce\r\n\r\n1. Set a `defaultValue` on \\<select\\> to some variable that can be changed later\r\n2. Pick a different option\r\n3. Change the value of variable from step 1\r\n4. `reset()` the form containing the \\<select\\>\r\n\r\nLink to code example: <https://codesandbox.io/s/cocky-curran-365wd?file=/src/App.js>\r\n\r\n## The current behavior\r\n\r\nThe \\<select\\>'s value resets to its *initial* `defaultValue`, not the updated one.\r\n\r\nIn my codesandbox.io example you can see that it always resets to \"Zero\", regardless of how you update the `defaultValue`.\r\n\r\n## The expected behavior\r\n\r\nThe \\<select\\>'s value should update to its current `defaultValue`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21023","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21023/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21023/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21023/events","html_url":"https://github.com/facebook/react/issues/21023","id":834061012,"node_id":"MDU6SXNzdWU4MzQwNjEwMTI=","number":21023,"title":"react-devtools-inline package now has react@experimental dependency","user":{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false},"labels":[{"id":710573595,"node_id":"MDU6TGFiZWw3MTA1NzM1OTU=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools","name":"Component: Developer Tools","color":"fbca04","default":false,"description":null},{"id":40929151,"node_id":"MDU6TGFiZWw0MDkyOTE1MQ==","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Bug","name":"Type: Bug","color":"b60205","default":false,"description":null}],"state":"open","locked":false,"assignee":{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false},"assignees":[{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2021-03-17T18:22:17Z","updated_at":"2021-03-18T14:39:10Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I recently updated DevTools to use the new, experimental `getCacheForType` API (#20548) which works well for the browser and standalone extension versions, because they bundle their own version of React (the experimental release). This has left the `react-devtools-inline` package (used by e.g. Code Sandbox) in an unreleasable state though until the new Suspense APIs are released as stable.\r\n\r\nPerhaps I could go back to the last commit prior to #20548 and do one final release, but then I will be blocked.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21002","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21002/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21002/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21002/events","html_url":"https://github.com/facebook/react/issues/21002","id":831167999,"node_id":"MDU6SXNzdWU4MzExNjc5OTk=","number":21002,"title":"Bug: Unsupported HTML entities","user":{"login":"fast-reflexes","id":2438128,"node_id":"MDQ6VXNlcjI0MzgxMjg=","avatar_url":"https://avatars.githubusercontent.com/u/2438128?v=4","gravatar_id":"","url":"https://api.github.com/users/fast-reflexes","html_url":"https://github.com/fast-reflexes","followers_url":"https://api.github.com/users/fast-reflexes/followers","following_url":"https://api.github.com/users/fast-reflexes/following{/other_user}","gists_url":"https://api.github.com/users/fast-reflexes/gists{/gist_id}","starred_url":"https://api.github.com/users/fast-reflexes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fast-reflexes/subscriptions","organizations_url":"https://api.github.com/users/fast-reflexes/orgs","repos_url":"https://api.github.com/users/fast-reflexes/repos","events_url":"https://api.github.com/users/fast-reflexes/events{/privacy}","received_events_url":"https://api.github.com/users/fast-reflexes/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-14T14:16:25Z","updated_at":"2021-03-17T07:29:51Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Many of the HTML entities presented at https://dev.w3.org/html5/html-author/charref are not supported by React, why is this?\r\n\r\n## Steps To Reproduce\r\n\r\nCheck https://codesandbox.io/s/react-unsupported-html-entities-yr9rj\r\n\r\n## The current behavior\r\n\r\nReact recognizes some entities as string literals which may cause problems when the browser in question in fact supports the entity but React tricks the browser into thinking that it is a string, just because React doesn't seem to recognize it.\r\n\r\n## The expected behavior\r\n\r\nThe symbol that the entity should yield.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/21001","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/21001/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/21001/comments","events_url":"https://api.github.com/repos/facebook/react/issues/21001/events","html_url":"https://github.com/facebook/react/pull/21001","id":831100543,"node_id":"MDExOlB1bGxSZXF1ZXN0NTkyNTAxNTM5","number":21001,"title":"Updated .gitignore to ignore the hprof files","user":{"login":"Sheharyar566","id":29799626,"node_id":"MDQ6VXNlcjI5Nzk5NjI2","avatar_url":"https://avatars.githubusercontent.com/u/29799626?v=4","gravatar_id":"","url":"https://api.github.com/users/Sheharyar566","html_url":"https://github.com/Sheharyar566","followers_url":"https://api.github.com/users/Sheharyar566/followers","following_url":"https://api.github.com/users/Sheharyar566/following{/other_user}","gists_url":"https://api.github.com/users/Sheharyar566/gists{/gist_id}","starred_url":"https://api.github.com/users/Sheharyar566/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sheharyar566/subscriptions","organizations_url":"https://api.github.com/users/Sheharyar566/orgs","repos_url":"https://api.github.com/users/Sheharyar566/repos","events_url":"https://api.github.com/users/Sheharyar566/events{/privacy}","received_events_url":"https://api.github.com/users/Sheharyar566/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-03-14T08:23:31Z","updated_at":"2021-03-14T08:52:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/21001","html_url":"https://github.com/facebook/react/pull/21001","diff_url":"https://github.com/facebook/react/pull/21001.diff","patch_url":"https://github.com/facebook/react/pull/21001.patch"},"body":"Editing the gradle properties files to increase the heap introduces the hprof files to the android (therefore, adding it to .gitignore so that no one else gets in trouble with them like I did)\r\n\r\n<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\n\r\n<!-- Explain the **motivation** for making this change. What existing problem does the pull request solve? -->\r\n\r\n## Test Plan\r\n\r\n<!-- Demonstrate the code is solid. Example: The exact commands you ran and their output, screenshots / videos if the pull request changes the user interface. -->\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20996","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20996/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20996/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20996/events","html_url":"https://github.com/facebook/react/pull/20996","id":830922084,"node_id":"MDExOlB1bGxSZXF1ZXN0NTkyMzc5MTE5","number":20996,"title":"Remove data-reactroot from server rendering and hydration heuristic","user":{"login":"sebmarkbage","id":63648,"node_id":"MDQ6VXNlcjYzNjQ4","avatar_url":"https://avatars.githubusercontent.com/u/63648?v=4","gravatar_id":"","url":"https://api.github.com/users/sebmarkbage","html_url":"https://github.com/sebmarkbage","followers_url":"https://api.github.com/users/sebmarkbage/followers","following_url":"https://api.github.com/users/sebmarkbage/following{/other_user}","gists_url":"https://api.github.com/users/sebmarkbage/gists{/gist_id}","starred_url":"https://api.github.com/users/sebmarkbage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebmarkbage/subscriptions","organizations_url":"https://api.github.com/users/sebmarkbage/orgs","repos_url":"https://api.github.com/users/sebmarkbage/repos","events_url":"https://api.github.com/users/sebmarkbage/events{/privacy}","received_events_url":"https://api.github.com/users/sebmarkbage/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-03-13T15:24:37Z","updated_at":"2021-03-13T15:33:56Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20996","html_url":"https://github.com/facebook/react/pull/20996","diff_url":"https://github.com/facebook/react/pull/20996.diff","patch_url":"https://github.com/facebook/react/pull/20996.patch"},"body":"__Breaking changes in this PR. Don't land unless we plan on not releasing minors from this branch. This is annoying to feature flag because it's so spread out in tests and cleaning it up afterwards has non-trivial implications. E.g. this is one of the last differences between renderToString and renderToStaticMarkup.__\r\n\r\nThis was used to implicitly hydrate if you call ReactDOM.render.\r\n\r\nWe've had a warning to explicitly use ReactDOM.hydrate(...) instead of ReactDOM.render(...). We can now remove this from the generated markup. (And avoid adding it to Fizz.)\r\n\r\nThis is a little strange to do now since we're trying hard to make the root API work the same and especially since this only affects the old api that might be going away anyway.\r\n\r\nIf we kept it, we'd need to keep it in the generated output which adds unnecessary bytes. It also risks people relying on it, in the Fizz world where as this is an opportunity to create that clean state.\r\n\r\nWe could possibly only keep it in the old server rendering APIs but then that creates an implicit dependency between which server root API and which client root API that you use together. Currently you can really mix and match either way.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20990","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20990/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20990/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20990/events","html_url":"https://github.com/facebook/react/issues/20990","id":830331726,"node_id":"MDU6SXNzdWU4MzAzMzE3MjY=","number":20990,"title":"Bug: performing input.select() in IE11 throws a React error","user":{"login":"Dremora","id":242202,"node_id":"MDQ6VXNlcjI0MjIwMg==","avatar_url":"https://avatars.githubusercontent.com/u/242202?v=4","gravatar_id":"","url":"https://api.github.com/users/Dremora","html_url":"https://github.com/Dremora","followers_url":"https://api.github.com/users/Dremora/followers","following_url":"https://api.github.com/users/Dremora/following{/other_user}","gists_url":"https://api.github.com/users/Dremora/gists{/gist_id}","starred_url":"https://api.github.com/users/Dremora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dremora/subscriptions","organizations_url":"https://api.github.com/users/Dremora/orgs","repos_url":"https://api.github.com/users/Dremora/repos","events_url":"https://api.github.com/users/Dremora/events{/privacy}","received_events_url":"https://api.github.com/users/Dremora/received_events","type":"User","site_admin":false},"labels":[{"id":69105383,"node_id":"MDU6TGFiZWw2OTEwNTM4Mw==","url":"https://api.github.com/repos/facebook/react/labels/Browser:%20IE","name":"Browser: IE","color":"c7def8","default":false,"description":null},{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"},{"id":40929151,"node_id":"MDU6TGFiZWw0MDkyOTE1MQ==","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Bug","name":"Type: Bug","color":"b60205","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-03-12T17:51:22Z","updated_at":"2021-03-17T00:01:42Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"The example below is extracted from the app with a spreadsheet-like UI, where cells become editable upon focus (can be achieved either by tabbing into the cells or clicking). The text in such cell immediately becomes selected.\r\n\r\nThe bug occurs only in IE11, as the user navigates from one such cell to another by clicking.\r\nLikely related to https://github.com/facebook/react/pull/19664.\r\n\r\nReact version: 17.0.1\r\n\r\n## Steps To Reproduce\r\n\r\n1. Clone https://github.com/Dremora/react-i11-input-focus-bug\r\n2. Install dependencies (`yarn`) and start the app (`yarn start`)\r\n3. Open http://localhost:3000 in IE11\r\n4. Click on the text saying `hello`\r\n5. Click on the text saying `world`\r\n\r\nLink to code example: https://github.com/Dremora/react-i11-input-focus-bug/blob/master/src/App.js\r\n\r\n## The current behavior\r\n`Unspecified error` gets logged to the console, followed a few other errors, one of them being `Should not already be working` error. As this is a React internals error, application stops working. Nothing gets thrown in the user-land code.\r\n\r\n## The expected behavior\r\n`world` text gets selected.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20985","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20985/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20985/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20985/events","html_url":"https://github.com/facebook/react/pull/20985","id":829628402,"node_id":"MDExOlB1bGxSZXF1ZXN0NTkxMjY0Mzg0","number":20985,"title":"Fixes https://github.com/facebook/react/issues/20966","user":{"login":"jordyvandomselaar","id":12712484,"node_id":"MDQ6VXNlcjEyNzEyNDg0","avatar_url":"https://avatars.githubusercontent.com/u/12712484?v=4","gravatar_id":"","url":"https://api.github.com/users/jordyvandomselaar","html_url":"https://github.com/jordyvandomselaar","followers_url":"https://api.github.com/users/jordyvandomselaar/followers","following_url":"https://api.github.com/users/jordyvandomselaar/following{/other_user}","gists_url":"https://api.github.com/users/jordyvandomselaar/gists{/gist_id}","starred_url":"https://api.github.com/users/jordyvandomselaar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jordyvandomselaar/subscriptions","organizations_url":"https://api.github.com/users/jordyvandomselaar/orgs","repos_url":"https://api.github.com/users/jordyvandomselaar/repos","events_url":"https://api.github.com/users/jordyvandomselaar/events{/privacy}","received_events_url":"https://api.github.com/users/jordyvandomselaar/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2021-03-11T23:59:51Z","updated_at":"2021-03-21T19:04:20Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20985","html_url":"https://github.com/facebook/react/pull/20985","diff_url":"https://github.com/facebook/react/pull/20985.diff","patch_url":"https://github.com/facebook/react/pull/20985.patch"},"body":"<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\n\r\n<!-- Explain the **motivation** for making this change. What existing problem does the pull request solve? -->\r\n\r\nPlease see this issue: https://github.com/facebook/react/issues/20966\r\n\r\nThe issue described that `onMouseEnter` did work as intended which gave me a pointer for where to look. Props on the codebase! First time I'm looking at it and it does make sense.\r\n\r\n## Test Plan\r\n\r\n<!-- Demonstrate the code is solid. Example: The exact commands you ran and their output, screenshots / videos if the pull request changes the user interface. -->\r\n\r\nI added tests that covered the cases described in https://github.com/facebook/react/issues/20966 which initially failed, after I added the code needed, the tests passed.\r\n\r\nI've also created a codesandbox with the latest React release: [https://codesandbox.io/s/dreamy-boyd-ssbrc?file=/src/index.js](https://codesandbox.io/s/dreamy-boyd-ssbrc?file=/src/index.js)\r\n\r\nThis problem doesn't occur when using React on the web & using a mouse to hover/click on a disabled button because React doesn't normally fire the `mouseover` event this way. It does occur when manually triggering a bubbling mouseover event on a disabled button.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20981","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20981/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20981/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20981/events","html_url":"https://github.com/facebook/react/issues/20981","id":829047877,"node_id":"MDU6SXNzdWU4MjkwNDc4Nzc=","number":20981,"title":"Bug: Error message prints \"Warning: ...\" instead of \"Error: ...\"","user":{"login":"kokushkin","id":9853656,"node_id":"MDQ6VXNlcjk4NTM2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/9853656?v=4","gravatar_id":"","url":"https://api.github.com/users/kokushkin","html_url":"https://github.com/kokushkin","followers_url":"https://api.github.com/users/kokushkin/followers","following_url":"https://api.github.com/users/kokushkin/following{/other_user}","gists_url":"https://api.github.com/users/kokushkin/gists{/gist_id}","starred_url":"https://api.github.com/users/kokushkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kokushkin/subscriptions","organizations_url":"https://api.github.com/users/kokushkin/orgs","repos_url":"https://api.github.com/users/kokushkin/repos","events_url":"https://api.github.com/users/kokushkin/events{/privacy}","received_events_url":"https://api.github.com/users/kokushkin/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-03-11T11:09:58Z","updated_at":"2021-03-31T05:57:09Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version:\r\n\r\n## Steps To Reproduce\r\n\r\n1. Go at https://codesandbox.io/s/warning-issue-formik-v2-tutorial-start-forked-lwtxx?file=/src/index.js and type something in the Tool ID field. This reproduces one of these errors-warnings..\r\n2. Take a look in the console and you will see an Error but.. a Warning, or Error (in fact it's considered to be an error)... , which is simply confusing. \r\n![image](https://user-images.githubusercontent.com/9853656/110771670-6f8fcb80-8263-11eb-9f85-60026f9c52b0.png)\r\n\r\n\r\n<!--\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\n## Link to code example: https://codesandbox.io/s/warning-issue-formik-v2-tutorial-start-forked-lwtxx?file=/src/index.js\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\n## The current behavior\r\nprints: \"Warning: A component is changing an uncontrolled...\"\r\n\r\n## The expected behavior\r\nshould be \"Error: A component is changing an uncontrolled...\" here and in all such cases.\r\n\r\n\r\n\r\nI've initially created #20912 (everything ok there) , but now I've dived deeper in this, I've read this #16753 and understand the concept. So now, the solution (that would be in alignment with #16753 by the way) would be simply to make minor changes here https://github.com/facebook/react/blob/master/packages/shared/consoleWithStackDev.js\r\n![Expression-4 (1)](https://user-images.githubusercontent.com/9853656/110778391-f5fbdb80-826a-11eb-810a-1bcae85ace18.jpg)\r\n\r\n\r\nand then run test and update  the red tests. Also, maybe in the consoleWithStackDev.www.js .. \r\n\r\nBy the way, what is this about? (RN?))\r\n> // Careful: RN currently depends on this prefix\r\n\r\nMaybe this is why it wasn't done before?) \r\n\r\nSeems like a very obvious thing and I surprised nobody raised an issue (or maybe did but I could not find it).\r\n\r\nAnything opposing these changes?\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20977","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20977/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20977/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20977/events","html_url":"https://github.com/facebook/react/issues/20977","id":828739435,"node_id":"MDU6SXNzdWU4Mjg3Mzk0MzU=","number":20977,"title":"Provide a way to propagate tracing context to async tasks","user":{"login":"sfishel-splunk","id":64429613,"node_id":"MDQ6VXNlcjY0NDI5NjEz","avatar_url":"https://avatars.githubusercontent.com/u/64429613?v=4","gravatar_id":"","url":"https://api.github.com/users/sfishel-splunk","html_url":"https://github.com/sfishel-splunk","followers_url":"https://api.github.com/users/sfishel-splunk/followers","following_url":"https://api.github.com/users/sfishel-splunk/following{/other_user}","gists_url":"https://api.github.com/users/sfishel-splunk/gists{/gist_id}","starred_url":"https://api.github.com/users/sfishel-splunk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfishel-splunk/subscriptions","organizations_url":"https://api.github.com/users/sfishel-splunk/orgs","repos_url":"https://api.github.com/users/sfishel-splunk/repos","events_url":"https://api.github.com/users/sfishel-splunk/events{/privacy}","received_events_url":"https://api.github.com/users/sfishel-splunk/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-03-11T05:04:07Z","updated_at":"2021-03-11T07:51:42Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Disclaimer: sorry for the overloaded terminology, the \"context\" I'm referring to here is tracing context (e.g. from OpenTelemetry), not React context.\r\n\r\nMy team is working on adding OpenTelemetry tracing to a React application. We have a working strategy for propagating the tracing context to hooks that don't do any asynchronous work, illustrated [here](https://gist.github.com/sfishel-splunk/17807939801054eb96a1d1a2b39f5d46#file-tracingexample-jsx). However, for hook logic that makes use of asynchronous flow - like `useEffect` - the tracing context does not propagate correctly, illustrated [here](https://gist.github.com/sfishel-splunk/17807939801054eb96a1d1a2b39f5d46#file-tracingexamplewithuseeffect-jsx).\r\n\r\nWe have a work-around to propagate the tracing context to `useEffect` callbacks, which looks something like this:\r\n\r\n```js\r\nuseEffect(context.bind(() => {\r\n  // context is now correctly propagated here\r\n}), []);\r\n```\r\n\r\nThis works, but it requires us to explicitly instrument all usage of asynchronous hooks like `useEffect` and `useLayoutEffect`, and it means that we can't propagate tracing context through hook logic in external libraries.\r\n\r\nIdeally, we would be able to configure React to do this automatically, something along the lines of:\r\n\r\n```js\r\nReact.addEffectProcessor(effect => context.bind(effect));\r\n```\r\n\r\nThanks very much!","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20976","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20976/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20976/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20976/events","html_url":"https://github.com/facebook/react/pull/20976","id":828718196,"node_id":"MDExOlB1bGxSZXF1ZXN0NTkwNDkyODI3","number":20976,"title":"Flip tuple order of useTransition","user":{"login":"rickhanlonii","id":2440089,"node_id":"MDQ6VXNlcjI0NDAwODk=","avatar_url":"https://avatars.githubusercontent.com/u/2440089?v=4","gravatar_id":"","url":"https://api.github.com/users/rickhanlonii","html_url":"https://github.com/rickhanlonii","followers_url":"https://api.github.com/users/rickhanlonii/followers","following_url":"https://api.github.com/users/rickhanlonii/following{/other_user}","gists_url":"https://api.github.com/users/rickhanlonii/gists{/gist_id}","starred_url":"https://api.github.com/users/rickhanlonii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickhanlonii/subscriptions","organizations_url":"https://api.github.com/users/rickhanlonii/orgs","repos_url":"https://api.github.com/users/rickhanlonii/repos","events_url":"https://api.github.com/users/rickhanlonii/events{/privacy}","received_events_url":"https://api.github.com/users/rickhanlonii/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-03-11T04:37:03Z","updated_at":"2021-03-11T16:07:49Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20976","html_url":"https://github.com/facebook/react/pull/20976","diff_url":"https://github.com/facebook/react/pull/20976.diff","patch_url":"https://github.com/facebook/react/pull/20976.patch"},"body":"## Overview\r\n\r\nThis PR flips the tuple order of `useTransition` from:\r\n\r\n```js\r\nconst [startTransition, isPending] = useTransition();\r\n```\r\n\r\nto\r\n\r\n```js\r\nconst [isPending, startTransition] = useTransition();\r\n```\r\n\r\n### Motivation\r\n\r\nThe new order, with `isPending` first nicely mirrors the tuple order of `useState` and `useReducer`, where the state value is first and the setter is second. This change makes it easier to remember the correct order, by not needing to remember a difference.\r\n\r\nWe didn't start the order this way from the beginning because for use cases where the pending value is unused, users would need to use the `_` pattern often to denote that the pending value is unused:\r\n\r\n```\r\nconst [_, startTransition] = useTransition();\r\n```\r\n\r\nHowever, since then, we've added `React.startTranstion()` to work outside of hooks, and this can be used when a pending value is not need. So there's no downside to having the same order as other hooks. And as an added benefit, using the hook version pressures users to do something with the isPending value (like show a spinner on a button), which is considered a best practice.\r\n\r\nCloses https://github.com/facebook/react/issues/17276.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20966","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20966/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20966/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20966/events","html_url":"https://github.com/facebook/react/issues/20966","id":826243455,"node_id":"MDU6SXNzdWU4MjYyNDM0NTU=","number":20966,"title":"Bug: React test triggers mouseout event for disabled button","user":{"login":"tulsidaskhatri","id":2574511,"node_id":"MDQ6VXNlcjI1NzQ1MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2574511?v=4","gravatar_id":"","url":"https://api.github.com/users/tulsidaskhatri","html_url":"https://github.com/tulsidaskhatri","followers_url":"https://api.github.com/users/tulsidaskhatri/followers","following_url":"https://api.github.com/users/tulsidaskhatri/following{/other_user}","gists_url":"https://api.github.com/users/tulsidaskhatri/gists{/gist_id}","starred_url":"https://api.github.com/users/tulsidaskhatri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tulsidaskhatri/subscriptions","organizations_url":"https://api.github.com/users/tulsidaskhatri/orgs","repos_url":"https://api.github.com/users/tulsidaskhatri/repos","events_url":"https://api.github.com/users/tulsidaskhatri/events{/privacy}","received_events_url":"https://api.github.com/users/tulsidaskhatri/received_events","type":"User","site_admin":false},"labels":[{"id":127893911,"node_id":"MDU6TGFiZWwxMjc4OTM5MTE=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20DOM","name":"Component: DOM","color":"fef2c0","default":false,"description":null},{"id":40929151,"node_id":"MDU6TGFiZWw0MDkyOTE1MQ==","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Bug","name":"Type: Bug","color":"b60205","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-03-09T16:47:36Z","updated_at":"2021-03-12T00:15:38Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: 16.14.0\r\n\r\n## Steps To Reproduce\r\n\r\n1. Create a test file in a react project, and paste the following code.\r\n2. Run the test\r\n3. The test for onMouseLeave event fails.\r\n\r\n<!--\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\n```javascript\r\nimport { act } from \"react-dom/test-utils\";\r\nimport React, { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst Counter = () => {\r\n  const increaseCount = () => {\r\n    setCount((prev) => prev + 1);\r\n  };\r\n  const [count, setCount] = useState(0);\r\n  return (\r\n    <div>\r\n      <p>You clicked {count} times</p>\r\n      <button\r\n        disabled\r\n        onClick={increaseCount}\r\n        onMouseEnter={increaseCount}\r\n        onMouseLeave={increaseCount}\r\n      >\r\n        Click me\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\ndescribe(\"button with react test-utils\", () => {\r\n  let container;\r\n\r\n  beforeEach(() => {\r\n    container = document.createElement(\"div\");\r\n    document.body.appendChild(container);\r\n  });\r\n\r\n  afterEach(() => {\r\n    document.body.removeChild(container);\r\n    container = null;\r\n  });\r\n\r\n  it(\"should not trigger onClick when button is disabled\", () => {\r\n    act(() => {\r\n      ReactDOM.render(<Counter />, container);\r\n    });\r\n    const button = container.querySelector(\"button\");\r\n    const label = container.querySelector(\"p\");\r\n\r\n    act(() => {\r\n      button.dispatchEvent(new MouseEvent(\"click\", { bubbles: true }));\r\n    });\r\n\r\n    expect(label.textContent).toBe(\"You clicked 0 times\");\r\n  });\r\n  it(\"should not trigger onMouseEnter when button is disabled\", () => {\r\n    act(() => {\r\n      ReactDOM.render(<Counter />, container);\r\n    });\r\n    const button = container.querySelector(\"button\");\r\n    const label = container.querySelector(\"p\");\r\n\r\n    act(() => {\r\n      button.dispatchEvent(new MouseEvent(\"mouseover\", { bubbles: true }));\r\n    });\r\n\r\n    expect(label.textContent).toBe(\"You clicked 0 times\");\r\n  });\r\n  it(\"should not trigger onMouseLeave when button is disabled\", () => {\r\n    act(() => {\r\n      ReactDOM.render(<Counter />, container);\r\n    });\r\n    const button = container.querySelector(\"button\");\r\n    const label = container.querySelector(\"p\");\r\n\r\n    act(() => {\r\n      button.dispatchEvent(new MouseEvent(\"mouseout\", { bubbles: true }));\r\n    });\r\n\r\n    expect(label.textContent).toBe(\"You clicked 0 times\");\r\n  });\r\n});\r\n\r\n```\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\n\r\n## The current behavior\r\n<img width=\"664\" alt=\"Screenshot 2021-03-09 at 21 45 13\" src=\"https://user-images.githubusercontent.com/2574511/110506309-c9d44380-8120-11eb-9164-ce2ae7316889.png\">\r\n\r\n\r\n## The expected behavior\r\nAll tests should pass","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20951","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20951/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20951/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20951/events","html_url":"https://github.com/facebook/react/issues/20951","id":824305840,"node_id":"MDU6SXNzdWU4MjQzMDU4NDA=","number":20951,"title":"Bug: React Dev tools keys not showing last letter in FF ","user":{"login":"bushblade","id":21976188,"node_id":"MDQ6VXNlcjIxOTc2MTg4","avatar_url":"https://avatars.githubusercontent.com/u/21976188?v=4","gravatar_id":"","url":"https://api.github.com/users/bushblade","html_url":"https://github.com/bushblade","followers_url":"https://api.github.com/users/bushblade/followers","following_url":"https://api.github.com/users/bushblade/following{/other_user}","gists_url":"https://api.github.com/users/bushblade/gists{/gist_id}","starred_url":"https://api.github.com/users/bushblade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bushblade/subscriptions","organizations_url":"https://api.github.com/users/bushblade/orgs","repos_url":"https://api.github.com/users/bushblade/repos","events_url":"https://api.github.com/users/bushblade/events{/privacy}","received_events_url":"https://api.github.com/users/bushblade/received_events","type":"User","site_admin":false},"labels":[{"id":710573595,"node_id":"MDU6TGFiZWw3MTA1NzM1OTU=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools","name":"Component: Developer Tools","color":"fbca04","default":false,"description":null},{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"},{"id":725156255,"node_id":"MDU6TGFiZWw3MjUxNTYyNTU=","url":"https://api.github.com/repos/facebook/react/labels/good%20first%20issue%20(taken)","name":"good first issue (taken)","color":"b60205","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2021-03-08T08:17:33Z","updated_at":"2021-04-01T17:22:00Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"The FireFox dev tools crop off the last letter of the keys in state/props as you can see here.\r\n![Screenshot_2021-03-08_08-13-36](https://user-images.githubusercontent.com/21976188/110293584-a907d300-7fe6-11eb-89dc-eb709ab31fdd.png)\r\nThis doesn't happen in the Chrome extension \r\n![Screenshot_2021-03-08_08-14-18](https://user-images.githubusercontent.com/21976188/110293623-b91fb280-7fe6-11eb-90ee-b9cbe550147b.png)\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20946","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20946/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20946/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20946/events","html_url":"https://github.com/facebook/react/issues/20946","id":823588469,"node_id":"MDU6SXNzdWU4MjM1ODg0Njk=","number":20946,"title":"Bug: error in effect cleanup function no longer catchable","user":{"login":"eps1lon","id":12292047,"node_id":"MDQ6VXNlcjEyMjkyMDQ3","avatar_url":"https://avatars.githubusercontent.com/u/12292047?v=4","gravatar_id":"","url":"https://api.github.com/users/eps1lon","html_url":"https://github.com/eps1lon","followers_url":"https://api.github.com/users/eps1lon/followers","following_url":"https://api.github.com/users/eps1lon/following{/other_user}","gists_url":"https://api.github.com/users/eps1lon/gists{/gist_id}","starred_url":"https://api.github.com/users/eps1lon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eps1lon/subscriptions","organizations_url":"https://api.github.com/users/eps1lon/orgs","repos_url":"https://api.github.com/users/eps1lon/repos","events_url":"https://api.github.com/users/eps1lon/events{/privacy}","received_events_url":"https://api.github.com/users/eps1lon/received_events","type":"User","site_admin":false},"labels":[{"id":739761016,"node_id":"MDU6TGFiZWw3Mzk3NjEwMTY=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20Reconciler","name":"Component: Reconciler","color":"f9a798","default":false,"description":null},{"id":40929151,"node_id":"MDU6TGFiZWw0MDkyOTE1MQ==","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Bug","name":"Type: Bug","color":"b60205","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-03-06T07:41:41Z","updated_at":"2021-03-07T09:33:00Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"body":"<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: 17.0.1\r\nTL;DR: Fixed with `skipUnmountedBoundaries = true`\r\n\r\n## Steps To Reproduce\r\n\r\n1. Throw in an effect cleanup \r\n2. Try to catch it when wrapped in `act()`\r\n\r\nLink to code example:\r\n[React 16](https://codesandbox.io/s/react-16-throw-in-effect-destory-kdeij)\r\n[React 17](https://codesandbox.io/s/react-17-throw-in-effect-destory-forked-5n864)\r\n\r\nI also tested it locally and jest and couldn't catch the error as well.\r\n\r\n## The current behavior\r\n\r\nThe error is uncatchable and does not include the component stack (\"The above error occurred\").\r\n\r\n## The expected behavior\r\n\r\nThe error is catchable and does include the component stack i.e. React 16 behavior.\r\n\r\n## Context\r\n\r\nI understand that the cleanup is now async but it's still flushed in `act()` so I would expect that an error thrown is catchable.\r\n\r\nOriginally reported in https://github.com/testing-library/react-testing-library/issues/874\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20945","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20945/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20945/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20945/events","html_url":"https://github.com/facebook/react/pull/20945","id":823579908,"node_id":"MDExOlB1bGxSZXF1ZXN0NTg2MDEyNTU4","number":20945,"title":"Optimize: reduce double counting of isObject","user":{"login":"taichiyi","id":11924426,"node_id":"MDQ6VXNlcjExOTI0NDI2","avatar_url":"https://avatars.githubusercontent.com/u/11924426?v=4","gravatar_id":"","url":"https://api.github.com/users/taichiyi","html_url":"https://github.com/taichiyi","followers_url":"https://api.github.com/users/taichiyi/followers","following_url":"https://api.github.com/users/taichiyi/following{/other_user}","gists_url":"https://api.github.com/users/taichiyi/gists{/gist_id}","starred_url":"https://api.github.com/users/taichiyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/taichiyi/subscriptions","organizations_url":"https://api.github.com/users/taichiyi/orgs","repos_url":"https://api.github.com/users/taichiyi/repos","events_url":"https://api.github.com/users/taichiyi/events{/privacy}","received_events_url":"https://api.github.com/users/taichiyi/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-03-06T06:40:57Z","updated_at":"2021-03-08T11:25:06Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20945","html_url":"https://github.com/facebook/react/pull/20945","diff_url":"https://github.com/facebook/react/pull/20945.diff","patch_url":"https://github.com/facebook/react/pull/20945.patch"},"body":"<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\n\r\n<!-- Explain the **motivation** for making this change. What existing problem does the pull request solve? -->\r\n\r\n`isObject = typeof newChild === 'object' && newChild !== null`\r\n\r\nmotivation: I want to reduce the number of judgments of `isObject`.\r\n\r\nExisting problem:\r\n\r\nBecause most of the time,  `newChild.type` is not equal to `REACT_FRAGMENT_TYPE`, so when  `newChild.type` is not equal to `REACT_FRAGMENT_TYPE`, you don't have to compute `isObject` again.\r\n\r\n\r\n## Test Plan\r\n\r\n<!-- Demonstrate the code is solid. Example: The exact commands you ran and their output, screenshots / videos if the pull request changes the user interface. -->\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20942","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20942/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20942/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20942/events","html_url":"https://github.com/facebook/react/pull/20942","id":823479795,"node_id":"MDExOlB1bGxSZXF1ZXN0NTg1OTMyMzc0","number":20942,"title":"[Bugfix] Incorrect return pointer on deleted fiber","user":{"login":"acdlite","id":3624098,"node_id":"MDQ6VXNlcjM2MjQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3624098?v=4","gravatar_id":"","url":"https://api.github.com/users/acdlite","html_url":"https://github.com/acdlite","followers_url":"https://api.github.com/users/acdlite/followers","following_url":"https://api.github.com/users/acdlite/following{/other_user}","gists_url":"https://api.github.com/users/acdlite/gists{/gist_id}","starred_url":"https://api.github.com/users/acdlite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acdlite/subscriptions","organizations_url":"https://api.github.com/users/acdlite/orgs","repos_url":"https://api.github.com/users/acdlite/repos","events_url":"https://api.github.com/users/acdlite/events{/privacy}","received_events_url":"https://api.github.com/users/acdlite/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-05T23:04:24Z","updated_at":"2021-03-07T07:00:50Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20942","html_url":"https://github.com/facebook/react/pull/20942","diff_url":"https://github.com/facebook/react/pull/20942.diff","patch_url":"https://github.com/facebook/react/pull/20942.patch"},"body":"Regression test ported from #20932.\r\n\r\nI think now that I know the bug I can write a more focused test, but I'll keep this one too.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20936","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20936/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20936/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20936/events","html_url":"https://github.com/facebook/react/pull/20936","id":822904893,"node_id":"MDExOlB1bGxSZXF1ZXN0NTg1NDUxMjQ4","number":20936,"title":"adds a tab to the components view to show a summary of component instances","user":{"login":"ChrisDobby","id":434389,"node_id":"MDQ6VXNlcjQzNDM4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/434389?v=4","gravatar_id":"","url":"https://api.github.com/users/ChrisDobby","html_url":"https://github.com/ChrisDobby","followers_url":"https://api.github.com/users/ChrisDobby/followers","following_url":"https://api.github.com/users/ChrisDobby/following{/other_user}","gists_url":"https://api.github.com/users/ChrisDobby/gists{/gist_id}","starred_url":"https://api.github.com/users/ChrisDobby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChrisDobby/subscriptions","organizations_url":"https://api.github.com/users/ChrisDobby/orgs","repos_url":"https://api.github.com/users/ChrisDobby/repos","events_url":"https://api.github.com/users/ChrisDobby/events{/privacy}","received_events_url":"https://api.github.com/users/ChrisDobby/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-03-05T09:20:26Z","updated_at":"2021-03-13T16:19:12Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20936","html_url":"https://github.com/facebook/react/pull/20936","diff_url":"https://github.com/facebook/react/pull/20936.diff","patch_url":"https://github.com/facebook/react/pull/20936.patch"},"body":"<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\nFixes #20881 \r\n<!-- Explain the **motivation** for making this change. What existing problem does the pull request solve? -->\r\n\r\n## Test Plan\r\n\r\n<!-- Demonstrate the code is solid. Example: The exact commands you ran and their output, screenshots / videos if the pull request changes the user interface. -->\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20923","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20923/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20923/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20923/events","html_url":"https://github.com/facebook/react/issues/20923","id":820939097,"node_id":"MDU6SXNzdWU4MjA5MzkwOTc=","number":20923,"title":"umd distribution for jsx-runtime","user":{"login":"WGroenestein","id":11775996,"node_id":"MDQ6VXNlcjExNzc1OTk2","avatar_url":"https://avatars.githubusercontent.com/u/11775996?v=4","gravatar_id":"","url":"https://api.github.com/users/WGroenestein","html_url":"https://github.com/WGroenestein","followers_url":"https://api.github.com/users/WGroenestein/followers","following_url":"https://api.github.com/users/WGroenestein/following{/other_user}","gists_url":"https://api.github.com/users/WGroenestein/gists{/gist_id}","starred_url":"https://api.github.com/users/WGroenestein/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WGroenestein/subscriptions","organizations_url":"https://api.github.com/users/WGroenestein/orgs","repos_url":"https://api.github.com/users/WGroenestein/repos","events_url":"https://api.github.com/users/WGroenestein/events{/privacy}","received_events_url":"https://api.github.com/users/WGroenestein/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-03-03T09:47:32Z","updated_at":"2021-03-03T10:33:23Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Our module infrastructure relies on 3rd party dependencies to be available as global variables which we internally map in our module system. We are currently looking into updating to 17.x and utlize the new JSX Transform, however we noticed that there is no umd distribution for the jsx-runtime resulting in that we are not able to map this new dependency into our module system.\r\n\r\nThe reason why we have not switched over to a modern module/build system is that we are still in the progress of migrating (over time) our stack to be on top of react and in the current version (16.x) using the \"old\" JSX Transform we are able to achieve this through the provided umd distribution.\r\n\r\nWe could of course stick to 16.x or 17.x with the \"old\" JSX Transform, however with the rebase to react we kind of want to be future proof at the same time, so being on the new Transform would be preferred imo.\r\n\r\nI do understand this might be a bit of a far reach due to the proprietary module infrastructure, but I think more people could benefit from having the jsx-runtime at hand as umd distribution.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20920","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20920/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20920/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20920/events","html_url":"https://github.com/facebook/react/issues/20920","id":820610138,"node_id":"MDU6SXNzdWU4MjA2MTAxMzg=","number":20920,"title":"Bug: onChange of input field firing twice on Android devices based on special conditions","user":{"login":"bisho1995","id":12195877,"node_id":"MDQ6VXNlcjEyMTk1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/12195877?v=4","gravatar_id":"","url":"https://api.github.com/users/bisho1995","html_url":"https://github.com/bisho1995","followers_url":"https://api.github.com/users/bisho1995/followers","following_url":"https://api.github.com/users/bisho1995/following{/other_user}","gists_url":"https://api.github.com/users/bisho1995/gists{/gist_id}","starred_url":"https://api.github.com/users/bisho1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bisho1995/subscriptions","organizations_url":"https://api.github.com/users/bisho1995/orgs","repos_url":"https://api.github.com/users/bisho1995/repos","events_url":"https://api.github.com/users/bisho1995/events{/privacy}","received_events_url":"https://api.github.com/users/bisho1995/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-03-03T03:11:50Z","updated_at":"2021-04-06T09:12:24Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"In mobiles websites (tested on Android) and webviews, the `onChange` method of the input field is getting fired twice if \r\n1. The value of the input is updated in the store/state after some time interval, for example\r\n```\r\nhandleChange = (val) => {\r\n    setTimeout(() => {\r\n      this.setState({ val });\r\n    }, 20);\r\n  };\r\n```\r\n2. The input value has two consecutive same numbers followed by a different number, for example\r\n```\r\nA112\r\n```\r\n\r\nSo for the case of `A112`, it becomes `A11A112`\r\n\r\nReact version: Tested on 16.13.0 and 17.0.1\r\n\r\n## Steps To Reproduce\r\n\r\nLink to demo: https://gblww.csb.app/\r\nLink to code example: https://codesandbox.io/s/input-field-bug-report-gblww\r\nDemo video: https://user-images.githubusercontent.com/12195877/109746806-00c7c800-7bfc-11eb-90ea-0f5b469c5ddd.mp4\r\n\r\n\r\n\r\n\r\n## The current behavior\r\nThe input field characters are repeating based on the above conditions\r\n\r\n## The expected behavior\r\nThe input field characters should not repeat.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20915","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20915/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20915/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20915/events","html_url":"https://github.com/facebook/react/pull/20915","id":820337957,"node_id":"MDExOlB1bGxSZXF1ZXN0NTgzMjk3NTYz","number":20915,"title":"Clean up Scheduler forks","user":{"login":"rickhanlonii","id":2440089,"node_id":"MDQ6VXNlcjI0NDAwODk=","avatar_url":"https://avatars.githubusercontent.com/u/2440089?v=4","gravatar_id":"","url":"https://api.github.com/users/rickhanlonii","html_url":"https://github.com/rickhanlonii","followers_url":"https://api.github.com/users/rickhanlonii/followers","following_url":"https://api.github.com/users/rickhanlonii/following{/other_user}","gists_url":"https://api.github.com/users/rickhanlonii/gists{/gist_id}","starred_url":"https://api.github.com/users/rickhanlonii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickhanlonii/subscriptions","organizations_url":"https://api.github.com/users/rickhanlonii/orgs","repos_url":"https://api.github.com/users/rickhanlonii/repos","events_url":"https://api.github.com/users/rickhanlonii/events{/privacy}","received_events_url":"https://api.github.com/users/rickhanlonii/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2021-03-02T19:57:10Z","updated_at":"2021-03-11T21:08:46Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20915","html_url":"https://github.com/facebook/react/pull/20915","diff_url":"https://github.com/facebook/react/pull/20915.diff","patch_url":"https://github.com/facebook/react/pull/20915.patch"},"body":"## Overview\r\n\r\nThis PR cleans up the scheduler files to reduce bundle size, support more environments correctly, and allow for better layering in the future.\r\n\r\n### Details\r\nPreviously, we had a scheduler for DOM environments (`SchedulerDOM`) and a scheduler for non-DOM environments (`SchedulerNoDom`). In this model, users would select the `Scheduler` they needed based on the environment they used.\r\n\r\nThere were a few problems with this approach. SchedulerDOM included the MessageChannel implementation which should be used outside of DOM environments (e.g. Worker environments). Second, in practice we were still shipping feature detection to select between different environments, which added bundle size without achieving the desired layering. Finally, we've since refactored these two Schedulers such that the only difference between them is how they schedule work in the event loop. This means the files are identical except for a few lines, so the added bundle size is unnecessary.\r\n\r\nThe updated structure includes the following forks:\r\n- `Scheduler`: The current scheduler implementation which will use `setImmediate`, `MessageChannel`, or `setTimeout`, in that order, based on what is globally available.\r\n- `SchedulerPostTask`: An experimental, internal-only scheduler which is a different implementation based on the new Chrome `postTask` API. This does not add bundle size because it is not exposed.\r\n- `SchedulerMock`: An internal-only scheduler for testing. Also not exposed.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20913","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20913/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20913/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20913/events","html_url":"https://github.com/facebook/react/pull/20913","id":819969413,"node_id":"MDExOlB1bGxSZXF1ZXN0NTgyOTkwODgw","number":20913,"title":"Handle case where hook callback is a CallExpression","user":{"login":"lexanth","id":1242475,"node_id":"MDQ6VXNlcjEyNDI0NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1242475?v=4","gravatar_id":"","url":"https://api.github.com/users/lexanth","html_url":"https://github.com/lexanth","followers_url":"https://api.github.com/users/lexanth/followers","following_url":"https://api.github.com/users/lexanth/following{/other_user}","gists_url":"https://api.github.com/users/lexanth/gists{/gist_id}","starred_url":"https://api.github.com/users/lexanth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexanth/subscriptions","organizations_url":"https://api.github.com/users/lexanth/orgs","repos_url":"https://api.github.com/users/lexanth/repos","events_url":"https://api.github.com/users/lexanth/events{/privacy}","received_events_url":"https://api.github.com/users/lexanth/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-02T12:24:42Z","updated_at":"2021-03-02T12:33:41Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20913","html_url":"https://github.com/facebook/react/pull/20913","diff_url":"https://github.com/facebook/react/pull/20913.diff","patch_url":"https://github.com/facebook/react/pull/20913.patch"},"body":"<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\n\r\nFix https://github.com/facebook/react/issues/20904\r\n\r\n```\r\nconst myCallback = useCallback(debounce(() => {}, 200), [])\r\n```\r\nis now linted in the same way as this (equivalent code) would be\r\n```\r\nconst myCallback = useMemo(() => debounce(() => {}, 200), [])\r\n```\r\n* Check the function wrapper (`debounce` in this example) - if it's declared outside the component scope, it's safe\r\n* Check the function args - inline callbacks are checked as though they were the callback themselves, variables are checked for presence in dependency array\r\n\r\n## Test Plan\r\nBest demonstration is the unit tests\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20904","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20904/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20904/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20904/events","html_url":"https://github.com/facebook/react/issues/20904","id":818721984,"node_id":"MDU6SXNzdWU4MTg3MjE5ODQ=","number":20904,"title":"Bug: ESLint react-hooks/exhaustive-deps false positive on useCallback wrapped in function defined outside component scope","user":{"login":"lexanth","id":1242475,"node_id":"MDQ6VXNlcjEyNDI0NzU=","avatar_url":"https://avatars.githubusercontent.com/u/1242475?v=4","gravatar_id":"","url":"https://api.github.com/users/lexanth","html_url":"https://github.com/lexanth","followers_url":"https://api.github.com/users/lexanth/followers","following_url":"https://api.github.com/users/lexanth/following{/other_user}","gists_url":"https://api.github.com/users/lexanth/gists{/gist_id}","starred_url":"https://api.github.com/users/lexanth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lexanth/subscriptions","organizations_url":"https://api.github.com/users/lexanth/orgs","repos_url":"https://api.github.com/users/lexanth/repos","events_url":"https://api.github.com/users/lexanth/events{/privacy}","received_events_url":"https://api.github.com/users/lexanth/received_events","type":"User","site_admin":false},"labels":[{"id":1249821345,"node_id":"MDU6TGFiZWwxMjQ5ODIxMzQ1","url":"https://api.github.com/repos/facebook/react/labels/Component:%20ESLint%20Rules","name":"Component: ESLint Rules","color":"f7afdb","default":false,"description":""},{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-01T10:29:06Z","updated_at":"2021-03-01T15:26:17Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"eslint-plugin-react-hooks version 4.2.0\r\n\r\n## Steps To Reproduce\r\n\r\n```\r\nconst fn = (someVariable) => () => {...}\r\n\r\nconst MyComponent = ({ someVariable }) => {\r\n  const handleSomething = useCallback(fn(someVariable), [someVariable])\r\n\r\n  ...\r\n}\r\n```\r\nThis gives \"React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead\"\r\n\r\nAs noted [here](https://github.com/facebook/react/issues/19173), one could do:\r\n```\r\nconst handleSomething = useCallback(() => fn(someVariable)(), [someVariable])\r\n```\r\n\r\nwhich keeps the linter happy. However, if `fn` was e.g. a debounce wrapper, that behaviour would be different.\r\n```\r\nconst handleSomething = useCallback(debounce(() => doSomething(someVariable)), [someVariable])\r\n// vs\r\nconst handleSomething = useCallback(() => debounce(() => doSomething(someVariable))(), [someVariable])\r\n```\r\n\r\nIf `fn` is defined outside the component scope, it can't depend on anything else inside the component scope, so we should be safe to exclude it? I believe the linter uses a similar heuristic with ignoring variables defined outside the component scope, so I think this logic just needs adding to the special case for `useCallback` receiving a non-inline function.\r\n\r\nLink to code example:\r\nhttps://codesandbox.io/s/angry-greider-bq69s?file=/src/App.js\r\n\r\n## The current behavior\r\nuseCallback with non-inline function declared outside function scope is a warning/error\r\n\r\n## The expected behavior\r\nuseCallback with non-inline function declared outside function scope passes","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20901","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20901/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20901/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20901/events","html_url":"https://github.com/facebook/react/issues/20901","id":817910384,"node_id":"MDU6SXNzdWU4MTc5MTAzODQ=","number":20901,"title":"Bug: Event handling with portals is broken","user":{"login":"sag-tobias-frey","id":75436831,"node_id":"MDQ6VXNlcjc1NDM2ODMx","avatar_url":"https://avatars.githubusercontent.com/u/75436831?v=4","gravatar_id":"","url":"https://api.github.com/users/sag-tobias-frey","html_url":"https://github.com/sag-tobias-frey","followers_url":"https://api.github.com/users/sag-tobias-frey/followers","following_url":"https://api.github.com/users/sag-tobias-frey/following{/other_user}","gists_url":"https://api.github.com/users/sag-tobias-frey/gists{/gist_id}","starred_url":"https://api.github.com/users/sag-tobias-frey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sag-tobias-frey/subscriptions","organizations_url":"https://api.github.com/users/sag-tobias-frey/orgs","repos_url":"https://api.github.com/users/sag-tobias-frey/repos","events_url":"https://api.github.com/users/sag-tobias-frey/events{/privacy}","received_events_url":"https://api.github.com/users/sag-tobias-frey/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2021-02-27T12:21:57Z","updated_at":"2021-04-11T13:49:23Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Event handling with portals is broken in the newest version when placing non-react event handlers BETWEEN other react event handlers. With the following setup **outer react event handler with stopPropagation** > **non-react event handler** > **inner react event handler (in portal)**. Doing the same without portals works correctly. \r\n\r\nReact version: 17.0.1\r\n\r\n## Steps To Reproduce\r\n### With portal (not working)\r\n1. https://stackblitz.com/edit/ag-grid-react-hello-world-gwuhed?devtoolsheight=33&file=index.js\r\n2. Click on the div\r\n3. Only inner and outer event handlers are called\r\n\r\n### Without portal (working)\r\n1. https://stackblitz.com/edit/ag-grid-react-hello-world-gwuhed?devtoolsheight=33&file=index.js\r\n2. Comment out the portal code and comment in the non-portal code (line 24 / 25)\r\n3. Click on the div\r\n4. All three event handlers are triggered\r\n\r\nLink to code example: https://stackblitz.com/edit/ag-grid-react-hello-world-gwuhed?devtoolsheight=33&file=index.js\r\n\r\n## The current behavior\r\n\r\nNon-react event handlers are not called when the initial event is initiated from a portal component and an outer react event handler calls stop propagation. This works correctly without portals.\r\n\r\n## The expected behavior\r\n\r\nThe non-react event handler should also be called when a portal component initiates the event.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20896","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20896/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20896/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20896/events","html_url":"https://github.com/facebook/react/pull/20896","id":817550654,"node_id":"MDExOlB1bGxSZXF1ZXN0NTgxMDI0ODgy","number":20896,"title":"Nested opaque identifier","user":{"login":"SoAsEr","id":20920091,"node_id":"MDQ6VXNlcjIwOTIwMDkx","avatar_url":"https://avatars.githubusercontent.com/u/20920091?v=4","gravatar_id":"","url":"https://api.github.com/users/SoAsEr","html_url":"https://github.com/SoAsEr","followers_url":"https://api.github.com/users/SoAsEr/followers","following_url":"https://api.github.com/users/SoAsEr/following{/other_user}","gists_url":"https://api.github.com/users/SoAsEr/gists{/gist_id}","starred_url":"https://api.github.com/users/SoAsEr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SoAsEr/subscriptions","organizations_url":"https://api.github.com/users/SoAsEr/orgs","repos_url":"https://api.github.com/users/SoAsEr/repos","events_url":"https://api.github.com/users/SoAsEr/events{/privacy}","received_events_url":"https://api.github.com/users/SoAsEr/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-02-26T17:52:48Z","updated_at":"2021-03-01T17:21:21Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20896","html_url":"https://github.com/facebook/react/pull/20896","diff_url":"https://github.com/facebook/react/pull/20896.diff","patch_url":"https://github.com/facebook/react/pull/20896.patch"},"body":"## Summary\r\nThis is an attempt to fix https://github.com/facebook/react/issues/20822\r\nThis allows for recursive key creation from an opaque identifier returned from useOpaqueIdentifier using a new member function called `makeNewFromKey(key: string)`. The recursive nature is useful in order to be able to identify a parent and a child. \r\n## Test Plan\r\nAdded a bunch of integration tests, but there are still many many edge cases that are difficult to test for.\r\nExamples:\r\nin the client key creation, adding \"a\" and then \"b\" should not equal \"ab\". Adding a simple delimiter would appear to fix this, but doesn't as then inserting the delimiter causes the same problem. Testing for this requires knowledge of the code where it places delimiters (before, after, both). In code, the above bug is avoided by appending the depth. There is a delimiter as to avoid very deep depths which require multiple digits running into the same problem as a naked delimiter. so the first is \"a:0b:1\" and the second is \"ab:0\".\r\n\r\nin the server key creation, the multiple digit problem strikes again, and so a delimiter is added between identifiers. \r\n\r\nTesting every corner case like this would require huge numbers of tests, and I'm not entirely sure how to go about it. Advice would be appreciated. Removing the recursiveness entirely would fix this problem but I think it is worth putting some effort into keeping it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20895","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20895/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20895/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20895/events","html_url":"https://github.com/facebook/react/issues/20895","id":817355834,"node_id":"MDU6SXNzdWU4MTczNTU4MzQ=","number":20895,"title":"Bug: React roots are announced as clickable to screen readers","user":{"login":"TwoLaid","id":2446349,"node_id":"MDQ6VXNlcjI0NDYzNDk=","avatar_url":"https://avatars.githubusercontent.com/u/2446349?v=4","gravatar_id":"","url":"https://api.github.com/users/TwoLaid","html_url":"https://github.com/TwoLaid","followers_url":"https://api.github.com/users/TwoLaid/followers","following_url":"https://api.github.com/users/TwoLaid/following{/other_user}","gists_url":"https://api.github.com/users/TwoLaid/gists{/gist_id}","starred_url":"https://api.github.com/users/TwoLaid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TwoLaid/subscriptions","organizations_url":"https://api.github.com/users/TwoLaid/orgs","repos_url":"https://api.github.com/users/TwoLaid/repos","events_url":"https://api.github.com/users/TwoLaid/events{/privacy}","received_events_url":"https://api.github.com/users/TwoLaid/received_events","type":"User","site_admin":false},"labels":[{"id":127893911,"node_id":"MDU6TGFiZWwxMjc4OTM5MTE=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20DOM","name":"Component: DOM","color":"fef2c0","default":false,"description":null},{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-02-26T13:26:35Z","updated_at":"2021-02-26T13:50:25Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: 17.0.1\r\n\r\n## Steps To Reproduce\r\n\r\n1. Activate your screen reader\r\n   1. I used [NVDA](https://www.nvaccess.org/), but [JAWS](https://www.freedomscientific.com/products/software/jaws/) would also work\r\n   1. This will not work with VoiceOver because it does not have the same heuristic about elements with click handlers\r\n2. Go to a page that has one or more React 17 root nodes. For example: https://qc9xj.csb.app/\r\n3. Use the regular navigation of your screen reader to explore the page\r\n   1. In the case of NVDA, this would be using Arrow keys up and down\r\n4. Hear your screen reader announcing the H2 as \"clickable\"\r\n\r\nLink to code example: https://codesandbox.io/s/epic-babbage-qc9xj (https://qc9xj.csb.app/)\r\n\r\n\r\n## The current behavior\r\n\r\nHere is the log of what NVDA says as I'm navigating the page:\r\n\r\n> content info landmark    heading    level 1  This is a static HTML footer\r\n>     _(I press Arrow Down)_\r\n> clickable  heading    level 2  This is a heading within a React application.\r\n>     _(I press Arrow Down)_\r\n> banner landmark    heading    level 1  This is a static HTML header\r\n\r\n## The expected behavior\r\n\r\nIt should not announce the heading as clickable/interactive. Here is what it would sound like without React on the page:\r\n\r\n> content info landmark    heading    level 1  This is a static HTML footer\r\n>     _(I press Arrow Down)_\r\n> heading    level 2  This is a heading within a React application.\r\n>     _(I press Arrow Down)_\r\n> banner landmark    heading    level 1  This is a static HTML header\r\n\r\nIt should be noted that this is how it used to work in React 16 because the delegation of events was done on the `document` node, not the React root node.\r\n\r\n\r\n## Notes\r\n* Some screen readers like JAWS and NVDA use the presence of a `click` handler on a node as an indicator that they are interactive\r\n* Because of React's event delegation, all synthetic events are handled at one central node. In React 16 it's the `document` and in React 17 it's the root node.\r\n* The example shows that it's announced as clickable even when there is no interactive content inside. But even if the React node contained interactive content, the parent container should not be announced as interactive - because it is not.\r\n* This is also called out by the Accessibility Inspector in the Firefox DevTools:\r\n  * \"Does not meet WCAG standards for accessibility. Clickable elements must be focusable and should have interactive semantics. [Learn more](https://developer.mozilla.org/en-US/docs/Web/Accessibility/Understanding_WCAG/Keyboard#clickable_elements_must_be_focusable_and_should_have_interactive_semantics)\"\r\n* While this is already an issue with just one React root on the page, this problem will get increasingly worse and annoying for the user when there are multiple React roots on the page\r\n    * This could easily happen on pages that are constructed with micro frontend frameworks or widgets","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20891","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20891/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20891/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20891/events","html_url":"https://github.com/facebook/react/issues/20891","id":817124046,"node_id":"MDU6SXNzdWU4MTcxMjQwNDY=","number":20891,"title":"Possible Bug: interplay between reconcilliation algorithm and DOM manipulations via refs","user":{"login":"fast-reflexes","id":2438128,"node_id":"MDQ6VXNlcjI0MzgxMjg=","avatar_url":"https://avatars.githubusercontent.com/u/2438128?v=4","gravatar_id":"","url":"https://api.github.com/users/fast-reflexes","html_url":"https://github.com/fast-reflexes","followers_url":"https://api.github.com/users/fast-reflexes/followers","following_url":"https://api.github.com/users/fast-reflexes/following{/other_user}","gists_url":"https://api.github.com/users/fast-reflexes/gists{/gist_id}","starred_url":"https://api.github.com/users/fast-reflexes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fast-reflexes/subscriptions","organizations_url":"https://api.github.com/users/fast-reflexes/orgs","repos_url":"https://api.github.com/users/fast-reflexes/repos","events_url":"https://api.github.com/users/fast-reflexes/events{/privacy}","received_events_url":"https://api.github.com/users/fast-reflexes/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-02-26T07:43:18Z","updated_at":"2021-02-26T07:43:18Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"## Introduction\r\nI'm working with a library that performs DOM manipulations via `ref`s in `useEffect`s after React has rendered. \r\n\r\n## Background\r\nMy understanding of the reconciliation algorithm is that it compares subsequently rendered virtual DOMs and only perform the necessary updates on the real DOM when necessary according to this comparison. For this reason, the following example will continue to show a `div` with a green background throughout subsequent rerenderings, even though the `render` method returns a `div` with a blue background:\r\n```\r\nexport default function App() {\r\n  const [num, setNum] = useState(10);\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    console.log(\"effect ran\");\r\n    if (ref.current) {\r\n      ref.current.style.backgroundColor = \"green\";\r\n    }\r\n  }, []);\r\n\r\n  console.log(\"rendered\");\r\n\r\n  return (\r\n    <div ref={ref} style={{ backgroundColor: \"blue\", padding: num + \"px\" }}>\r\n      <button onClick={() => setNum((num) => num + 10)}>Rerender</button>\r\n    </div>\r\n  );\r\n}\r\n```\r\n(Sandbox link: https://codesandbox.io/s/festive-leavitt-n44hs?file=/src/App.js)\r\nReact is simply unaware of the change done directly via the `ref` and so the comparison between subsequent virtual DOMs only indicate that the `padding` must be updated.\r\n\r\n## Problem\r\nThis is all fine when it comes to properties, but as far as children are concerned, the behaviour is slightly more obscure and inconsistent (perhaps due to children seemingly being something in between a prop on the parent element and distinct other elements?).\r\n\r\nConsider the following toy example where a wrapper component performs an update (replaces `0`s with `9`s) on the content of its DOM children via `ref`s after rendering. Remember that this is a toy example and I know that the results in this example can be acquired in a much simpler (better!) way in React.\r\n\r\n```\r\nexport default function App() {\r\n  const [num, setNum] = useState(10);\r\n\r\n  return (\r\n    <div>\r\n      <WrapperComponent id=\"first\">\r\n        <span /*key={ Date.now() }*/>10 - {num}</span>\r\n      </WrapperComponent>\r\n      <WrapperComponent id=\"second\">\r\n        <span /*key={ Date.now() }*/>10 -</span>\r\n        <span /*key={ Date.now() + 1 }*/>{num}</span>\r\n      </WrapperComponent>\r\n      <button onClick={() => setNum((num) => num + 10)}>Rerender</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst WrapperComponent = (props) => {\r\n  const ref = useRef();\r\n\r\n  console.log(props.id + \": render\");\r\n  console.log(props.children);\r\n\r\n  useEffect(() => {\r\n    if (ref.current) {\r\n      ref.current.style.backgroundColor = \"green\";\r\n      console.log(props.id + \": pre-alter\");\r\n      console.log(ref.current.innerHTML);\r\n      for (let i = 0; i < ref.current.children.length; ++i) {\r\n        let el = ref.current.children[i];\r\n        if (el.children.length === 0)\r\n          el.innerHTML = el.innerHTML.replaceAll(\"0\", \"9\");\r\n      }\r\n      //ref.current.innerHTML = \"Altered HTML\"\r\n      console.log(props.id + \": post-alter\");\r\n      console.log(ref.current.innerHTML);\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      style={{ margin: \"20px\", color: \"white\", backgroundColor: \"blue\" }}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n```\r\n(Sandbox link: https://codesandbox.io/s/cranky-blackwell-xqbkx?file=/src/App.js)\r\n\r\nDepending on the structure of the children, the results differ:\r\n* **Setup 1**: In the unaltered version above, render once and then clear the console. Click the button to render again and note that the logged children of the `WrapperComponent`s contain the updated number correctly in the `render` printout. Then note that in the `useEffect` when inspecting the `ref`s, React has changed the content of the second `WrapperComponent` in the real DOM to reflect the update in the child components in the virtual DOM whereas the child of the first has not been updated (see `pre-alter` printout). As a result, the changes (in the first `WrapperComponent`) are not reflected in the UI and the `useEffect` has nothing new to process.\r\n* **Setup2**: Comment out the `for` loop in the `useEffect` of the `WrapperComponent` and uncomment the row below it. Refresh the UI and press the button. With this version, React doesn't update the real DOM at all (can be seen in the `pre-alter` printout) even though the children are still correct in the `render` printout.\r\n* **Setup3**: Uncomment the `key` props in the `span`s and restore the `for` loop in `WrapperComponent` and comment out the row below it again. Update the UI and hit the button repeatedly and note that now it works perfectly. React updates the DOM as expected and this is reflected in both `pre-alter` printouts.\r\n\r\nReact version: 17.0\r\n\r\n## Steps To Reproduce\r\n\r\nSee previous section\r\n\r\nLink to code example:\r\n\r\nSee previous section\r\n\r\n## The current behavior\r\n\r\nSee previous section\r\n\r\n## The expected behavior\r\n\r\n* **Setup2**: Given that the comparison between virtual DOMs indicate that only the content of the `span`s has changed, it is reasonable that React tries to update only that and bails out silently when it can no longer find those nodes in the real DOM. One could reason that React should reinsert them but I still think this behaviour is consistent.\r\n* **Setup3**: Comparisons of virtual DOMs indicate that completely new children are to be inserted in the `WrapperComponent`s and so the old ones are thrown out and the new ones are added. Everything works as desired.\r\n* **Setup1**: The `WrapperComponent`s only update the content of the `span`s and so React should be able to map content change in the virtual DOMs to these very same `span`s. It manages to do so for the second `WrapperComponent` but not the first, despite the changed content.\r\n\r\n*I would expect this behaviour to be more consistent and not depend on the structure of the children like this. My suspicion is that it seems to be related to how React maps virtual DOM nodes with mixed content (expressions and literal text) to real DOM nodes but I can't see how, where and why. Hopefully this is not a bug in which case I am sorry for wasting your time.*\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20887","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20887/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20887/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20887/events","html_url":"https://github.com/facebook/react/pull/20887","id":816992350,"node_id":"MDExOlB1bGxSZXF1ZXN0NTgwNTYwMTk5","number":20887,"title":"chore: Add document is null check in invariant","user":{"login":"zombieJ","id":5378891,"node_id":"MDQ6VXNlcjUzNzg4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/5378891?v=4","gravatar_id":"","url":"https://api.github.com/users/zombieJ","html_url":"https://github.com/zombieJ","followers_url":"https://api.github.com/users/zombieJ/followers","following_url":"https://api.github.com/users/zombieJ/following{/other_user}","gists_url":"https://api.github.com/users/zombieJ/gists{/gist_id}","starred_url":"https://api.github.com/users/zombieJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zombieJ/subscriptions","organizations_url":"https://api.github.com/users/zombieJ/orgs","repos_url":"https://api.github.com/users/zombieJ/repos","events_url":"https://api.github.com/users/zombieJ/events{/privacy}","received_events_url":"https://api.github.com/users/zombieJ/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2021-02-26T03:01:46Z","updated_at":"2021-03-14T14:30:06Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20887","html_url":"https://github.com/facebook/react/pull/20887","diff_url":"https://github.com/facebook/react/pull/20887.diff","patch_url":"https://github.com/facebook/react/pull/20887.patch"},"body":"<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\n\r\n<!-- Explain the **motivation** for making this change. What existing problem does the pull request solve? -->\r\n\r\nIn jest, when a test is ended, it will make document as `null` instead of `undefined`. So the invariant of `typeof document !== 'undefined'` will miss the case of `null`.\r\n\r\n## Test Plan\r\n\r\n<!-- Demonstrate the code is solid. Example: The exact commands you ran and their output, screenshots / videos if the pull request changes the user interface. -->\r\n\r\nUpdate `ReactDOM-test.js` for `null` case.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20886","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20886/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20886/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20886/events","html_url":"https://github.com/facebook/react/pull/20886","id":816912386,"node_id":"MDExOlB1bGxSZXF1ZXN0NTgwNDk0OTEz","number":20886,"title":"Import total lanes from reconciler","user":{"login":"rickhanlonii","id":2440089,"node_id":"MDQ6VXNlcjI0NDAwODk=","avatar_url":"https://avatars.githubusercontent.com/u/2440089?v=4","gravatar_id":"","url":"https://api.github.com/users/rickhanlonii","html_url":"https://github.com/rickhanlonii","followers_url":"https://api.github.com/users/rickhanlonii/followers","following_url":"https://api.github.com/users/rickhanlonii/following{/other_user}","gists_url":"https://api.github.com/users/rickhanlonii/gists{/gist_id}","starred_url":"https://api.github.com/users/rickhanlonii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickhanlonii/subscriptions","organizations_url":"https://api.github.com/users/rickhanlonii/orgs","repos_url":"https://api.github.com/users/rickhanlonii/repos","events_url":"https://api.github.com/users/rickhanlonii/events{/privacy}","received_events_url":"https://api.github.com/users/rickhanlonii/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-02-26T00:15:46Z","updated_at":"2021-02-26T18:57:03Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20886","html_url":"https://github.com/facebook/react/pull/20886","diff_url":"https://github.com/facebook/react/pull/20886.diff","patch_url":"https://github.com/facebook/react/pull/20886.patch"},"body":"## Overview\r\n\r\nThis PR attempts to re-add the changes from [here](https://github.com/facebook/react/commit/e5f6b91d294d0c1260ce5079ed0192b43ccd3e82) that were [reverted](https://github.com/facebook/react/pull/20885) to unblock main.\r\n\r\nThe test fails because we're importing from the reconciler without mocking/forking the ReactFiberHostConfig.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20884","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20884/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20884/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20884/events","html_url":"https://github.com/facebook/react/issues/20884","id":816880974,"node_id":"MDU6SXNzdWU4MTY4ODA5NzQ=","number":20884,"title":"Bug: React DevTools fails when using React Native + Hermes","user":{"login":"helixbass","id":440230,"node_id":"MDQ6VXNlcjQ0MDIzMA==","avatar_url":"https://avatars.githubusercontent.com/u/440230?v=4","gravatar_id":"","url":"https://api.github.com/users/helixbass","html_url":"https://github.com/helixbass","followers_url":"https://api.github.com/users/helixbass/followers","following_url":"https://api.github.com/users/helixbass/following{/other_user}","gists_url":"https://api.github.com/users/helixbass/gists{/gist_id}","starred_url":"https://api.github.com/users/helixbass/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/helixbass/subscriptions","organizations_url":"https://api.github.com/users/helixbass/orgs","repos_url":"https://api.github.com/users/helixbass/repos","events_url":"https://api.github.com/users/helixbass/events{/privacy}","received_events_url":"https://api.github.com/users/helixbass/received_events","type":"User","site_admin":false},"labels":[{"id":710573595,"node_id":"MDU6TGFiZWw3MTA1NzM1OTU=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools","name":"Component: Developer Tools","color":"fbca04","default":false,"description":null},{"id":40929151,"node_id":"MDU6TGFiZWw0MDkyOTE1MQ==","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Bug","name":"Type: Bug","color":"b60205","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-02-25T23:07:49Z","updated_at":"2021-03-01T14:11:53Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: 16.13.1\r\nReact DevTools version: 4.10.1-3a8c04e3b2\r\n\r\n## Steps To Reproduce\r\n\r\n1. `npx react-native init MyApp --template react-native-template-typescript`\r\n2. set `enableHermes: true` in `android/app/build.gradle`\r\n3. start Metro bundler via `yarn start`\r\n4. launch app in Android emulator via `yarn android`\r\n5. launch React DevTools\r\n6. reload Metro bundler\r\n7. click on any element in the React DevTools components view\r\n8. right React DevTools panel is stuck on \"Loading...\" and Metro bundler logs `ERROR [TypeError: undefined is not a function]`:\r\n<img width=\"297\" alt=\"Screen Shot 2021-02-25 at 5 56 13 PM\" src=\"https://user-images.githubusercontent.com/440230/109231116-f76dd400-7793-11eb-8b7c-4c40a7eaee3a.png\">\r\n\r\n\r\n<!--\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\nLink to code example:\r\nhttps://github.com/helixbass/HermesDevToolsIssueExample\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\n## The current behavior\r\n\r\nReact DevTools fails to load element props, styles etc\r\n\r\n\r\n## The expected behavior\r\n\r\nReact DevTools should load element props, styles etc\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20882","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20882/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20882/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20882/events","html_url":"https://github.com/facebook/react/issues/20882","id":816603408,"node_id":"MDU6SXNzdWU4MTY2MDM0MDg=","number":20882,"title":"React throws many fake errors when warnings are issued","user":{"login":"markboyall","id":17589164,"node_id":"MDQ6VXNlcjE3NTg5MTY0","avatar_url":"https://avatars.githubusercontent.com/u/17589164?v=4","gravatar_id":"","url":"https://api.github.com/users/markboyall","html_url":"https://github.com/markboyall","followers_url":"https://api.github.com/users/markboyall/followers","following_url":"https://api.github.com/users/markboyall/following{/other_user}","gists_url":"https://api.github.com/users/markboyall/gists{/gist_id}","starred_url":"https://api.github.com/users/markboyall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markboyall/subscriptions","organizations_url":"https://api.github.com/users/markboyall/orgs","repos_url":"https://api.github.com/users/markboyall/repos","events_url":"https://api.github.com/users/markboyall/events{/privacy}","received_events_url":"https://api.github.com/users/markboyall/received_events","type":"User","site_admin":false},"labels":[{"id":710375792,"node_id":"MDU6TGFiZWw3MTAzNzU3OTI=","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Discussion","name":"Type: Discussion","color":"fef2c0","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-02-25T16:39:08Z","updated_at":"2021-02-26T16:46:21Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"In describeNativeComponentFrame, the component rendering is intentionally failed so that we can gather details from the stack trace for some warnings. The Chrome dev tools will break on every single one of these, sometimes more than once. We have many, many components in our call stack before the warning is triggered, throwing many false errors, making it very difficult for us to use the dev tools to investigate unrelated errors when the warnings are present.\r\n\r\nReact version: 17.0.1\r\n\r\n1. Create a simple minimal React page.\r\n2. Render a simple \"hello world\" component with a warning.\r\n3. Open the Chrome dev tools, click break on all exceptions with caught exceptions, and then reload the page.\r\n\r\nLink to code example:\r\n\r\nhttps://github.com/markboyall/react-break-example\r\n\r\nThe current behaviour is that it breaks once per component in the stack frame, causing an unmanageable number of fake breaks. The expected behaviour is that React does not interfere with the browser dev tools can be used to debug our own code.\r\n\r\nPrevious versions of React could issue warnings with one break at the warning site only at most, which was an acceptable tradeoff.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20881","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20881/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20881/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20881/events","html_url":"https://github.com/facebook/react/issues/20881","id":816523025,"node_id":"MDU6SXNzdWU4MTY1MjMwMjU=","number":20881,"title":"Component summary view by type","user":{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false},"labels":[{"id":710573595,"node_id":"MDU6TGFiZWw3MTA1NzM1OTU=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools","name":"Component: Developer Tools","color":"fbca04","default":false,"description":null},{"id":121709921,"node_id":"MDU6TGFiZWwxMjE3MDk5MjE=","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Feature%20Request","name":"Type: Feature Request","color":"c7def8","default":false,"description":null}],"state":"open","locked":false,"assignee":{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false},"assignees":[{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2021-02-25T15:06:29Z","updated_at":"2021-03-25T14:23:50Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"A DevTools user has requested the following feature (reworded by me):\r\nExpose an ordered table of all component types (names) along with the number of instances currently mounted. This would help identify the most impactful components to examine for memory related optimizations.\r\n\r\nThe Profiler isn't very useful in this scenario because it's too CPU-centric.\r\n\r\ncc @yungsters","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20880","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20880/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20880/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20880/events","html_url":"https://github.com/facebook/react/pull/20880","id":816347885,"node_id":"MDExOlB1bGxSZXF1ZXN0NTgwMDI0NDc1","number":20880,"title":"Adds diagnostic callstacks/traces for \"You seem to have overlapping act() calls\" ","user":{"login":"doublethefish","id":2162172,"node_id":"MDQ6VXNlcjIxNjIxNzI=","avatar_url":"https://avatars.githubusercontent.com/u/2162172?v=4","gravatar_id":"","url":"https://api.github.com/users/doublethefish","html_url":"https://github.com/doublethefish","followers_url":"https://api.github.com/users/doublethefish/followers","following_url":"https://api.github.com/users/doublethefish/following{/other_user}","gists_url":"https://api.github.com/users/doublethefish/gists{/gist_id}","starred_url":"https://api.github.com/users/doublethefish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doublethefish/subscriptions","organizations_url":"https://api.github.com/users/doublethefish/orgs","repos_url":"https://api.github.com/users/doublethefish/repos","events_url":"https://api.github.com/users/doublethefish/events{/privacy}","received_events_url":"https://api.github.com/users/doublethefish/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2021-02-25T11:25:43Z","updated_at":"2021-02-25T19:35:02Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20880","html_url":"https://github.com/facebook/react/pull/20880","diff_url":"https://github.com/facebook/react/pull/20880.diff","patch_url":"https://github.com/facebook/react/pull/20880.patch"},"body":"<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\n\r\nThe intent here is to help developers, like myself, save hours of effort trying to diagnose overlapping act() calls when they get `\"You seem to have overlapping act() calls\"`\r\n\r\nThis is 'good enough' for my purposes but probably needs someone a bit more familiar with the react ecosystem to make it production-ready. Specifically the `uuid4()`, `stringifyActiveActStacks()` and `captureScope()` functions need some scrutiny.\r\n\r\nI am putting this up early to help others who have hit the same problem.\r\n\r\n<!-- Explain the **motivation** for making this change. What existing problem does the pull request solve? -->\r\n\r\n## Test Plan\r\n\r\n<!-- Demonstrate the code is solid. Example: The exact commands you ran and their output, screenshots / videos if the pull request changes the user interface. -->\r\n\r\nBecause of my toolchain, I had to manually merge the changes into the down-stream tool. So testing is in my dev-env.\r\n\r\nI have marked this as WIP as I think there will be other feedback on this e.g. add tests - which I am happy to help do. If we do want to get this in, and the general sentiment behind this is agreed upon, I would appreciate some help (as I don't have a huge amount of spare time).","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20863","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20863/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20863/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20863/events","html_url":"https://github.com/facebook/react/issues/20863","id":814269211,"node_id":"MDU6SXNzdWU4MTQyNjkyMTE=","number":20863,"title":"Issue: `useEffect` executed before browser can paint DOM update","user":{"login":"limekiln","id":24456286,"node_id":"MDQ6VXNlcjI0NDU2Mjg2","avatar_url":"https://avatars.githubusercontent.com/u/24456286?v=4","gravatar_id":"","url":"https://api.github.com/users/limekiln","html_url":"https://github.com/limekiln","followers_url":"https://api.github.com/users/limekiln/followers","following_url":"https://api.github.com/users/limekiln/following{/other_user}","gists_url":"https://api.github.com/users/limekiln/gists{/gist_id}","starred_url":"https://api.github.com/users/limekiln/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/limekiln/subscriptions","organizations_url":"https://api.github.com/users/limekiln/orgs","repos_url":"https://api.github.com/users/limekiln/repos","events_url":"https://api.github.com/users/limekiln/events{/privacy}","received_events_url":"https://api.github.com/users/limekiln/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2021-02-23T09:17:09Z","updated_at":"2021-03-29T08:06:51Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"To my understanding, `useEffect` should always run after the browser acutally did paint any updates. This way, I tried to ensure that a loading indicator is rendered after a user submits data but before a blocking function execution (e.g. a fetch operation where the data is waited on) is executed. The code looks somewhat like the following:\r\n\r\nWrapper component to which a loading indicator can be passed:\r\n```javascript\r\nexport const LoadingWrapper = ({ callback, children}) => {\r\n  useEffect(() => {\r\n      if (typeof callback === \"function\") callback();\r\n  }, [])\r\n\r\n  return <React.Fragment> {children} </React.Fragment>\r\n}\r\n```\r\n\r\nUsage:\r\n```javascript\r\nconst [loading, setLoading] = useState(false);\r\n\r\nconst blockingFunction = () => {\r\n    // some functionaliy which blocks painting updates\r\n}\r\n\r\nreturn (\r\n    // some kind of input elements which change the `loading` state on submit\r\n    \r\n    { loading &&\r\n        <LoadingWrapper callback={blockingFunction}>\r\n            <div> Loading! </div>\r\n        </LoadingWrapper>\r\n)\r\n```\r\n\r\nI would expect from the documentation that the `callback` function is executed *after* the \"Loading\" div is rendered on the screen, but that is actually not the case. The new div appears after the blocking call is completely resolved.\r\n\r\nTo get it working, I acutally have to use a local state variable in addition to trigger the effect:\r\n```javascript\r\nexport const LoadingWrapper = ({ callback, children}) => {\r\n    const [isMounted, setIsMounted] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setIsMounted(true);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isMounted && typeof callback === \"function\") callback();\r\n    }, [isMounted]\r\n\r\n    return <React.Fragment> {children} </React.Fragment>\r\n}\r\n```\r\nUsing this, I also observed some strange browser dependent behaviour. If input changes (which lead `loading` being set to `true`) are submitted `onBlur` of the input, it works fine in Chrome as well as in Firefox. Submitting these changes `onKeyPress` (while checking if the pressed key was the `Enter` key), it works in Firefox, but *not* in Chrome.\r\n\r\nDoes anyone have an idea what exactly is going on here or do I miss something important?\r\n\r\n\r\nUPDATE:\r\nI added a code sandbox: https://codesandbox.io/s/effectrendering-umtwo\r\n\r\nThe behaviour is quite strange:\r\nIn Chrome, triggering `onBlur` works (almost) always, sometimes it seems to bug out. Triggering `onKeyPress` will never trigger the spinner, *except* when `onBlur` was triggered before with the exact same input string (even though this string should have no influence at all here). \r\nIn Firefox, neither `onBlur` nor `onKeyPress` will trigger the spinner for me.\r\n\r\nTested versions:\r\nChrome 88.0.4324.150 (64-Bit)\r\nFirefox 85.0.2 (64-Bit)\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20854","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20854/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20854/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20854/events","html_url":"https://github.com/facebook/react/issues/20854","id":812731411,"node_id":"MDU6SXNzdWU4MTI3MzE0MTE=","number":20854,"title":"Bug: Dropdowns in React Dev Tools are unclickable in Firefox","user":{"login":"adityavm","id":80849,"node_id":"MDQ6VXNlcjgwODQ5","avatar_url":"https://avatars.githubusercontent.com/u/80849?v=4","gravatar_id":"","url":"https://api.github.com/users/adityavm","html_url":"https://github.com/adityavm","followers_url":"https://api.github.com/users/adityavm/followers","following_url":"https://api.github.com/users/adityavm/following{/other_user}","gists_url":"https://api.github.com/users/adityavm/gists{/gist_id}","starred_url":"https://api.github.com/users/adityavm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adityavm/subscriptions","organizations_url":"https://api.github.com/users/adityavm/orgs","repos_url":"https://api.github.com/users/adityavm/repos","events_url":"https://api.github.com/users/adityavm/events{/privacy}","received_events_url":"https://api.github.com/users/adityavm/received_events","type":"User","site_admin":false},"labels":[{"id":710573595,"node_id":"MDU6TGFiZWw3MTA1NzM1OTU=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools","name":"Component: Developer Tools","color":"fbca04","default":false,"description":null},{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-02-20T23:35:59Z","updated_at":"2021-04-01T06:47:52Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n  Please provide a clear and concise description of what the bug is. Include\r\n  screenshots if needed. Please test using the latest version of the relevant\r\n  React packages to make sure your issue has not already been fixed.\r\n-->\r\n\r\nReact version: 16.9\r\nFirefox version: 85.0.2\r\nReact Dev Tools version: 4.10.1-f160547f47\r\n\r\n## Steps To Reproduce\r\n\r\n1. Open Web Inspector in Firefox on a page that includes React\r\n2. Go to \"Components\" tab (dev tools)\r\n3. Click on gear icon to open settings\r\n4. Attempt to click on any dropdown / select input\r\n\r\nhttps://user-images.githubusercontent.com/80849/108611236-b9d61780-7430-11eb-8a4f-a046ba45035f.mov\r\n\r\n## The current behavior\r\n\r\nNone of the select inputs / dropdowns respond to clicks.\r\n\r\n## The expected behavior\r\n\r\nSelect inputs / dropdowns should expand and allow options to be selected / changed.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20850","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20850/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20850/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20850/events","html_url":"https://github.com/facebook/react/pull/20850","id":812376457,"node_id":"MDExOlB1bGxSZXF1ZXN0NTc2NzUzMDA4","number":20850,"title":" Allow the length of the dependency array in hooks to change.","user":{"login":"lbfalvy","id":30078300,"node_id":"MDQ6VXNlcjMwMDc4MzAw","avatar_url":"https://avatars.githubusercontent.com/u/30078300?v=4","gravatar_id":"","url":"https://api.github.com/users/lbfalvy","html_url":"https://github.com/lbfalvy","followers_url":"https://api.github.com/users/lbfalvy/followers","following_url":"https://api.github.com/users/lbfalvy/following{/other_user}","gists_url":"https://api.github.com/users/lbfalvy/gists{/gist_id}","starred_url":"https://api.github.com/users/lbfalvy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lbfalvy/subscriptions","organizations_url":"https://api.github.com/users/lbfalvy/orgs","repos_url":"https://api.github.com/users/lbfalvy/repos","events_url":"https://api.github.com/users/lbfalvy/events{/privacy}","received_events_url":"https://api.github.com/users/lbfalvy/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-02-19T21:48:44Z","updated_at":"2021-02-25T12:27:46Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20850","html_url":"https://github.com/facebook/react/pull/20850","diff_url":"https://github.com/facebook/react/pull/20850.diff","patch_url":"https://github.com/facebook/react/pull/20850.patch"},"body":"<!--=\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\n\r\n<!-- Explain the **motivation** for making this change. What existing problem does the pull request solve? -->\r\nAllow for hooks to depend on the content of variable-length arrays.\r\nThis is currently impossible since both the number of hooks and the number of dependencies per hook are fixed numbers.\r\nThe only case where dependency array comparison can still have misleading results is `[...myArray, ...myOtherArray]`, so I also added a warning about this. This may be superfluous as the warning appears in a lot of what would now become perfectly valid situations.\r\nresolves #18229\r\n\r\n## Test Plan\r\n\r\n<!-- Demonstrate the code is solid. Example: The exact commands you ran and their output, screenshots / videos if the pull request changes the user interface. -->\r\nAs shown in the edited test case, `useEffect(() => etc, myArray)` now yields expected results.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20846","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20846/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20846/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20846/events","html_url":"https://github.com/facebook/react/pull/20846","id":811834663,"node_id":"MDExOlB1bGxSZXF1ZXN0NTc2MzAxMDI1","number":20846,"title":"Delete a redundant statement","user":{"login":"taichiyi","id":11924426,"node_id":"MDQ6VXNlcjExOTI0NDI2","avatar_url":"https://avatars.githubusercontent.com/u/11924426?v=4","gravatar_id":"","url":"https://api.github.com/users/taichiyi","html_url":"https://github.com/taichiyi","followers_url":"https://api.github.com/users/taichiyi/followers","following_url":"https://api.github.com/users/taichiyi/following{/other_user}","gists_url":"https://api.github.com/users/taichiyi/gists{/gist_id}","starred_url":"https://api.github.com/users/taichiyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/taichiyi/subscriptions","organizations_url":"https://api.github.com/users/taichiyi/orgs","repos_url":"https://api.github.com/users/taichiyi/repos","events_url":"https://api.github.com/users/taichiyi/events{/privacy}","received_events_url":"https://api.github.com/users/taichiyi/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-02-19T08:58:09Z","updated_at":"2021-02-19T09:03:57Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20846","html_url":"https://github.com/facebook/react/pull/20846","diff_url":"https://github.com/facebook/react/pull/20846.diff","patch_url":"https://github.com/facebook/react/pull/20846.patch"},"body":"At that time, the sibling of the fiber must be null, so there is no need to assign again.\r\n\r\n[That statement appears here for the first time](https://github.com/facebook/react/commit/edaf08fcfe179b8ac9742bcb60791f42024b8d0d#diff-5ff8ad3b5184d652e6a03d44a3cc97e74c1d7ee6885408e53edaf669d760cec5R749)","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20838","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20838/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20838/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20838/events","html_url":"https://github.com/facebook/react/issues/20838","id":810703714,"node_id":"MDU6SXNzdWU4MTA3MDM3MTQ=","number":20838,"title":"Impact: Removal of `function.displayName` in Chromium ","user":{"login":"chybie","id":5917927,"node_id":"MDQ6VXNlcjU5MTc5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/5917927?v=4","gravatar_id":"","url":"https://api.github.com/users/chybie","html_url":"https://github.com/chybie","followers_url":"https://api.github.com/users/chybie/followers","following_url":"https://api.github.com/users/chybie/following{/other_user}","gists_url":"https://api.github.com/users/chybie/gists{/gist_id}","starred_url":"https://api.github.com/users/chybie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chybie/subscriptions","organizations_url":"https://api.github.com/users/chybie/orgs","repos_url":"https://api.github.com/users/chybie/repos","events_url":"https://api.github.com/users/chybie/events{/privacy}","received_events_url":"https://api.github.com/users/chybie/received_events","type":"User","site_admin":false},"labels":[{"id":710375792,"node_id":"MDU6TGFiZWw3MTAzNzU3OTI=","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Discussion","name":"Type: Discussion","color":"fef2c0","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-02-18T02:41:23Z","updated_at":"2021-02-24T20:05:19Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Chromium plan to [remove the non-standard property `fn.displayName` property](https://docs.google.com/document/d/1_GxIGRvv8ATp3GMhA3jUfVFxGKMWEkFWvtqsSS7QQ2M/edit#heading=h.7nki9mck5t64). How would this impact React [`component.displayName`](https://reactjs.org/docs/react-component.html#displayname)?\r\n\r\nLinks:\r\n- Chromium: [Remove non-standard fn.displayName support](https://docs.google.com/document/d/1_GxIGRvv8ATp3GMhA3jUfVFxGKMWEkFWvtqsSS7QQ2M/edit#heading=h.7nki9mck5t64)\r\n- React: [Component.displayName](https://reactjs.org/docs/react-component.html#displayname)\r\n\r\n#### TL;DR;\r\n\r\nChromium has traditionally supported the non-standard `fn.displayName` property as a way to provide developer-controlled debug names for functions that show up in `error.stack` and in `DevTools` stack traces. \r\n\r\nWith ES6, `fn.name` is configurable as a standard, which is a portable replacement for `fn.displayName`. Also, V8 added logic to automatically infer good function names from the source code. \r\n\r\n\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20830","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20830/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20830/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20830/events","html_url":"https://github.com/facebook/react/issues/20830","id":810087443,"node_id":"MDU6SXNzdWU4MTAwODc0NDM=","number":20830,"title":"Error: \"Cannot read property 'concat' of undefined\"","user":{"login":"AlanH3160","id":30924086,"node_id":"MDQ6VXNlcjMwOTI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/30924086?v=4","gravatar_id":"","url":"https://api.github.com/users/AlanH3160","html_url":"https://github.com/AlanH3160","followers_url":"https://api.github.com/users/AlanH3160/followers","following_url":"https://api.github.com/users/AlanH3160/following{/other_user}","gists_url":"https://api.github.com/users/AlanH3160/gists{/gist_id}","starred_url":"https://api.github.com/users/AlanH3160/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlanH3160/subscriptions","organizations_url":"https://api.github.com/users/AlanH3160/orgs","repos_url":"https://api.github.com/users/AlanH3160/repos","events_url":"https://api.github.com/users/AlanH3160/events{/privacy}","received_events_url":"https://api.github.com/users/AlanH3160/received_events","type":"User","site_admin":false},"labels":[{"id":710573595,"node_id":"MDU6TGFiZWw3MTA1NzM1OTU=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools","name":"Component: Developer Tools","color":"fbca04","default":false,"description":null},{"id":620368407,"node_id":"MDU6TGFiZWw2MjAzNjg0MDc=","url":"https://api.github.com/repos/facebook/react/labels/Resolution:%20Needs%20More%20Information","name":"Resolution: Needs More Information","color":"fffde7","default":false,"description":null}],"state":"open","locked":false,"assignee":{"login":"AlanH3160","id":30924086,"node_id":"MDQ6VXNlcjMwOTI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/30924086?v=4","gravatar_id":"","url":"https://api.github.com/users/AlanH3160","html_url":"https://github.com/AlanH3160","followers_url":"https://api.github.com/users/AlanH3160/followers","following_url":"https://api.github.com/users/AlanH3160/following{/other_user}","gists_url":"https://api.github.com/users/AlanH3160/gists{/gist_id}","starred_url":"https://api.github.com/users/AlanH3160/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlanH3160/subscriptions","organizations_url":"https://api.github.com/users/AlanH3160/orgs","repos_url":"https://api.github.com/users/AlanH3160/repos","events_url":"https://api.github.com/users/AlanH3160/events{/privacy}","received_events_url":"https://api.github.com/users/AlanH3160/received_events","type":"User","site_admin":false},"assignees":[{"login":"AlanH3160","id":30924086,"node_id":"MDQ6VXNlcjMwOTI0MDg2","avatar_url":"https://avatars.githubusercontent.com/u/30924086?v=4","gravatar_id":"","url":"https://api.github.com/users/AlanH3160","html_url":"https://github.com/AlanH3160","followers_url":"https://api.github.com/users/AlanH3160/followers","following_url":"https://api.github.com/users/AlanH3160/following{/other_user}","gists_url":"https://api.github.com/users/AlanH3160/gists{/gist_id}","starred_url":"https://api.github.com/users/AlanH3160/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlanH3160/subscriptions","organizations_url":"https://api.github.com/users/AlanH3160/orgs","repos_url":"https://api.github.com/users/AlanH3160/repos","events_url":"https://api.github.com/users/AlanH3160/events{/privacy}","received_events_url":"https://api.github.com/users/AlanH3160/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2021-02-17T11:11:58Z","updated_at":"2021-03-12T18:15:15Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Describe what you were doing when the bug occurred:\r\n1. \r\n2. \r\n3. \r\n\r\n---------------------------------------------\r\nPlease do not remove the text below this line\r\n---------------------------------------------\r\n\r\nDevTools version: 4.10.1-f160547f47\r\n\r\nCall stack: at updateTree (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:19702:53)\r\n    at getCommitTree (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:19574:26)\r\n    at ProfilingCache_ProfilingCache.getCommitTree (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:20115:11)\r\n    at CommitFlamegraphAutoSizer (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:34161:33)\r\n    at Hh (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:12807:7)\r\n    at qi (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:13457:7)\r\n    at mk (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:16074:86)\r\n    at lk (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:15459:11)\r\n    at kk (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:15451:23)\r\n    at ck (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:15435:5)\r\n\r\nComponent stack: at CommitFlamegraphAutoSizer (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:34144:50)\r\n    at div\r\n    at div\r\n    at div\r\n    at SettingsModalContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:28206:3)\r\n    at Profiler_Profiler (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:35772:50)\r\n    at ErrorBoundary_ErrorBoundary (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:29219:5)\r\n    at PortaledContent (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:29336:32)\r\n    at div\r\n    at div\r\n    at ProfilerContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:32934:3)\r\n    at TreeContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:24322:3)\r\n    at SettingsContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:24811:3)\r\n    at ModalDialogContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:29404:3)\r\n    at DevTools_DevTools (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:36207:3)","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20822","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20822/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20822/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20822/events","html_url":"https://github.com/facebook/react/issues/20822","id":807960484,"node_id":"MDU6SXNzdWU4MDc5NjA0ODQ=","number":20822,"title":"Feat: Some type of way to merge key prop and useOpaqueIdentifier result ","user":{"login":"SoAsEr","id":20920091,"node_id":"MDQ6VXNlcjIwOTIwMDkx","avatar_url":"https://avatars.githubusercontent.com/u/20920091?v=4","gravatar_id":"","url":"https://api.github.com/users/SoAsEr","html_url":"https://github.com/SoAsEr","followers_url":"https://api.github.com/users/SoAsEr/followers","following_url":"https://api.github.com/users/SoAsEr/following{/other_user}","gists_url":"https://api.github.com/users/SoAsEr/gists{/gist_id}","starred_url":"https://api.github.com/users/SoAsEr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SoAsEr/subscriptions","organizations_url":"https://api.github.com/users/SoAsEr/orgs","repos_url":"https://api.github.com/users/SoAsEr/repos","events_url":"https://api.github.com/users/SoAsEr/events{/privacy}","received_events_url":"https://api.github.com/users/SoAsEr/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-02-14T13:24:40Z","updated_at":"2021-02-19T14:50:38Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Currently, the expected way to handle an unknown at compile time number of labels is to put them each in their own component. However, when creating tables, this causes a mess of callbacks, as the only way to do it (that I can think of anyway) is to pass a callback into the table header components, have them create their own unique identifier, and then use a useEffect to give the parent those identifiers, have the parent pass those identifiers to the rows, and then have each row generate its opaque own unique identifiers and pass both to the cells. Note that this doesn't work currently because of these two bugs:\r\nhttps://github.com/facebook/react/issues/18594\r\nhttps://github.com/facebook/react/issues/20127\r\n\r\nHowever, react already has a way to differentiate items in loops: the key prop. To me, it would make sense to provide a function which merges a key prop with a unique identifier. This would allow the parent to generate the unique identifiers and pass them to the children, rather than having callbacks which cause a rerender. It would even make https://github.com/facebook/react/issues/20127 less relevant because there would be fewer motivating reasons to do so.\r\n\r\nmergeOpaqueIdentifierAndKey is very wordy, but describes exactly what's going on. I don't have any particular preference about the name.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20821","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20821/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20821/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20821/events","html_url":"https://github.com/facebook/react/pull/20821","id":807946935,"node_id":"MDExOlB1bGxSZXF1ZXN0NTczMDgwNzUw","number":20821,"title":"PoC: support launch editor feature for selected component","user":{"login":"iChenLei","id":14012511,"node_id":"MDQ6VXNlcjE0MDEyNTEx","avatar_url":"https://avatars.githubusercontent.com/u/14012511?v=4","gravatar_id":"","url":"https://api.github.com/users/iChenLei","html_url":"https://github.com/iChenLei","followers_url":"https://api.github.com/users/iChenLei/followers","following_url":"https://api.github.com/users/iChenLei/following{/other_user}","gists_url":"https://api.github.com/users/iChenLei/gists{/gist_id}","starred_url":"https://api.github.com/users/iChenLei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iChenLei/subscriptions","organizations_url":"https://api.github.com/users/iChenLei/orgs","repos_url":"https://api.github.com/users/iChenLei/repos","events_url":"https://api.github.com/users/iChenLei/events{/privacy}","received_events_url":"https://api.github.com/users/iChenLei/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-02-14T12:01:29Z","updated_at":"2021-03-18T01:57:44Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20821","html_url":"https://github.com/facebook/react/pull/20821","diff_url":"https://github.com/facebook/react/pull/20821.diff","patch_url":"https://github.com/facebook/react/pull/20821.patch"},"body":"## Summary\r\n\r\n### support launch editor feature\r\nOriginal Feature Request #20435 \r\n\r\n![launchEditor](https://user-images.githubusercontent.com/14012511/107875836-0f746680-6efd-11eb-899b-c22a7b1f7d60.gif)\r\n\r\nWhen you inspected a react component, you can click the `launch editor` icon to jump to your editor and navigate to the source code original file position.\r\n\r\n### supoort set custom `launchEditorEndpoint`\r\n![2021-02-14 20 16 23](https://user-images.githubusercontent.com/14012511/107876681-51ec7200-6f02-11eb-94c7-57beac6e8f1f.png)\r\n\r\nWhy we need this ? Because different launch editor server middleware use different endpoint.\r\n\r\n`create-react-app` user must use `__open-stack-frame-in-editor` as endpoint cause these hard code.\r\n> https://github.com/facebook/create-react-app/blob/master/packages/react-dev-utils/launchEditorEndpoint.js#L9-L10\r\n```js\r\n// TODO: we might want to make this injectable to support DEV-time non-root URLs.\r\nmodule.exports = '/__open-stack-frame-in-editor';\r\n```\r\n`launch-editor-middleware` user often use `__open-in-editor` as endpoint.\r\n> https://github.com/yyx990803/launch-editor#middleware\r\n```js\r\nconst launchMiddleware = require('launch-editor-middleware')\r\napp.use('/__open-in-editor', launchMiddleware())\r\n```\r\n![2021-02-14 20 39 20](https://user-images.githubusercontent.com/14012511/107877028-c2948e00-6f04-11eb-9a09-5ba31ad689cb.png)\r\nBoth middleware have many user around world (and exist many custom middleware actually).\r\n\r\n## Issues need to fix\r\n1. Can we get the releative file path from devtools ? Now the `source` path is absolute(e.g. `/Users/iChenLei/Documents/cra/reactapp/src/App.js:24`).\r\n2. If we only can use absolute file path, we need create pr for `create-react-app/react-dev-utils` to support absolute path.\r\n`https://github.com/facebook/create-react-app/blob/master/packages/react-dev-utils/launchEditor.js#L287-L290`\r\n```diff\r\n+ const filePath = path.relative(process.cwd(), fileName)\r\n```\r\n3. Please help me make a suitable svg icon for `launch editor`feature, Thanks for `facebook/react` official.\r\n4. Is there `common toast` ui component to show message about set custom endpoint success ? I think feedback is necessary.\r\n\r\n@bvaughn Sir, I need your code review and advices, thanks. \r\n\r\n> I must say that it's too hard for me to run the devtools extension build and test script, many network error / script error and other problems, It drives me crazy 😭 .\r\n\r\n## Test Plan\r\n\r\nwill add necessary unit test later\r\n\r\n## Circle CI Artifacts\r\nEvery one can download this build artifacts to test `launch editor`, but you must modilfy your `launch editor` middleware to support `absolute file path` otherwise you can't launch editor success. I will create a pull request to `create-react-app/react-dev-utils` to support absolute file path. Welcome any suggestion !\r\n```diff\r\n// for example\r\n// ./node_modules/react-dev-utils/launchEditor.js\r\nfunction launchEditor(fileName, lineNumber, colNumber) {\r\n+ fileName = path.relative(process.cwd(), fileName)\r\n  if (!fs.existsSync(fileName)) {\r\n    return;\r\n  }\r\n```\r\n> React devtools build download ->  [build/devtools.tgz](https://270891-10270250-gh.circle-artifacts.com/0/build/devtools.tgz)","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20820","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20820/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20820/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20820/events","html_url":"https://github.com/facebook/react/pull/20820","id":807850592,"node_id":"MDExOlB1bGxSZXF1ZXN0NTczMDA5NjY2","number":20820,"title":"Change spawnedWorkDuringRender to a bitmask","user":{"login":"renatoalencar","id":6964593,"node_id":"MDQ6VXNlcjY5NjQ1OTM=","avatar_url":"https://avatars.githubusercontent.com/u/6964593?v=4","gravatar_id":"","url":"https://api.github.com/users/renatoalencar","html_url":"https://github.com/renatoalencar","followers_url":"https://api.github.com/users/renatoalencar/followers","following_url":"https://api.github.com/users/renatoalencar/following{/other_user}","gists_url":"https://api.github.com/users/renatoalencar/gists{/gist_id}","starred_url":"https://api.github.com/users/renatoalencar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/renatoalencar/subscriptions","organizations_url":"https://api.github.com/users/renatoalencar/orgs","repos_url":"https://api.github.com/users/renatoalencar/repos","events_url":"https://api.github.com/users/renatoalencar/events{/privacy}","received_events_url":"https://api.github.com/users/renatoalencar/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-02-13T23:31:45Z","updated_at":"2021-02-27T01:35:55Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20820","html_url":"https://github.com/facebook/react/pull/20820","diff_url":"https://github.com/facebook/react/pull/20820.diff","patch_url":"https://github.com/facebook/react/pull/20820.patch"},"body":"As lanes define a bitmask of different kinds of work to be performed on a fiber, this could be merged in one single lane instead of using an array.\r\n\r\nThis assumes that scheduling a pending interaction for the same lane a second time is redundant work.\r\n\r\n<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\n\r\n<!-- Explain the **motivation** for making this change. What existing problem does the pull request solve? -->\r\nThis probably could deliver a little bit of a performance improvement and simplify this piece of code.\r\n\r\n## Test Plan\r\n\r\n<!-- Demonstrate the code is solid. Example: The exact commands you ran and their output, screenshots / videos if the pull request changes the user interface. -->\r\n\r\nAll the tests are passing, I just had to make a little fix for one test.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20819","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20819/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20819/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20819/events","html_url":"https://github.com/facebook/react/issues/20819","id":807837152,"node_id":"MDU6SXNzdWU4MDc4MzcxNTI=","number":20819,"title":"When you pass object instance into React Component props, object instance is never cleared from memory.","user":{"login":"czmok","id":6932832,"node_id":"MDQ6VXNlcjY5MzI4MzI=","avatar_url":"https://avatars.githubusercontent.com/u/6932832?v=4","gravatar_id":"","url":"https://api.github.com/users/czmok","html_url":"https://github.com/czmok","followers_url":"https://api.github.com/users/czmok/followers","following_url":"https://api.github.com/users/czmok/following{/other_user}","gists_url":"https://api.github.com/users/czmok/gists{/gist_id}","starred_url":"https://api.github.com/users/czmok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/czmok/subscriptions","organizations_url":"https://api.github.com/users/czmok/orgs","repos_url":"https://api.github.com/users/czmok/repos","events_url":"https://api.github.com/users/czmok/events{/privacy}","received_events_url":"https://api.github.com/users/czmok/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-02-13T21:57:01Z","updated_at":"2021-02-15T11:36:27Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi, \r\nI have an issue with passing object reference into React Component props. I pass `example` into `prop1` of `TestReactComponent`. Then, in `removeInstance` method I clear the object instance. After setting it to `null` object instance shouldn't be visible in memory.\r\nExample code: \r\n```\r\nfunction App() {\r\n  let example = new ExampleClassInstance();\r\n  const key = Math.random();\r\n  const removeInstance = () => {\r\n    unmountComponentAtNode(document.getElementById('example-wrap'))\r\n    example = null;\r\n  }\r\n  return (\r\n    <div className=\"App\"  id=\"example-wrap\">\r\n      <div >\r\n        <TestReactComponent  key={key} prop1={example} ></TestReactComponent>\r\n      </div>\r\n      <button onClick={()=> removeInstance()}>remove</button>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n```\r\n\r\nAfter setting `example` to null (after calling `removeInstance` method) I expect not to have an object instance in memory, but unfortunately it still exists. After recording Heap Snapshot from Memory tab I see result: \r\n```\r\nExampleClassInstance | 9 | 560 % | 2440 %\r\nprop1 in Object@591215🗖 | 8 | 120 % | 5600 % |  \r\n      -- | -- | -- | -- | --\r\n              memoizedProps in FiberNode@591281🗖react-dom.development.js:24666 | 7 | 1400 % | 1880 % |  \r\n              returninFiberNode@591301🗖react-dom.development.js:24666 | 6 | 1400 % | 1880 % |  \r\n              __reactFiber$lwytjywp7qinText@317739🗖\r\n\r\n```\r\nSnapshot says :  `memoizedProps in FiberNode`. \r\nPS I don't use `memo` function for the component.\r\n\r\nAfter setting `example` to `null` I expect don't see object instance in memory anymore.\r\n\r\nPlease for help. If something is not clear please ask.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20815","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20815/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20815/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20815/events","html_url":"https://github.com/facebook/react/pull/20815","id":807715848,"node_id":"MDExOlB1bGxSZXF1ZXN0NTcyOTEzMzM1","number":20815,"title":"Add warning about hydration mismatch on defaultChecked prop","user":{"login":"kaykdm","id":34934746,"node_id":"MDQ6VXNlcjM0OTM0NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/34934746?v=4","gravatar_id":"","url":"https://api.github.com/users/kaykdm","html_url":"https://github.com/kaykdm","followers_url":"https://api.github.com/users/kaykdm/followers","following_url":"https://api.github.com/users/kaykdm/following{/other_user}","gists_url":"https://api.github.com/users/kaykdm/gists{/gist_id}","starred_url":"https://api.github.com/users/kaykdm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaykdm/subscriptions","organizations_url":"https://api.github.com/users/kaykdm/orgs","repos_url":"https://api.github.com/users/kaykdm/repos","events_url":"https://api.github.com/users/kaykdm/events{/privacy}","received_events_url":"https://api.github.com/users/kaykdm/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-02-13T09:42:25Z","updated_at":"2021-02-14T01:46:07Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20815","html_url":"https://github.com/facebook/react/pull/20815","diff_url":"https://github.com/facebook/react/pull/20815.diff","patch_url":"https://github.com/facebook/react/pull/20815.patch"},"body":"<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\n\r\n<!-- Explain the **motivation** for making this change. What existing problem does the pull request solve? -->\r\nThis PR makes sure that React warns about a hydration mismatch of defaultChecked prop\r\nFixes: https://github.com/facebook/react/issues/18502\r\n\r\n## Test Plan\r\n\r\n<!-- Demonstrate the code is solid. Example: The exact commands you ran and their output, screenshots / videos if the pull request changes the user interface. -->\r\nAdditional test has been added.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20803","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20803/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20803/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20803/events","html_url":"https://github.com/facebook/react/pull/20803","id":806457319,"node_id":"MDExOlB1bGxSZXF1ZXN0NTcxODcyNTM2","number":20803,"title":"Improving feedback for \"Text strings must be rendered within a <Text> component.\" errors.","user":{"login":"dmlux","id":5197513,"node_id":"MDQ6VXNlcjUxOTc1MTM=","avatar_url":"https://avatars.githubusercontent.com/u/5197513?v=4","gravatar_id":"","url":"https://api.github.com/users/dmlux","html_url":"https://github.com/dmlux","followers_url":"https://api.github.com/users/dmlux/followers","following_url":"https://api.github.com/users/dmlux/following{/other_user}","gists_url":"https://api.github.com/users/dmlux/gists{/gist_id}","starred_url":"https://api.github.com/users/dmlux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmlux/subscriptions","organizations_url":"https://api.github.com/users/dmlux/orgs","repos_url":"https://api.github.com/users/dmlux/repos","events_url":"https://api.github.com/users/dmlux/events{/privacy}","received_events_url":"https://api.github.com/users/dmlux/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-02-11T14:46:11Z","updated_at":"2021-02-23T19:41:10Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20803","html_url":"https://github.com/facebook/react/pull/20803","diff_url":"https://github.com/facebook/react/pull/20803.diff","patch_url":"https://github.com/facebook/react/pull/20803.patch"},"body":"<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n\r\n## Summary\r\n\r\n<!-- Thanks for submitting a pull request! We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory. -->\r\n\r\nThis PR is meant to be a draft for changes in the renderer. In our company we sometimes facing \"Text strings must be rendered within a \\<Text\\> component.\" errors related to conditional concatenation with components. Since conditionals are often values provided by services, it is difficult to track down the exact location where they occur. Unfortunately, both the error component stack and the call stack do not provide enough information to find the corresponding location in the code. For this reason, we patched React Native locally to drastically reduce the debugging time associated with such errors.\r\n\r\nThe provided changes of this PR are basically the patch applied locally to React Native in our project. The improvements to the messages from our patch include the actual text that could not be rendered, as well as a sibling component and its exact location in the source code. This allows my colleagues and me to quickly track down problems and locate the approximate point of failure in our code. It also gives a hint that the problem might be related to a concatenation between a value and a component.\r\n\r\nHowever, this solution is not quite perfect, as the information is not detailed enough in cases where the error is caused by code, such as the following:\r\n\r\n```\r\n<View>\r\n  forgot to wrap this text with text component...\r\n</View>\r\n```\r\n\r\nObviously, in this situation, there are no sibling components from which we can infer the source code location or parent component. Nevertheless, in such cases the message contains at least the text which could not be rendered without `<Text>` component. The question we have is whether it is possible to make the error message more verbose in all cases?\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20787","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20787/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20787/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20787/events","html_url":"https://github.com/facebook/react/issues/20787","id":805614108,"node_id":"MDU6SXNzdWU4MDU2MTQxMDg=","number":20787,"title":"Bug: Safari div contentEditable，onMouseUp trigger before onMouseDown","user":{"login":"SmallComfort","id":8806899,"node_id":"MDQ6VXNlcjg4MDY4OTk=","avatar_url":"https://avatars.githubusercontent.com/u/8806899?v=4","gravatar_id":"","url":"https://api.github.com/users/SmallComfort","html_url":"https://github.com/SmallComfort","followers_url":"https://api.github.com/users/SmallComfort/followers","following_url":"https://api.github.com/users/SmallComfort/following{/other_user}","gists_url":"https://api.github.com/users/SmallComfort/gists{/gist_id}","starred_url":"https://api.github.com/users/SmallComfort/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SmallComfort/subscriptions","organizations_url":"https://api.github.com/users/SmallComfort/orgs","repos_url":"https://api.github.com/users/SmallComfort/repos","events_url":"https://api.github.com/users/SmallComfort/events{/privacy}","received_events_url":"https://api.github.com/users/SmallComfort/received_events","type":"User","site_admin":false},"labels":[{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-02-10T15:24:57Z","updated_at":"2021-02-15T14:12:45Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"React version: 17.0.1\r\n\r\n## Steps To Reproduce\r\n\r\n1. Mac OS Big Sur version 11.2，Safari  version 14.0.3 \r\n2. set div contentEditable\r\n3. div addEventListener onMouseUp and onMouseDown\r\n4. onMouseUp trigger before onMouseDown\r\n\r\n<!--\r\n  Your bug will get fixed much faster if we can run your code and it doesn't\r\n  have dependencies other than React. Issues without reproduction steps or\r\n  code examples may be immediately closed as not actionable.\r\n-->\r\n\r\nLink to code example:\r\n```\r\n<div\r\n  onMouseDown={() => {console.log('mouse down')}}\r\n  onMouseUp={() => {console.log('mouse up')}}\r\n  suppressContentEditableWarning\r\n  contentEditable>\r\n  Test ContentEditable In Safari\r\n</div>\r\n```\r\n\r\n<!--\r\n  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a\r\n  repository on GitHub, or provide a minimal code example that reproduces the\r\n  problem. You may provide a screenshot of the application if you think it is\r\n  relevant to your bug report. Here are some tips for providing a minimal\r\n  example: https://stackoverflow.com/help/mcve.\r\n-->\r\n\r\n## The current behavior\r\n\r\nonMouseUp trigger before onMouseDown\r\n\r\n## The expected behavior\r\n\r\nonMouseUp trigger after onMouseDown\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20786","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20786/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20786/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20786/events","html_url":"https://github.com/facebook/react/pull/20786","id":805510414,"node_id":"MDExOlB1bGxSZXF1ZXN0NTcxMDk5MjQy","number":20786,"title":"Optimize Context Propagating","user":{"login":"intellild","id":8379858,"node_id":"MDQ6VXNlcjgzNzk4NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8379858?v=4","gravatar_id":"","url":"https://api.github.com/users/intellild","html_url":"https://github.com/intellild","followers_url":"https://api.github.com/users/intellild/followers","following_url":"https://api.github.com/users/intellild/following{/other_user}","gists_url":"https://api.github.com/users/intellild/gists{/gist_id}","starred_url":"https://api.github.com/users/intellild/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/intellild/subscriptions","organizations_url":"https://api.github.com/users/intellild/orgs","repos_url":"https://api.github.com/users/intellild/repos","events_url":"https://api.github.com/users/intellild/events{/privacy}","received_events_url":"https://api.github.com/users/intellild/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-02-10T13:24:38Z","updated_at":"2021-02-11T07:50:42Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20786","html_url":"https://github.com/facebook/react/pull/20786","diff_url":"https://github.com/facebook/react/pull/20786.diff","patch_url":"https://github.com/facebook/react/pull/20786.patch"},"body":"<!--\r\n  Thanks for submitting a pull request!\r\n  We appreciate you spending the time to work on these changes. Please provide enough information so that others can review your pull request. The three fields below are mandatory.\r\n\r\n  Before submitting a pull request, please make sure the following is done:\r\n\r\n  1. Fork [the repository](https://github.com/facebook/react) and create your branch from `master`.\r\n  2. Run `yarn` in the repository root.\r\n  3. If you've fixed a bug or added code that should be tested, add tests!\r\n  4. Ensure the test suite passes (`yarn test`). Tip: `yarn test --watch TestName` is helpful in development.\r\n  5. Run `yarn test --prod` to test in the production environment. It supports the same options as `yarn test`.\r\n  6. If you need a debugger, run `yarn debug-test --watch TestName`, open `chrome://inspect`, and press \"Inspect\".\r\n  7. Format your code with [prettier](https://github.com/prettier/prettier) (`yarn prettier`).\r\n  8. Make sure your code lints (`yarn lint`). Tip: `yarn linc` to only check changed files.\r\n  9. Run the [Flow](https://flowtype.org/) type checks (`yarn flow`).\r\n  10. If you haven't already, complete the CLA.\r\n\r\n  Learn more about contributing: https://reactjs.org/docs/how-to-contribute.html\r\n-->\r\n\r\n## Summary\r\n\r\n#20661\r\n\r\n## Test Plan\r\n\r\n<!-- Demonstrate the code is solid. Example: The exact commands you ran and their output, screenshots / videos if the pull request changes the user interface. -->\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20783","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20783/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20783/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20783/events","html_url":"https://github.com/facebook/react/pull/20783","id":805130041,"node_id":"MDExOlB1bGxSZXF1ZXN0NTcwNzg1Njkw","number":20783,"title":"Debug tools supports custom hooks with the same name as primitives (alt 2)","user":{"login":"sebmarkbage","id":63648,"node_id":"MDQ6VXNlcjYzNjQ4","avatar_url":"https://avatars.githubusercontent.com/u/63648?v=4","gravatar_id":"","url":"https://api.github.com/users/sebmarkbage","html_url":"https://github.com/sebmarkbage","followers_url":"https://api.github.com/users/sebmarkbage/followers","following_url":"https://api.github.com/users/sebmarkbage/following{/other_user}","gists_url":"https://api.github.com/users/sebmarkbage/gists{/gist_id}","starred_url":"https://api.github.com/users/sebmarkbage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebmarkbage/subscriptions","organizations_url":"https://api.github.com/users/sebmarkbage/orgs","repos_url":"https://api.github.com/users/sebmarkbage/repos","events_url":"https://api.github.com/users/sebmarkbage/events{/privacy}","received_events_url":"https://api.github.com/users/sebmarkbage/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-02-10T03:27:59Z","updated_at":"2021-02-12T16:01:29Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20783","html_url":"https://github.com/facebook/react/pull/20783","diff_url":"https://github.com/facebook/react/pull/20783.diff","patch_url":"https://github.com/facebook/react/pull/20783.patch"},"body":"Alternative fix to #20664","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20780","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20780/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20780/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20780/events","html_url":"https://github.com/facebook/react/pull/20780","id":805032207,"node_id":"MDExOlB1bGxSZXF1ZXN0NTcwNzA1MDY0","number":20780,"title":"Fix false positive getDefaultProps warning (issue #9999)","user":{"login":"amensum","id":24319283,"node_id":"MDQ6VXNlcjI0MzE5Mjgz","avatar_url":"https://avatars.githubusercontent.com/u/24319283?v=4","gravatar_id":"","url":"https://api.github.com/users/amensum","html_url":"https://github.com/amensum","followers_url":"https://api.github.com/users/amensum/followers","following_url":"https://api.github.com/users/amensum/following{/other_user}","gists_url":"https://api.github.com/users/amensum/gists{/gist_id}","starred_url":"https://api.github.com/users/amensum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amensum/subscriptions","organizations_url":"https://api.github.com/users/amensum/orgs","repos_url":"https://api.github.com/users/amensum/repos","events_url":"https://api.github.com/users/amensum/events{/privacy}","received_events_url":"https://api.github.com/users/amensum/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-02-10T00:11:50Z","updated_at":"2021-02-10T00:30:15Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20780","html_url":"https://github.com/facebook/react/pull/20780","diff_url":"https://github.com/facebook/react/pull/20780.diff","patch_url":"https://github.com/facebook/react/pull/20780.patch"},"body":"### False positive getDefaultProps warning\r\n\r\nHi! Please, review my pull request that fix issue #9999\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20779","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20779/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20779/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20779/events","html_url":"https://github.com/facebook/react/issues/20779","id":804990966,"node_id":"MDU6SXNzdWU4MDQ5OTA5NjY=","number":20779,"title":"Scheduling profiler feedback","user":{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false},"labels":[{"id":710573595,"node_id":"MDU6TGFiZWw3MTA1NzM1OTU=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20Developer%20Tools","name":"Component: Developer Tools","color":"fbca04","default":false,"description":null},{"id":121709921,"node_id":"MDU6TGFiZWwxMjE3MDk5MjE=","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Feature%20Request","name":"Type: Feature Request","color":"c7def8","default":false,"description":null}],"state":"open","locked":false,"assignee":{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false},"assignees":[{"login":"bvaughn","id":29597,"node_id":"MDQ6VXNlcjI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/29597?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaughn","html_url":"https://github.com/bvaughn","followers_url":"https://api.github.com/users/bvaughn/followers","following_url":"https://api.github.com/users/bvaughn/following{/other_user}","gists_url":"https://api.github.com/users/bvaughn/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaughn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaughn/subscriptions","organizations_url":"https://api.github.com/users/bvaughn/orgs","repos_url":"https://api.github.com/users/bvaughn/repos","events_url":"https://api.github.com/users/bvaughn/events{/privacy}","received_events_url":"https://api.github.com/users/bvaughn/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2021-02-09T22:49:55Z","updated_at":"2021-02-09T23:04:38Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Some of this might not be possible or might be prohibitively difficult, but this was some user feedback/requests for the scheduling profiler:\r\n* Show lane labels instead of bitmap index\r\n* On hover for a batch of render work highlight update events that were related to that render batch\r\n* Show when tasks are scheduled (in the scheduler, any JavaScript, not just React\r\n* Find-in-page that shows number of results like Chrome and updates as you zoom and scroll\r\n* Show lane(s) state update get associated with in chart tooltip\r\n* Highlight batched updates on hover (hovering one item would update others)","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20777","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20777/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20777/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20777/events","html_url":"https://github.com/facebook/react/pull/20777","id":804968227,"node_id":"MDExOlB1bGxSZXF1ZXN0NTcwNjUxMTcx","number":20777,"title":"Always set window.event in test environment","user":{"login":"gaearon","id":810438,"node_id":"MDQ6VXNlcjgxMDQzOA==","avatar_url":"https://avatars.githubusercontent.com/u/810438?v=4","gravatar_id":"","url":"https://api.github.com/users/gaearon","html_url":"https://github.com/gaearon","followers_url":"https://api.github.com/users/gaearon/followers","following_url":"https://api.github.com/users/gaearon/following{/other_user}","gists_url":"https://api.github.com/users/gaearon/gists{/gist_id}","starred_url":"https://api.github.com/users/gaearon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaearon/subscriptions","organizations_url":"https://api.github.com/users/gaearon/orgs","repos_url":"https://api.github.com/users/gaearon/repos","events_url":"https://api.github.com/users/gaearon/events{/privacy}","received_events_url":"https://api.github.com/users/gaearon/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-02-09T22:08:19Z","updated_at":"2021-02-09T23:14:11Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20777","html_url":"https://github.com/facebook/react/pull/20777","diff_url":"https://github.com/facebook/react/pull/20777.diff","patch_url":"https://github.com/facebook/react/pull/20777.patch"},"body":"To avoid future surprises and confusion. Let's just do it everywhere.\r\n\r\nI'm not sure this is exactly accurate and matches how the browser does it. Probably not. But close enough?","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20776","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20776/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20776/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20776/events","html_url":"https://github.com/facebook/react/pull/20776","id":804962460,"node_id":"MDExOlB1bGxSZXF1ZXN0NTcwNjQ2MzM2","number":20776,"title":"sizebot: Use absolute change instead of relative","user":{"login":"acdlite","id":3624098,"node_id":"MDQ6VXNlcjM2MjQwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3624098?v=4","gravatar_id":"","url":"https://api.github.com/users/acdlite","html_url":"https://github.com/acdlite","followers_url":"https://api.github.com/users/acdlite/followers","following_url":"https://api.github.com/users/acdlite/following{/other_user}","gists_url":"https://api.github.com/users/acdlite/gists{/gist_id}","starred_url":"https://api.github.com/users/acdlite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acdlite/subscriptions","organizations_url":"https://api.github.com/users/acdlite/orgs","repos_url":"https://api.github.com/users/acdlite/repos","events_url":"https://api.github.com/users/acdlite/events{/privacy}","received_events_url":"https://api.github.com/users/acdlite/received_events","type":"User","site_admin":false},"labels":[{"id":196858374,"node_id":"MDU6TGFiZWwxOTY4NTgzNzQ=","url":"https://api.github.com/repos/facebook/react/labels/CLA%20Signed","name":"CLA Signed","color":"e7e7e7","default":false,"description":null},{"id":1775958285,"node_id":"MDU6TGFiZWwxNzc1OTU4Mjg1","url":"https://api.github.com/repos/facebook/react/labels/React%20Core%20Team","name":"React Core Team","color":"9149d1","default":false,"description":"Opened by a member of the React Core Team"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-02-09T21:58:34Z","updated_at":"2021-02-09T22:46:58Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/facebook/react/pulls/20776","html_url":"https://github.com/facebook/react/pull/20776","diff_url":"https://github.com/facebook/react/pull/20776.diff","patch_url":"https://github.com/facebook/react/pull/20776.patch"},"body":"","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20770","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20770/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20770/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20770/events","html_url":"https://github.com/facebook/react/issues/20770","id":804794838,"node_id":"MDU6SXNzdWU4MDQ3OTQ4Mzg=","number":20770,"title":"Bug: Disabled button state update prevents `scrollIntoView`","user":{"login":"jjenzz","id":175330,"node_id":"MDQ6VXNlcjE3NTMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/175330?v=4","gravatar_id":"","url":"https://api.github.com/users/jjenzz","html_url":"https://github.com/jjenzz","followers_url":"https://api.github.com/users/jjenzz/followers","following_url":"https://api.github.com/users/jjenzz/following{/other_user}","gists_url":"https://api.github.com/users/jjenzz/gists{/gist_id}","starred_url":"https://api.github.com/users/jjenzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjenzz/subscriptions","organizations_url":"https://api.github.com/users/jjenzz/orgs","repos_url":"https://api.github.com/users/jjenzz/repos","events_url":"https://api.github.com/users/jjenzz/events{/privacy}","received_events_url":"https://api.github.com/users/jjenzz/received_events","type":"User","site_admin":false},"labels":[{"id":127893911,"node_id":"MDU6TGFiZWwxMjc4OTM5MTE=","url":"https://api.github.com/repos/facebook/react/labels/Component:%20DOM","name":"Component: DOM","color":"fef2c0","default":false,"description":null},{"id":40929151,"node_id":"MDU6TGFiZWw0MDkyOTE1MQ==","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Bug","name":"Type: Bug","color":"b60205","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-02-09T18:16:29Z","updated_at":"2021-03-19T19:13:02Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I have a `button` that triggers `scrollIntoView` for a node when clicked. It also updates some state which subsequently disables that button in certain cases. If the button becomes disabled, the `scrollIntoView` execution is exited.\r\n\r\nThis seems to only happen in Chrome/Brave.\r\n\r\nReact version: 17.0.1\r\n\r\n## Steps To Reproduce\r\n\r\nSee steps to reproduce in sandbox.\r\n\r\nhttps://codesandbox.io/s/goofy-curie-yts68?file=/src/App.js\r\n\r\n## The current behavior\r\n\r\nDescribed above.\r\n\r\n## The expected behavior\r\n\r\nThe state update should not prevent `scrollIntoView`.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20755","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20755/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20755/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20755/events","html_url":"https://github.com/facebook/react/issues/20755","id":802937707,"node_id":"MDU6SXNzdWU4MDI5Mzc3MDc=","number":20755,"title":"Feature Suggestion: Add `ignoreMemberCallExpression` option for `exhaustive-deps` lint rule","user":{"login":"chayeoi","id":17597549,"node_id":"MDQ6VXNlcjE3NTk3NTQ5","avatar_url":"https://avatars.githubusercontent.com/u/17597549?v=4","gravatar_id":"","url":"https://api.github.com/users/chayeoi","html_url":"https://github.com/chayeoi","followers_url":"https://api.github.com/users/chayeoi/followers","following_url":"https://api.github.com/users/chayeoi/following{/other_user}","gists_url":"https://api.github.com/users/chayeoi/gists{/gist_id}","starred_url":"https://api.github.com/users/chayeoi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chayeoi/subscriptions","organizations_url":"https://api.github.com/users/chayeoi/orgs","repos_url":"https://api.github.com/users/chayeoi/repos","events_url":"https://api.github.com/users/chayeoi/events{/privacy}","received_events_url":"https://api.github.com/users/chayeoi/received_events","type":"User","site_admin":false},"labels":[{"id":1249821345,"node_id":"MDU6TGFiZWwxMjQ5ODIxMzQ1","url":"https://api.github.com/repos/facebook/react/labels/Component:%20ESLint%20Rules","name":"Component: ESLint Rules","color":"f7afdb","default":false,"description":""},{"id":40929153,"node_id":"MDU6TGFiZWw0MDkyOTE1Mw==","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Enhancement","name":"Type: Enhancement","color":"84b6eb","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-02-07T12:09:14Z","updated_at":"2021-02-17T13:13:42Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"## As-is\r\n\r\nWhen only referring to object's member properties, `exhaustive-deps` lint rule does not show a warning.\r\n\r\nHowever, **when calling object's member property, this rule shows a warning.**\r\n\r\n```tsx\r\nfunction Password() {\r\n  const verifyPassword = useMutation(apis.verifyPassword);\r\n\r\n  useEffect(() => {\r\n    verifyPassword.mutate;\r\n  }, [verifyPassword.mutate]); // PASS\r\n\r\n  useEffect(() => {\r\n    verifyPassword.mutate();\r\n  } ,[verifyPassword.mutate]); // React Hook useEffect has a missing dependency: 'verifyPassword'. Either include it or remove the dependency array.\r\n} \r\n```\r\n\r\nI saw [Dan's comment](https://github.com/facebook/react/issues/14920#issuecomment-467494468) on this behavior.\r\n\r\n> This is because technically props.foo() passes props itself as this to foo call. So foo might implicitly depend on props. We'll need a better message for this case though. The best practice is always destructuring.\r\n\r\nIt is fully understood.\r\n\r\nHowever, **when the entire object is included as a dependency, the following problem can occur.**\r\nTake a look at the following code.\r\n\r\n```tsx\r\nconst verifyPassword = useMutation(apis.verifyPassword); // `verifyPassword` equals to `{ isLoading: boolean; mutate: Function }`\r\n\r\n// `verifyPassword(password)` sets `isLoading` to `true` and causes `useEffect` hook that depends on `verifyPassword` objects to be re-excuted. This eventually leads to an infinite loop.\r\nuseEffect(() => {\r\n  if (password === PASSWORD_LENGTH) {\r\n    verifyPassword.mutate(password);\r\n  } \r\n  \r\n}, [password, verifyPassword]);\r\n```\r\n\r\n**There are two ways to avoid this problem.**\r\n\r\n```tsx\r\n// 1. Use destructuring\r\nconst { mutate } = useMutation(apis.verifyPassword);\r\n\r\nuseEffect(() => {\r\n  if (password === PASSWORD_LENGTH) {\r\n    verifyPassword.mutate(password);\r\n  }\r\n}, [password, mutate]);\r\n\r\n// 2. Assign member property to other variable\r\nuseEffect(() => {\r\n  const mutate = verifyPassword.mutate;\r\n\r\n  mutate();\r\n}, [verifyPassword.mutate]);\r\n```\r\n\r\n## To-be\r\n\r\nIn many cases, it is not common to refer to other members through `this`.\r\n\r\nAnd as in the example above, it is a good idea to use namespace to avoid name conflicts. (https://github.com/facebook/react/issues/16265#issuecomment-587977285)\r\n\r\nSo, I would like to suggest an **option to set not to warn about _member call expresion_ when using the `exhaustive-deps` rule.**\r\n\r\n```tsx\r\n// 'react-hooks/exhaustive-deps': ['warn', { ignoreMemberCallExpression: true }]\r\nuseEffect(() => {\r\n  verifyPassword.mutate();\r\n}, [verifyPassword.mutate]); // PASS\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20754","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20754/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20754/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20754/events","html_url":"https://github.com/facebook/react/issues/20754","id":802809968,"node_id":"MDU6SXNzdWU4MDI4MDk5Njg=","number":20754,"title":"Change default branch name to “main”. Currently is “master”","user":{"login":"samarmohan","id":71091489,"node_id":"MDQ6VXNlcjcxMDkxNDg5","avatar_url":"https://avatars.githubusercontent.com/u/71091489?v=4","gravatar_id":"","url":"https://api.github.com/users/samarmohan","html_url":"https://github.com/samarmohan","followers_url":"https://api.github.com/users/samarmohan/followers","following_url":"https://api.github.com/users/samarmohan/following{/other_user}","gists_url":"https://api.github.com/users/samarmohan/gists{/gist_id}","starred_url":"https://api.github.com/users/samarmohan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarmohan/subscriptions","organizations_url":"https://api.github.com/users/samarmohan/orgs","repos_url":"https://api.github.com/users/samarmohan/repos","events_url":"https://api.github.com/users/samarmohan/events{/privacy}","received_events_url":"https://api.github.com/users/samarmohan/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-02-06T22:59:55Z","updated_at":"2021-02-07T15:01:13Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"The word main is more inclusive than master. Master refers to slavery and makes some people feel lesser. Changing the branch name is a small but important gesture.","performed_via_github_app":null},{"url":"https://api.github.com/repos/facebook/react/issues/20750","repository_url":"https://api.github.com/repos/facebook/react","labels_url":"https://api.github.com/repos/facebook/react/issues/20750/labels{/name}","comments_url":"https://api.github.com/repos/facebook/react/issues/20750/comments","events_url":"https://api.github.com/repos/facebook/react/issues/20750/events","html_url":"https://github.com/facebook/react/issues/20750","id":802531572,"node_id":"MDU6SXNzdWU4MDI1MzE1NzI=","number":20750,"title":"Bug: react-hooks/exhaustive-deps false positive when function is casted with TypeScript","user":{"login":"0x24a537r9","id":3403450,"node_id":"MDQ6VXNlcjM0MDM0NTA=","avatar_url":"https://avatars.githubusercontent.com/u/3403450?v=4","gravatar_id":"","url":"https://api.github.com/users/0x24a537r9","html_url":"https://github.com/0x24a537r9","followers_url":"https://api.github.com/users/0x24a537r9/followers","following_url":"https://api.github.com/users/0x24a537r9/following{/other_user}","gists_url":"https://api.github.com/users/0x24a537r9/gists{/gist_id}","starred_url":"https://api.github.com/users/0x24a537r9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/0x24a537r9/subscriptions","organizations_url":"https://api.github.com/users/0x24a537r9/orgs","repos_url":"https://api.github.com/users/0x24a537r9/repos","events_url":"https://api.github.com/users/0x24a537r9/events{/privacy}","received_events_url":"https://api.github.com/users/0x24a537r9/received_events","type":"User","site_admin":false},"labels":[{"id":1249821345,"node_id":"MDU6TGFiZWwxMjQ5ODIxMzQ1","url":"https://api.github.com/repos/facebook/react/labels/Component:%20ESLint%20Rules","name":"Component: ESLint Rules","color":"f7afdb","default":false,"description":""},{"id":155984160,"node_id":"MDU6TGFiZWwxNTU5ODQxNjA=","url":"https://api.github.com/repos/facebook/react/labels/Status:%20Unconfirmed","name":"Status: Unconfirmed","color":"d4c5f9","default":false,"description":"A potential issue that we haven't yet confirmed as a bug"},{"id":40929151,"node_id":"MDU6TGFiZWw0MDkyOTE1MQ==","url":"https://api.github.com/repos/facebook/react/labels/Type:%20Bug","name":"Type: Bug","color":"b60205","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-02-05T23:05:20Z","updated_at":"2021-04-05T07:46:10Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"React version: 17.0.1\r\n\r\n### Steps To Reproduce\r\nSetup eslint with @typescript-eslint/parser as parser\r\nCast a function passed to `useEffect`\r\n\r\n```\r\nimport {useCallback, useEffect} from 'react';\r\n\r\ntype F = (...args: unknown[]) => void;\r\n\r\nfunction MyComp() {\r\n\tconst foo = useCallback(() => {}, []);\r\n\r\n\t// OK\r\n\tuseEffect(() => {\r\n\t\tfoo();\r\n\t}, [foo]);\r\n\r\n\t// WARNS?\r\n\tuseEffect((() => {\r\n\t\tfoo();\r\n\t}) as F, [foo]);\r\n\r\n\treturn 'Hello, world'\r\n}\r\n```\r\n\r\nLink to code example: https://github.com/0x24a537r9/exhaustive-deps-bug\r\n\r\n### The current behavior\r\nThe following error was reported\r\n\r\n```\r\n  14:2  warning  React Hook useEffect received a function whose dependencies are unknown. Pass an inline function instead  \r\n```\r\n\r\n### The expected behavior\r\nThe rule should interpret the function argument correctly and know that it is already inline.","performed_via_github_app":null}]